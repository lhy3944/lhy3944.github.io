(function(){var e={3874:function(e,t,n){"use strict";var o=n(5102),i=n(9269);function a(e,t,n,o,a,c){const r=(0,i.up)("Editor");return(0,i.wg)(),(0,i.j4)(r)}var c=n(3201);const r={class:"container row"},l={class:"actionButtons col-12"},s={class:"left"},d={class:"right"},u={class:"editor col-xs-12 col-md-6"},m={class:"content"},p={ref:"canvasRef"},h={class:"bottom"},g={class:"layer col-xs-12 col-md-6"};function b(e,t,n,a,b,y){const v=(0,i.up)("q-btn"),f=(0,i.up)("Toolbar"),x=(0,i.up)("Layer");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",l,[(0,i._)("div",s,[(0,i.Wm)(v,{class:"q-mr-sm",flat:"",color:"white",size:"sm",icon:"stay_current_landscape",onClick:t[0]||(t[0]=e=>a.onChangeOrientation("L"))}),(0,i.Wm)(v,{class:"q-mr-sm",flat:"",color:"white",size:"sm",icon:"crop_square",onClick:t[1]||(t[1]=e=>a.onChangeOrientation("S"))}),(0,i.Wm)(v,{class:"q-mr-sm",flat:"",color:"white",size:"sm",icon:"stay_current_portrait",onClick:t[2]||(t[2]=e=>a.onChangeOrientation("P"))})]),(0,i._)("div",d,[(0,i.Wm)(v,{round:"",style:{background:"#ffc107",color:"white"},class:"q-mr-lg",icon:"qr_code",size:"md"}),(0,i.Wm)(v,{style:{background:"#ffc107",color:"white"},label:"저장",size:"md",onClick:a.onClickSaveToImage},null,8,["onClick"])])]),(0,i.wy)((0,i._)("div",u,[(0,i._)("div",m,[(0,i._)("div",{id:"canvas-container",class:(0,c.C_)([{landscape:a.isLandscape},{vertical:!a.isLandscape}])},[(0,i._)("canvas",p,null,512)],2)]),(0,i._)("div",h,[(0,i.wy)((0,i.Wm)(f,{activeObject:a.activeObject,onEmit_changeColor:a.changeColor,onEmit_changeFont:a.changeFont,onEmit_changeFontSize:a.changeFontSize},null,8,["activeObject","onEmit_changeColor","onEmit_changeFont","onEmit_changeFontSize"]),[[o.F8,a.showTools]])])],512),[[o.F8,a.isReady]]),(0,i._)("div",g,[a.isReady?((0,i.wg)(),(0,i.j4)(x,{key:0,componentList:a.componentList,activeObjectIndex:a.activeObjectIndex,onEmit_selectObject:a.selectObject,onEmit_changeTextBox:a.changeTextBox,onEmit_changeImage:a.changeImage},null,8,["componentList","activeObjectIndex","onEmit_selectObject","onEmit_changeTextBox","onEmit_changeImage"])):(0,i.kq)("",!0)])])}n(4719);var y=n(6237),v=n(8237);n(2903);const f=e=>((0,i.dD)("data-v-1eb00e5d"),e=e(),(0,i.Cn)(),e),x={class:"tools row justify-between"},L={class:"col-6 textColor"},_=f((()=>(0,i._)("div",{class:"col-6 textFont"},[(0,i._)("div",{id:"font-picker"})],-1))),T={class:"col-12 textFontSize"};function w(e,t,n,o,a,c){const r=(0,i.up)("q-color"),l=(0,i.up)("q-popup-proxy"),s=(0,i.up)("q-icon"),d=(0,i.up)("q-input"),u=(0,i.up)("q-slider");return(0,i.wg)(),(0,i.iD)("div",x,[(0,i._)("div",L,[(0,i.Wm)(d,{filled:"",modelValue:o.color,"onUpdate:modelValue":t[1]||(t[1]=e=>o.color=e),class:"colorPicker"},{append:(0,i.w5)((()=>[(0,i.Wm)(s,{name:"colorize",class:"cursor-pointer"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:o.color,"onUpdate:modelValue":[t[0]||(t[0]=e=>o.color=e),o.onChangeColor],"no-header-tabs":""},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),_,(0,i._)("div",T,[(0,i.Wm)(u,{modelValue:o.fontSize,"onUpdate:modelValue":[t[2]||(t[2]=e=>o.fontSize=e),o.onChangeFontSize],"marker-labels":o.markerLabels,min:5,max:200,class:"q-mt-sm","track-color":"white"},null,8,["modelValue","marker-labels","onUpdate:modelValue"])])])}var z=n(3763),M={name:"Toolbar",emits:["emit_changeColor","emit_changeFont","emit_changeFontSize"],props:{activeObject:Object},setup(e,{emit:t}){const n="AIzaSyAzF9jcH2VStLPUl6JDvj3yuipVM20Os6A",o=(0,y.iH)("#000000"),a=(0,y.iH)(0),c=(0,y.iH)([5,50,100,150,200]);(0,i.YP)(e,(({activeObject:e})=>{e&&(a.value=Math.round(2.62*e.fontSize))})),(0,i.bv)((()=>{r()}));const r=()=>{const e=new z.Z(n,"Open Sans",{limit:30});e.setOnChange((e=>{t("emit_changeFont",e)}))},l=()=>{t("emit_changeColor",o.value)},s=()=>{t("emit_changeFontSize",a.value)};return{color:o,fontSize:a,markerLabels:c,onChangeColor:l,onChangeFontSize:s}}},Y=n(7617),Z=n(9647),k=n(4633),N=n(6162),j=n(3353),O=n(7989),I=n(4553),V=n(1410),G=n.n(V);const C=(0,Y.Z)(M,[["render",w],["__scopeId","data-v-1eb00e5d"]]);var D=C;G()(M,"components",{QInput:Z.Z,QIcon:k.Z,QPopupProxy:N.Z,QColor:j.Z,QSlider:O.Z,QField:I.Z});const B={class:"wrapper"},S={class:"content scroll"},U={key:0,class:"textbox"},E={class:"left"},R={class:"content"},W={key:1,class:"imagebox"},F={class:"right"};function Q(e,t,n,o,a,r){const l=(0,i.up)("q-icon"),s=(0,i.up)("q-input"),d=(0,i.up)("q-img"),u=(0,i.up)("q-file"),m=(0,i.up)("q-btn"),p=(0,i.up)("q-item-section"),h=(0,i.up)("q-item"),g=(0,i.up)("q-list"),b=(0,i.Q2)("ripple");return(0,i.wg)(),(0,i.iD)("div",B,[(0,i._)("div",S,[(0,i.Wm)(g,{bordered:"",separator:""},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.resources,((e,n)=>(0,i.wy)(((0,i.wg)(),(0,i.j4)(h,{key:n,active:o.activeIndex===n,clickable:"","active-class":"active",onClick:e=>o.onClickComponent(n)},{default:(0,i.w5)((()=>[(0,i._)("div",{class:(0,c.C_)(["division",{text:e.text}])},null,2),(0,i.Wm)(p,{class:"item-selection"},{default:(0,i.w5)((()=>[e.text?((0,i.wg)(),(0,i.iD)("div",U,[(0,i._)("div",E,[(0,i.Wm)(l,{size:"24px",name:"text_fields",color:"gray"})]),(0,i._)("div",R,[(0,i.Wm)(s,{modelValue:e.text,"onUpdate:modelValue":[t=>e.text=t,t[0]||(t[0]=e=>o.onChangeTextBox(e))],dense:!0,borderless:"",autogrow:"","input-class":"textEditor"},null,8,["modelValue","onUpdate:modelValue"])])])):((0,i.wg)(),(0,i.iD)("div",W,[(0,i.Wm)(d,{src:e._element.currentSrc,fit:"contain","spinner-size":"32px","spinner-color":"gray",style:{height:"50px","max-width":"50px"}},null,8,["src"]),(0,i.Wm)(u,{ref_for:!0,ref:"imagePickerRef",modelValue:o.pickerImageFile,"onUpdate:modelValue":[t[1]||(t[1]=e=>o.pickerImageFile=e),e=>o.imagePickerHandler(n)],accept:".jpg, .png, image/*",style:{display:"none"}},null,8,["modelValue","onUpdate:modelValue"]),(0,i._)("div",F,[(0,i.Wm)(m,{size:"xs",style:{background:"#ff0080",color:"white"},onClick:e=>o.onClickChangeImage(n)},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{name:"image",size:"24px",color:"gray"})])),_:2},1032,["onClick"])])]))])),_:2},1024)])),_:2},1032,["active","onClick"])),[[b]]))),128))])),_:1})])])}var X={name:"Layer",props:{componentList:Array,activeObjectIndex:Number},emit:["emit_selectObject","emit_changeTextBox","emit_changeImage"],setup(e,{emit:t}){let n=(0,i.Fl)((()=>e.componentList)),o=(0,y.iH)(n.value),a=(0,y.iH)(null),c=(0,y.iH)(null),r=(0,y.iH)(null);(0,i.bv)((()=>{})),(0,i.YP)(e,(({activeObjectIndex:e})=>{-1!=e?l(e):a.value=null}));const l=e=>{a.value=e,t("emit_selectObject",e)},s=e=>{t("emit_changeTextBox",{changeIndex:a.value,changeText:e})},d=e=>{c.value[e].pickFiles()},u=e=>{if(r.value){let n=new FileReader;n.onload=n=>{const o=new Image;o.src=n.target.result,o.onload=()=>{let n=m(o);t("emit_changeImage",{componentIndex:e,base64Image:n})}},n.readAsDataURL(r.value)}},m=e=>{let t=document.createElement("canvas"),n=1024,o=e.width,i=e.height;return o>i?o>n&&(i*=n/o,o=n):i>n&&(o*=n/i,i=n),t.width=o,t.height=i,t.getContext("2d").drawImage(e,0,0,o,i),t.toDataURL("image/jpeg")};return{resources:o,activeIndex:a,imagePickerRef:c,pickerImageFile:r,imagePickerHandler:u,onClickComponent:l,onChangeTextBox:s,onClickChangeImage:d}}},A=n(2146),H=n(5246),J=n(2278),q=n(4711),P=n(8723),K=n(570),$=n(8658);const ee=(0,Y.Z)(X,[["render",Q],["__scopeId","data-v-043a5fe0"]]);var te=ee;G()(X,"components",{QList:A.Z,QItem:H.Z,QItemSection:J.Z,QIcon:k.Z,QInput:Z.Z,QImg:q.Z,QFile:P.Z,QBtn:K.Z}),G()(X,"directives",{Ripple:$.Z});var ne=JSON.parse('{"h":{"id":"33a43a19fad844d99a266855e3f8927e","componentType":"Layout","attributes":{"type":["typeImage2","styleSideHorizontal"],"state":"PublishedUsed","orientation":"Landscape","searchKeyword":{"imageTag":["가정의달","부부의날","반지","주얼리","커플링","커플반지","웨딩","결혼","지하철광고","옥외광고"],"contentTag":["상품","신제품"],"seasonalTag":["봄","봄맞이","꽃"]},"stateChangeDate":1652343631564,"templateRanking":725},"version":9,"created":1652336368100,"lastModified":1661740614749,"label":"KO222001_fas_v01","location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci9mZjFhMDYyYS01OTIxLWEzMDItNTVlZC05MDkxZGViZjM4ZjE","thumbnail":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci9mZjFhMDYyYS01OTIxLWEzMDItNTVlZC05MDkxZGViZjM4ZjE","tags":{"ko_keywords":["ko"],"ko_productcategories":["ae5b1eff35cf4d2db8f3bad6efb95985"]},"categories":{"ko":["이벤트"]},"curatedTags":[],"layout":[{"id":"img1","componentType":"Component","subtype":"Image","attributes":{"size":{"width":840,"height":1080},"origin":{"x":0,"y":0}}},{"id":"img2","componentType":"Component","subtype":"Image","attributes":{"size":{"width":487,"height":351},"origin":{"x":1138,"y":378}}},{"id":"deco_img3","componentType":"Component","subtype":"Sticker","attributes":{"size":{"width":1920,"height":1080},"origin":{"x":0,"y":0}}},{"id":"deco_img4","componentType":"Component","subtype":"Sticker","attributes":{"size":{"width":190,"height":84},"origin":{"x":1280,"y":317}}},{"id":"h1_300w_26h_26lead_vcenter","componentType":"Component","subtype":"TextBox","attributes":{"font":"NEXONLv1GothicLowOTF-Regular","size":{"width":300,"height":26},"origin":{"x":1230,"y":245},"fontsize":25,"font-style":"","multi-line":false,"text-align":"center","font-Weight":400,"text-all-caps":false,"vertical-center":true,"text-line-spacing":26,"max-character-count":999}},{"id":"h2_500w_36h_36lead","componentType":"Component","subtype":"TextBox","attributes":{"font":"Allura","size":{"width":500,"height":36},"origin":{"x":1125,"y":762},"fontsize":34,"font-style":"","multi-line":false,"text-align":"right","font-Weight":400,"text-all-caps":false,"text-line-spacing":36,"max-character-count":999}},{"id":"h3_700w_39h_39lead_vcenter","componentType":"Component","subtype":"TextBox","attributes":{"font":"NEXONLv1GothicLowOTF-Light","size":{"width":700,"height":39},"origin":{"x":1030,"y":930},"fontsize":37,"font-style":"","multi-line":false,"text-align":"center","font-Weight":300,"text-all-caps":false,"vertical-center":true,"text-line-spacing":39,"max-character-count":999}},{"id":"h4_800w_30h_30lead_vcenter","componentType":"Component","subtype":"TextBox","attributes":{"font":"NEXONLv1GothicLowOTF-Regular","size":{"width":800,"height":30},"origin":{"x":981,"y":1000},"fontsize":29,"font-style":"","multi-line":false,"text-align":"center","font-Weight":400,"text-all-caps":false,"vertical-center":true,"text-line-spacing":30,"max-character-count":999}}],"components":[{"id":"img1","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci85MjFkODk3Ni05NWQxLTFmZTYtNTFjYy0yY2FjM2JlYWNkZmY"}},{"id":"img2","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci9mNTEyYmIzZS00YmFjLWQ1MGEtODllYy0xZTZlMWQzZDFiYmU"}},{"id":"deco_img3","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci82MWI2OWRlYS01MDk5LTBhNTgtMmYyNy0wMjNjMzY5ZGM0OTI"}},{"id":"deco_img4","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci9hYTlmNTM2Ni1hMDQ3LTZlNzgtYzY0YS1hZDk5M2UzZjcyYjA"}},{"id":"h1_300w_26h_26lead_vcenter","attributes":{"color":"#594139","content":"M.U JEWELRY"}},{"id":"h2_500w_36h_36lead","attributes":{"color":"#b9895f","content":"a special jewelry "}},{"id":"h3_700w_39h_39lead_vcenter","attributes":{"color":"#815142","content":"커플 주얼리 전문, 엠유주얼리"}},{"id":"h4_800w_30h_30lead_vcenter","attributes":{"color":"#b9895f","content":"웨딩커플링 / 부부의날 선물 / 커플반지 / 다이아반지"}}],"userActionDetail":[]}}'),oe=JSON.parse('{"h":{"id":"a34a0e9ed62d47ae83e131212397b8fb","componentType":"Layout","attributes":{"type":["typeImage1","styleTop"],"state":"PublishedUsed","orientation":"Portrait","searchKeyword":{"imageTag":["가정의달","부부의날","반지","주얼리","커플링","커플반지","웨딩","결혼"],"contentTag":["상품","신제품"],"seasonalTag":["봄","봄맞이","꽃"]},"stateChangeDate":1652343626083,"templateRanking":686},"version":6,"created":1652336417319,"lastModified":1653268641289,"label":"KO222001_fas_v01_vertical","location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci9mYjhiMDNlYy01ODgxLTczMTEtN2JhMy1kYTY4YWJiYWMxMGY","thumbnail":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci9mYjhiMDNlYy01ODgxLTczMTEtN2JhMy1kYTY4YWJiYWMxMGY","tags":{"ko_keywords":["ko"],"ko_productcategories":["ae5b1eff35cf4d2db8f3bad6efb95985"]},"categories":{"ko":["이벤트"]},"curatedTags":[],"layout":[{"id":"img1","componentType":"Component","subtype":"Image","attributes":{"size":{"width":782,"height":564},"origin":{"x":151,"y":939}}},{"id":"deco_img2","componentType":"Component","subtype":"Sticker","attributes":{"size":{"width":1080,"height":1920},"origin":{"x":0,"y":0}}},{"id":"deco_img3","componentType":"Component","subtype":"Sticker","attributes":{"size":{"width":306,"height":135},"origin":{"x":379,"y":841}}},{"id":"h1_700w_39h_39lead_vcenter","componentType":"Component","subtype":"TextBox","attributes":{"font":"NEXONLv1GothicLowOTF-Light","size":{"width":700,"height":39},"origin":{"x":190,"y":340},"fontsize":37,"font-style":"","multi-line":false,"text-align":"center","font-Weight":300,"text-all-caps":false,"vertical-center":true,"text-line-spacing":39,"max-character-count":999}},{"id":"h2_800w_133h_133lead_vcenter","componentType":"Component","subtype":"TextBox","attributes":{"font":"NEXONLv1GothicLowOTF-Regular","size":{"width":800,"height":133},"origin":{"x":140,"y":487},"fontsize":136,"font-style":"","multi-line":false,"text-align":"center","font-Weight":400,"text-all-caps":false,"vertical-center":true,"text-line-spacing":133,"max-character-count":999}},{"id":"h3_800w_109h_109lead_vcenter","componentType":"Component","subtype":"TextBox","attributes":{"font":"NEXONLv1GothicLowOTF-Light","size":{"width":800,"height":109},"origin":{"x":140,"y":650},"fontsize":111,"font-style":"","multi-line":false,"text-align":"center","font-Weight":300,"text-all-caps":false,"vertical-center":true,"text-line-spacing":109,"max-character-count":999}},{"id":"h4_800w_58h_58lead","componentType":"Component","subtype":"TextBox","attributes":{"font":"Allura","size":{"width":800,"height":58},"origin":{"x":133,"y":1557},"fontsize":55,"font-style":"","multi-line":false,"text-align":"right","font-Weight":400,"text-all-caps":false,"text-line-spacing":58,"max-character-count":999}},{"id":"h5_800w_30h_30lead_vcenter","componentType":"Component","subtype":"TextBox","attributes":{"font":"NEXONLv1GothicLowOTF-Regular","size":{"width":800,"height":30},"origin":{"x":140,"y":1771},"fontsize":29,"font-style":"","multi-line":false,"text-align":"center","font-Weight":400,"text-all-caps":false,"vertical-center":true,"text-line-spacing":30,"max-character-count":999}}],"components":[{"id":"img1","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci82OGZmN2ZiMC1mNjFiLTYzZTktZDkxMC03YzhmNzcxMmFlYjA"}},{"id":"deco_img2","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci80MTY4MTFkZS0zYmQ5LWM0MWItNTI2Ny0wMDUxNDAzOTM4NTM"}},{"id":"deco_img3","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci9iNzNhMzk0YS1kZDQzLTkwNTQtOTQxYi1jOWZjZWQ5YTMzNDk"}},{"id":"h1_700w_39h_39lead_vcenter","attributes":{"color":"#815142","content":"커플 주얼리 전문, 엠유주얼리"}},{"id":"h2_800w_133h_133lead_vcenter","attributes":{"color":"#594139","content":"M.U"}},{"id":"h3_800w_109h_109lead_vcenter","attributes":{"color":"#594139","content":"jewelry"}},{"id":"h4_800w_58h_58lead","attributes":{"color":"#b9895f","content":"a special jewelry "}},{"id":"h5_800w_30h_30lead_vcenter","attributes":{"color":"#b9895f","content":"웨딩커플링 / 부부의날 선물 / 커플반지 / 다이아반지"}}],"userActionDetail":[]}}'),ie=JSON.parse('{"h":{"id":"6d36c4384fa74bd49f4b96f0685e4e01","componentType":"Layout","attributes":{"type":["typeImage1","styleTop"],"state":"PublishedUsed","orientation":"Square","searchKeyword":{"imageTag":["가정의달","부부의날","반지","주얼리","커플링","커플반지","웨딩","결혼"],"contentTag":["상품","신제품"],"seasonalTag":["봄","봄맞이","꽃"]},"stateChangeDate":1652343629295,"templateRanking":907},"version":8,"created":1652336271793,"lastModified":1653268618279,"label":"KO222001_fas_v01_square","location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci81ZWM1OWU3MS1hMDRjLTZhMTYtN2EyNC0wMmM5MTJkYjdhYzg","thumbnail":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci81ZWM1OWU3MS1hMDRjLTZhMTYtN2EyNC0wMmM5MTJkYjdhYzg","tags":{"ko_keywords":["ko"],"ko_productcategories":["ae5b1eff35cf4d2db8f3bad6efb95985"]},"categories":{"ko":["이벤트"]},"curatedTags":[],"layout":[{"id":"img1","componentType":"Component","subtype":"Image","attributes":{"size":{"width":782,"height":564},"origin":{"x":151,"y":139}}},{"id":"deco_img2","componentType":"Component","subtype":"Sticker","attributes":{"size":{"width":1080,"height":1080},"origin":{"x":0,"y":0}}},{"id":"deco_img3","componentType":"Component","subtype":"Sticker","attributes":{"size":{"width":306,"height":135},"origin":{"x":379,"y":41}}},{"id":"h1_800w_58h_58lead","componentType":"Component","subtype":"TextBox","attributes":{"font":"Allura","size":{"width":800,"height":58},"origin":{"x":133,"y":757},"fontsize":55,"font-style":"","multi-line":false,"text-align":"right","font-Weight":400,"text-all-caps":false,"text-line-spacing":58,"max-character-count":999}},{"id":"h2_500w_39h_39lead_vcenter","componentType":"Component","subtype":"TextBox","attributes":{"font":"NEXONLv1GothicLowOTF-Regular","size":{"width":500,"height":39},"origin":{"x":290,"y":996},"fontsize":37,"font-style":"","multi-line":false,"text-align":"center","font-Weight":400,"text-all-caps":false,"vertical-center":true,"text-line-spacing":39,"max-character-count":999}}],"components":[{"id":"img1","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci83Mjg1ZDdmZC1hZGI5LTNlOTgtZWEzMy01YzZhNmY5NmE0NTA"}},{"id":"deco_img2","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci8yOTE2ZWQ1OS1hY2I2LTE1ZDQtMzIxYi00ZDZmZGQzMDBlODc"}},{"id":"deco_img3","attributes":{"location":"https://cdn.prod.api.promota.net/dispatcher/0.4/discovery/api/resolvecontent?resource=aHR0cDovL2NjcmVzb3VyY2UtaW50LnByb2QuYXBpLnByb21vdGEubmV0L2NjcmVzb3VyY2UvMy4wL2FwaS9kb3dubG9hZC91cy13ZXN0LTI6MDdjYzU2MDEtYzU1OS00N2Q0LTg2OGItZmY5MmJlZTkzM2IxL3BvcnRhbGZvbGRlci80ZWZhODk0My02MTQ0LWI3ZTUtYjE2Mi0yMzNkYTVmMGYyZWI"}},{"id":"h1_800w_58h_58lead","attributes":{"color":"#b9895f","content":"a special jewelry "}},{"id":"h2_500w_39h_39lead_vcenter","attributes":{"color":"#594139","content":"M.U JEWELRY"}}],"userActionDetail":[]}}'),ae=(n(3957),{name:"Editor",components:{Toolbar:D,Layer:te},setup(){const e=2.62;let t=(0,y.iH)(ne.h),n=null,o=(0,y.iH)(null),a=(0,y.iH)(null),c=(0,y.iH)(-1),r=(0,y.iH)([]),l=(0,y.iH)(!1),s=(0,y.iH)(!1),d=(0,i.Fl)((()=>r.value));const u=(0,i.Fl)((()=>"Portrait"!==t.value?.attributes?.orientation));(0,i.bv)((()=>{n=m(),p(),N()})),(0,i.Jd)((()=>{window.removeEventListener("resize",k)}));const m=()=>{let t=u.value?(1920/e).toString():(1080/e).toString(),n=u.value?(1080/e).toString():(1920/e).toString();return new v.fabric.Canvas(o.value,{preserveObjectStacking:!0,stopContextMenu:!0,isDrawingMode:!1,width:t,height:n,centeredScaling:!0,lockUniScaling:!0,allowTouchScrolling:!0})},p=async()=>{let e=f();e.imageResources&&await g(e.imageResources).then((e=>{h(e)})),e.textResources&&await b(e.textResources);let t=n.getObjects();t.forEach((e=>{e.selectable=!1,e.evented=!1})),r.value=t;let o=new v.fabric.ActiveSelection(t,{canvas:n});o.center(),o.destroy(),s.value=!0},h=t=>{t.forEach((t=>{let o=t.layout,i=new v.fabric.Image(t);i.set({originIndex:t.originIndex,crossOrigin:"Anonymous",left:o.origin.x/e,top:o.origin.y/e,width:o.size.width/e,height:o.size.height/e}),n.add(i),n.renderAll()}))},g=e=>{let t=[],n=0;return new Promise((o=>{e.forEach(((i,a)=>{let c=i.layoutAttributes,r=i.componentAttributes,l=new Image;l.originIndex=i.originIndex,l.index=a,l.src=r.attributes.location,l.layout=c,t.push(l),l.onload=()=>{n+=1,n===e.length&&o(t)}}))}))},b=t=>{t.forEach((t=>{let o=t.componentAttributes,i=t.layoutAttributes;if(o&&i){let a=o.attributes,c=new v.fabric.Textbox(a.content,{originIndex:t.originIndex,fill:a.color,textAlign:i["text-align"],fontFamily:i.font,fontSize:Math.round(i.fontsize/e),width:Math.round(i.size.width/e),height:Math.round(i.size.height/e),left:Math.round(i.origin.x/e),top:Math.round(i.origin.y/e),lockMovementX:!0,lockMovementY:!0,lockScalingX:!0});n.add(c),c.on("scaling",(e=>{console.log(e)})),c.on("editing:entered",(e=>{console.log(e)})),c.on("text:changed",(e=>{console.log(e)})),n.renderAll()}}))},f=()=>{let e={},n=[],o=[],i=[],a=t.value;if(a){let t=a.layout,c=a.components;t&&c&&(t.forEach(((e,t)=>{let a=e.attributes,r=c.find((t=>t.id===e.id)),l={originIndex:t,layoutAttributes:a,componentAttributes:r};"Background"===e.subtype||"Image"===e.subtype||"Sticker"===e.subtype?n.push(l):"TextBox"===e.subtype?o.push(l):"Shape"===e.subtype&&i.push(l)})),e.imageResources=n,e.textResources=o)}return e},x=e=>{let t=e.selected[0],n=t.originIndex;a.value=t,l.value=!!t.text,c.value=n},L=()=>{n.setViewportTransform([1,0,0,1,0,0])},_=()=>{c.value=-1,a.value=null,l.value=!1},T=e=>{n.getActiveObject().set("fill",e),n.renderAll()},w=e=>{n.getActiveObject().set("fontFamily",e.family),n.renderAll()},z=t=>{n.getActiveObject().set("fontSize",Math.round(t/e)),n.renderAll()},M=e=>{n.setActiveObject(n.item(e)),n.renderAll()},Y=e=>{n.renderAll()},Z=e=>{let t=n.item(c.value);var o=t.getBoundingRect();console.log(o),a.value.setSrc(e.base64Image,(()=>{a.value.width,a.value.height;a.value.left=o.left,a.value.top=o.top,a.value.width=o.width,a.value.height=o.height,n.renderAll()}))},k=()=>{let e=n.width;n.getObjects().forEach((t=>{t.set({left:t.getBoundingRect().left*n.width/e+(t.left-t.getBoundingRect().left)}),t.setCoords()})),n.calcOffset(),n.renderAll()},N=()=>{n.on({"selection:updated":x,"selection:created":x}),n.on("selection:cleared",_),n.on("mouse:dblclick",L)},j=()=>{let e=n.toDataURL({format:"jpeg",quality:1});console.log(e)},O=e=>{s.value=!1,n.getObjects().forEach((e=>{n.remove(e)})),"L"===e?t.value=ne.h:"S"===e?t.value=ie.h:"P"===e&&(t.value=oe.h),n=m(),p(),N()};return{isLandscape:u,canvasRef:o,showTools:l,activeObject:a,activeObjectIndex:c,changeColor:T,changeFont:w,changeFontSize:z,componentList:d,isReady:s,selectObject:M,changeTextBox:Y,changeImage:Z,onClickSaveToImage:j,onChangeOrientation:O}}});const ce=(0,Y.Z)(ae,[["render",b],["__scopeId","data-v-d3914570"]]);var re=ce;G()(ae,"components",{QBtn:K.Z});var le={name:"App",components:{Editor:re},setup(){return{}}};const se=(0,Y.Z)(le,[["render",a]]);var de=se,ue=n(751),me={config:{},plugins:{}};const pe=(0,o.ri)(de);pe.use(ue.Z,me),pe.mount("#app")},4960:function(){},6759:function(){},6272:function(){}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,a){if(!o){var c=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],a=e[d][2];for(var r=!0,l=0;l<o.length;l++)(!1&a||c>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(r=!1,a<c&&(c=a));if(r){e.splice(d--,1);var s=i();void 0!==s&&(t=s)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,c=o[0],r=o[1],l=o[2],s=0;if(c.some((function(t){return 0!==e[t]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var d=l(n)}for(t&&t(o);s<c.length;s++)a=c[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self["webpackChunkwebapp_svg_editor"]=self["webpackChunkwebapp_svg_editor"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(3874)}));o=n.O(o)})();
//# sourceMappingURL=app.3aa2bd53.js.map