(self["webpackChunkwebapp_svg_editor"]=self["webpackChunkwebapp_svg_editor"]||[]).push([[998],{4686:function(t,e,n){"use strict";n.d(e,{Z:function(){return A}});n(4719);var i=n(9269),r=n(6237),o=n(5102),s=n(4633),a=n(2605),l=n(8658),u=n(3994),c=n(505),h=n(2453);const f={none:0,xs:4,sm:8,md:16,lg:24,xl:32},d={xs:8,sm:10,md:14,lg:20,xl:24},p=["button","submit","reset"],v=/[^\s]\/[^\s]/,g=["flat","outline","push","unelevated"],m=(t,e)=>!0===t.flat?"flat":!0===t.outline?"outline":!0===t.push?"push":!0===t.unelevated?"unelevated":e,y={...c.LU,...h.$,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...g.reduce(((t,e)=>(t[e]=Boolean)&&t),{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...u.jO.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function b(t){const e=(0,c.ZP)(t,d),n=(0,u.ZP)(t),{hasRouterLink:r,hasLink:o,linkTag:s,linkAttrs:a,navigateOnClick:l}=(0,h.Z)({fallbackTag:"button"}),g=(0,i.Fl)((()=>{const n=!1===t.fab&&!1===t.fabMini?e.value:{};return void 0!==t.padding?Object.assign({},n,{padding:t.padding.split(/\s+/).map((t=>t in f?f[t]+"px":t)).join(" "),minWidth:"0",minHeight:"0"}):n})),y=(0,i.Fl)((()=>!0===t.rounded||!0===t.fab||!0===t.fabMini)),b=(0,i.Fl)((()=>!0!==t.disable&&!0!==t.loading)),_=(0,i.Fl)((()=>!0===b.value?t.tabindex||0:-1)),w=(0,i.Fl)((()=>m(t,"standard"))),x=(0,i.Fl)((()=>{const e={tabindex:_.value};return!0===o.value?Object.assign(e,a.value):!0===p.includes(t.type)&&(e.type=t.type),"a"===s.value?(!0===t.disable?e["aria-disabled"]="true":void 0===e.href&&(e.role="button"),!0!==r.value&&!0===v.test(t.type)&&(e.type=t.type)):!0===t.disable&&(e.disabled="",e["aria-disabled"]="true"),!0===t.loading&&void 0!==t.percentage&&Object.assign(e,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),e})),S=(0,i.Fl)((()=>{let e;void 0!==t.color?e=!0===t.flat||!0===t.outline?`text-${t.textColor||t.color}`:`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(e=`text-${t.textColor}`);const n=!0===t.round?"round":"rectangle"+(!0===y.value?" q-btn--rounded":!0===t.square?" q-btn--square":"");return`q-btn--${w.value} q-btn--${n}`+(void 0!==e?" "+e:"")+(!0===b.value?" q-btn--actionable q-focusable q-hoverable":!0===t.disable?" disabled":"")+(!0===t.fab?" q-btn--fab":!0===t.fabMini?" q-btn--fab-mini":"")+(!0===t.noCaps?" q-btn--no-uppercase":"")+(!0===t.dense?" q-btn--dense":"")+(!0===t.stretch?" no-border-radius self-stretch":"")+(!0===t.glossy?" glossy":"")+(t.square?" q-btn--square":"")})),C=(0,i.Fl)((()=>n.value+(!0===t.stack?" column":" row")+(!0===t.noWrap?" no-wrap text-no-wrap":"")+(!0===t.loading?" q-btn__content--hidden":"")));return{classes:S,style:g,innerClasses:C,attributes:x,hasLink:o,linkTag:s,navigateOnClick:l,isActionable:b}}var _=n(3856),w=n(64),x=n(3027),S=n(6809);const{passiveCapture:C}=x.rU;let T=null,k=null,O=null;var A=(0,_.L)({name:"QBtn",props:{...y,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:n}){const{proxy:u}=(0,i.FN)(),{classes:c,style:h,innerClasses:f,attributes:d,hasLink:p,linkTag:v,navigateOnClick:g,isActionable:m}=b(t),y=(0,r.iH)(null),_=(0,r.iH)(null);let A,E,F=null;const M=(0,i.Fl)((()=>void 0!==t.label&&null!==t.label&&""!==t.label)),P=(0,i.Fl)((()=>!0!==t.disable&&!1!==t.ripple&&{keyCodes:!0===p.value?[13,32]:[13],...!0===t.ripple?{}:t.ripple})),j=(0,i.Fl)((()=>({center:t.round}))),R=(0,i.Fl)((()=>{const e=Math.max(0,Math.min(100,t.percentage));return e>0?{transition:"transform 0.6s",transform:`translateX(${e-100}%)`}:{}})),L=(0,i.Fl)((()=>{if(!0===t.loading)return{onMousedown:W,onTouchstart:W,onClick:W,onKeydown:W,onKeyup:W};if(!0===m.value){const e={onClick:I,onKeydown:z,onMousedown:q};if(!0===u.$q.platform.has.touch){const n=void 0!==t.onTouchstart?"":"Passive";e[`onTouchstart${n}`]=B}return e}return{onClick:x.NS}})),D=(0,i.Fl)((()=>({ref:y,class:"q-btn q-btn-item non-selectable no-outline "+c.value,style:h.value,...d.value,...L.value})));function I(e){if(null!==y.value){if(void 0!==e){if(!0===e.defaultPrevented)return;const n=document.activeElement;if("submit"===t.type&&n!==document.body&&!1===y.value.contains(n)&&!1===n.contains(y.value)){y.value.focus();const t=()=>{document.removeEventListener("keydown",x.NS,!0),document.removeEventListener("keyup",t,C),null!==y.value&&y.value.removeEventListener("blur",t,C)};document.addEventListener("keydown",x.NS,!0),document.addEventListener("keyup",t,C),y.value.addEventListener("blur",t,C)}}g(e)}}function z(t){null!==y.value&&(n("keydown",t),!0===(0,S.So)(t,[13,32])&&k!==y.value&&(null!==k&&V(),!0!==t.defaultPrevented&&(y.value.focus(),k=y.value,y.value.classList.add("q-btn--active"),document.addEventListener("keyup",H,!0),y.value.addEventListener("blur",H,C)),(0,x.NS)(t)))}function B(t){null!==y.value&&(n("touchstart",t),!0!==t.defaultPrevented&&(T!==y.value&&(null!==T&&V(),T=y.value,F=t.target,F.addEventListener("touchcancel",H,C),F.addEventListener("touchend",H,C)),A=!0,clearTimeout(E),E=setTimeout((()=>{A=!1}),200)))}function q(t){null!==y.value&&(t.qSkipRipple=!0===A,n("mousedown",t),!0!==t.defaultPrevented&&O!==y.value&&(null!==O&&V(),O=y.value,y.value.classList.add("q-btn--active"),document.addEventListener("mouseup",H,C)))}function H(t){if(null!==y.value&&(void 0===t||"blur"!==t.type||document.activeElement!==y.value)){if(void 0!==t&&"keyup"===t.type){if(k===y.value&&!0===(0,S.So)(t,[13,32])){const e=new MouseEvent("click",t);e.qKeyEvent=!0,!0===t.defaultPrevented&&(0,x.X$)(e),!0===t.cancelBubble&&(0,x.sT)(e),y.value.dispatchEvent(e),(0,x.NS)(t),t.qKeyEvent=!0}n("keyup",t)}V()}}function V(t){const e=_.value;!0===t||T!==y.value&&O!==y.value||null===e||e===document.activeElement||(e.setAttribute("tabindex",-1),e.focus()),T===y.value&&(null!==F&&(F.removeEventListener("touchcancel",H,C),F.removeEventListener("touchend",H,C)),T=F=null),O===y.value&&(document.removeEventListener("mouseup",H,C),O=null),k===y.value&&(document.removeEventListener("keyup",H,!0),null!==y.value&&y.value.removeEventListener("blur",H,C),k=null),null!==y.value&&y.value.classList.remove("q-btn--active")}function W(t){(0,x.NS)(t),t.qSkipRipple=!0}return(0,i.Jd)((()=>{V(!0)})),Object.assign(u,{click:I}),()=>{let n=[];void 0!==t.icon&&n.push((0,i.h)(s.Z,{name:t.icon,left:!1===t.stack&&!0===M.value,role:"img","aria-hidden":"true"})),!0===M.value&&n.push((0,i.h)("span",{class:"block"},[t.label])),n=(0,w.vs)(e.default,n),void 0!==t.iconRight&&!1===t.round&&n.push((0,i.h)(s.Z,{name:t.iconRight,right:!1===t.stack&&!0===M.value,role:"img","aria-hidden":"true"}));const r=[(0,i.h)("span",{class:"q-focus-helper",ref:_})];return!0===t.loading&&void 0!==t.percentage&&r.push((0,i.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"+(!0===t.darkPercentage?" q-btn__progress--dark":"")},[(0,i.h)("span",{class:"q-btn__progress-indicator fit block",style:R.value})])),r.push((0,i.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+f.value},n)),null!==t.loading&&r.push((0,i.h)(o.uT,{name:"q-transition--fade"},(()=>!0===t.loading?[(0,i.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==e.loading?e.loading():[(0,i.h)(a.Z)])]:null))),(0,i.wy)((0,i.h)(v.value,D.value,r),[[l.Z,P.value,void 0,j.value]])}}})},8055:function(t,e,n){"use strict";var i=n(9269),r=n(6597),o=n(3856),s=n(64);e["Z"]=(0,o.L)({name:"QCard",props:{...r.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=(0,i.FN)(),o=(0,r.Z)(t,n),a=(0,i.Fl)((()=>"q-card"+(!0===o.value?" q-card--dark q-dark":"")+(!0===t.bordered?" q-card--bordered":"")+(!0===t.square?" q-card--square no-border-radius":"")+(!0===t.flat?" q-card--flat no-shadow":"")));return()=>(0,i.h)(t.tag,{class:a.value},(0,s.KR)(e.default))}})},4333:function(t,e,n){"use strict";var i=n(9269),r=n(3994),o=n(3856),s=n(64);e["Z"]=(0,o.L)({name:"QCardActions",props:{...r.jO,vertical:Boolean},setup(t,{slots:e}){const n=(0,r.ZP)(t),o=(0,i.Fl)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===t.vertical?"vert column":"horiz row")));return()=>(0,i.h)("div",{class:o.value},(0,s.KR)(e.default))}})},1384:function(t,e,n){"use strict";n(4719);var i=n(9269),r=n(4633),o=n(8658),s=n(6597),a=n(505),l=n(3856),u=n(3027),c=n(64);const h={xs:8,sm:10,md:14,lg:20,xl:24};e["Z"]=(0,l.L)({name:"QChip",props:{...s.S,...a.LU,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:e,emit:n}){const{proxy:{$q:l}}=(0,i.FN)(),f=(0,s.Z)(t,l),d=(0,a.ZP)(t,h),p=(0,i.Fl)((()=>!0===t.selected||void 0!==t.icon)),v=(0,i.Fl)((()=>!0===t.selected?t.iconSelected||l.iconSet.chip.selected:t.icon)),g=(0,i.Fl)((()=>t.iconRemove||l.iconSet.chip.remove)),m=(0,i.Fl)((()=>!1===t.disable&&(!0===t.clickable||null!==t.selected))),y=(0,i.Fl)((()=>{const e=!0===t.outline&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(!1===t.outline&&void 0!==t.color?` bg-${t.color}`:"")+(e?` text-${e} q-chip--colored`:"")+(!0===t.disable?" disabled":"")+(!0===t.dense?" q-chip--dense":"")+(!0===t.outline?" q-chip--outline":"")+(!0===t.selected?" q-chip--selected":"")+(!0===m.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===t.square?" q-chip--square":"")+(!0===f.value?" q-chip--dark q-dark":"")})),b=(0,i.Fl)((()=>{const e=!0===t.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0},n={...e,role:"button","aria-hidden":"false","aria-label":t.removeAriaLabel||l.lang.label.remove};return{chip:e,remove:n}}));function _(t){13===t.keyCode&&w(t)}function w(e){t.disable||(n("update:selected",!t.selected),n("click",e))}function x(e){void 0!==e.keyCode&&13!==e.keyCode||((0,u.NS)(e),!1===t.disable&&(n("update:modelValue",!1),n("remove")))}function S(){const n=[];!0===m.value&&n.push((0,i.h)("div",{class:"q-focus-helper"})),!0===p.value&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const o=void 0!==t.label?[(0,i.h)("div",{class:"ellipsis"},[t.label])]:void 0;return n.push((0,i.h)("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},(0,c.pf)(e.default,o))),t.iconRight&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),!0===t.removable&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...b.value.remove,onClick:x,onKeyup:x})),n}return()=>{if(!1===t.modelValue)return;const e={class:y.value,style:d.value};return!0===m.value&&Object.assign(e,b.value.chip,{onClick:w,onKeyup:_}),(0,c.Jl)("div",e,S(),"ripple",!1!==t.ripple&&!0!==t.disable,(()=>[[o.Z,t.ripple]]))}}})},6527:function(t,e,n){"use strict";n.d(e,{Z:function(){return at}});n(4719),n(3352);var i=n(9269),r=n(6237),o=n(1019),s=n(7989),a=n(4633),l=n(1013);function u(){const t=(0,r.iH)(!l.uX.value);return!1===t.value&&(0,i.bv)((()=>{t.value=!0})),t}var c=n(3856),h=n(3027);const f="undefined"!==typeof ResizeObserver,d=!0===f?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var p=(0,c.L)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:e}){let n,r=null,o={width:-1,height:-1};function s(e){!0===e||0===t.debounce||"0"===t.debounce?a():null===r&&(r=setTimeout(a,t.debounce))}function a(){if(clearTimeout(r),r=null,n){const{offsetWidth:t,offsetHeight:i}=n;t===o.width&&i===o.height||(o={width:t,height:i},e("resize",o))}}const{proxy:l}=(0,i.FN)();if(!0===f){let c;const p=t=>{n=l.$el.parentNode,n?(c=new ResizeObserver(s),c.observe(n),a()):!0!==t&&(0,i.Y3)((()=>{p(!0)}))};return(0,i.bv)((()=>{p()})),(0,i.Jd)((()=>{clearTimeout(r),void 0!==c&&(void 0!==c.disconnect?c.disconnect():n&&c.unobserve(n))})),h.ZT}{const v=u();let g;function m(){clearTimeout(r),void 0!==g&&(void 0!==g.removeEventListener&&g.removeEventListener("resize",s,h.rU.passive),g=void 0)}function y(){m(),n&&n.contentDocument&&(g=n.contentDocument.defaultView,g.addEventListener("resize",s,h.rU.passive),a())}return(0,i.bv)((()=>{(0,i.Y3)((()=>{n=l.$el,n&&y()}))})),(0,i.Jd)(m),l.trigger=s,()=>{if(!0===v.value)return(0,i.h)("object",{style:d.style,tabindex:-1,type:"text/html",data:d.url,"aria-hidden":"true",onLoad:y})}}}}),v=n(6775),g=n(7933),m=n(64),y=n(4300),b=n(3979);function _(t,e,n){const i=!0===n?["left","right"]:["top","bottom"];return`absolute-${!0===e?i[0]:i[1]}${t?` text-${t}`:""}`}const w=["left","center","right","justify"];var x=(0,c.L)({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>w.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:o}=(0,i.FN)(),{$q:s}=o,{registerTick:l}=(0,v.Z)(),{registerTick:u}=(0,v.Z)(),{registerTick:c}=(0,v.Z)(),{registerTimeout:f,removeTimeout:d}=(0,g.Z)(),{registerTimeout:w,removeTimeout:x}=(0,g.Z)(),S=(0,r.iH)(null),C=(0,r.iH)(null),T=(0,r.iH)(t.modelValue),k=(0,r.iH)(!1),O=(0,r.iH)(!0),A=(0,r.iH)(!1),E=(0,r.iH)(!1),F=(0,i.Fl)((()=>!0===s.platform.is.desktop||!0===t.mobileArrows)),M=[],P=(0,r.iH)(0),j=(0,r.iH)(!1);let R,L,D,I=!0===F.value?K:h.ZT;const z=(0,i.Fl)((()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:_(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps}))),B=(0,i.Fl)((()=>{const t=P.value,e=T.value;for(let n=0;n<t;n++)if(M[n].name.value===e)return!0;return!1})),q=(0,i.Fl)((()=>{const e=!0===k.value?"left":!0===E.value?"justify":t.align;return`q-tabs__content--align-${e}`})),H=(0,i.Fl)((()=>`q-tabs row no-wrap items-center q-tabs--${!0===k.value?"":"not-"}scrollable q-tabs--`+(!0===t.vertical?"vertical":"horizontal")+" q-tabs__arrows--"+(!0===F.value&&!0===t.outsideArrows?"outside":"inside")+(!0===t.dense?" q-tabs--dense":"")+(!0===t.shrink?" col-shrink":"")+(!0===t.stretch?" self-stretch":""))),V=(0,i.Fl)((()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+q.value+(void 0!==t.contentClass?` ${t.contentClass}`:"")+(!0===s.platform.is.mobile?" scroll":""))),W=(0,i.Fl)((()=>!0===t.vertical?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"})),N=(0,i.Fl)((()=>!0!==t.vertical&&!0===s.lang.rtl)),U=(0,i.Fl)((()=>!1===b.e&&!0===N.value));function Y({name:e,setCurrent:i,skipEmit:r,fromRoute:o}){T.value!==e&&(!0!==r&&void 0!==t["onUpdate:modelValue"]&&n("update:modelValue",e),!0!==i&&void 0!==t["onUpdate:modelValue"]||(G(T.value,e),T.value=e))}function X(){l((()=>{$({width:S.value.offsetWidth,height:S.value.offsetHeight})}))}function $(e){if(void 0===W.value||null===C.value)return;const n=e[W.value.container],i=Math.min(C.value[W.value.scroll],Array.prototype.reduce.call(C.value.children,((t,e)=>t+(e[W.value.content]||0)),0)),r=n>0&&i>n;k.value=r,!0===r&&u(I),E.value=n<parseInt(t.breakpoint,10)}function G(e,n){const i=void 0!==e&&null!==e&&""!==e?M.find((t=>t.name.value===e)):null,r=void 0!==n&&null!==n&&""!==n?M.find((t=>t.name.value===n)):null;if(i&&r){const e=i.tabIndicatorRef.value,n=r.tabIndicatorRef.value;clearTimeout(R),e.style.transition="none",e.style.transform="none",n.style.transition="none",n.style.transform="none";const o=e.getBoundingClientRect(),s=n.getBoundingClientRect();n.style.transform=!0===t.vertical?`translate3d(0,${o.top-s.top}px,0) scale3d(1,${s.height?o.height/s.height:1},1)`:`translate3d(${o.left-s.left}px,0,0) scale3d(${s.width?o.width/s.width:1},1,1)`,c((()=>{R=setTimeout((()=>{n.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",n.style.transform="none"}),70)}))}r&&!0===k.value&&Z(r.rootRef.value)}function Z(e){const{left:n,width:i,top:r,height:o}=C.value.getBoundingClientRect(),s=e.getBoundingClientRect();let a=!0===t.vertical?s.top-r:s.left-n;if(a<0)return C.value[!0===t.vertical?"scrollTop":"scrollLeft"]+=Math.floor(a),void I();a+=!0===t.vertical?s.height-o:s.width-i,a>0&&(C.value[!0===t.vertical?"scrollTop":"scrollLeft"]+=Math.ceil(a),I())}function K(){const e=C.value;if(null!==e){const n=e.getBoundingClientRect(),i=!0===t.vertical?e.scrollTop:Math.abs(e.scrollLeft);!0===N.value?(O.value=Math.ceil(i+n.width)<e.scrollWidth-1,A.value=i>0):(O.value=i>0,A.value=!0===t.vertical?Math.ceil(i+n.height)<e.scrollHeight:Math.ceil(i+n.width)<e.scrollWidth)}}function J(t){et(),L=setInterval((()=>{!0===rt(t)&&et()}),5)}function Q(){J(!0===U.value?Number.MAX_SAFE_INTEGER:0)}function tt(){J(!0===U.value?0:Number.MAX_SAFE_INTEGER)}function et(){clearInterval(L)}function nt(e,n){const i=Array.prototype.filter.call(C.value.children,(t=>t===n||t.matches&&!0===t.matches(".q-tab.q-focusable"))),r=i.length;if(0===r)return;if(36===e)return Z(i[0]),i[0].focus(),!0;if(35===e)return Z(i[r-1]),i[r-1].focus(),!0;const o=e===(!0===t.vertical?38:37),s=e===(!0===t.vertical?40:39),a=!0===o?-1:!0===s?1:void 0;if(void 0!==a){const t=!0===N.value?-1:1,e=i.indexOf(n)+a*t;return e>=0&&e<r&&(Z(i[e]),i[e].focus({preventScroll:!0})),!0}}(0,i.YP)(N,I),(0,i.YP)((()=>t.modelValue),(t=>{Y({name:t,setCurrent:!0,skipEmit:!0})})),(0,i.YP)((()=>t.outsideArrows),(()=>{X()})),(0,i.YP)(F,(t=>{I=!0===t?K:h.ZT,X()}));const it=(0,i.Fl)((()=>!0===U.value?{get:t=>Math.abs(t.scrollLeft),set:(t,e)=>{t.scrollLeft=-e}}:!0===t.vertical?{get:t=>t.scrollTop,set:(t,e)=>{t.scrollTop=e}}:{get:t=>t.scrollLeft,set:(t,e)=>{t.scrollLeft=e}}));function rt(t){const e=C.value,{get:n,set:i}=it.value;let r=!1,o=n(e);const s=t<o?-1:1;return o+=5*s,o<0?(r=!0,o=0):(-1===s&&o<=t||1===s&&o>=t)&&(r=!0,o=t),i(e,o),I(),r}function ot(t,e){for(const n in t)if(t[n]!==e[n])return!1;return!0}function st(){let t=null,e={matchedLen:0,queryDiff:9999,hrefLen:0};const n=M.filter((t=>void 0!==t.routeData&&!0===t.routeData.hasRouterLink.value)),{hash:i,query:r}=o.$route,s=Object.keys(r).length;for(const o of n){const n=!0===o.routeData.exact.value;if(!0!==o.routeData[!0===n?"linkIsExactActive":"linkIsActive"].value)continue;const{hash:a,query:l,matched:u,href:c}=o.routeData.resolvedLink.value,h=Object.keys(l).length;if(!0===n){if(a!==i)continue;if(h!==s||!1===ot(r,l))continue;t=o.name.value;break}if(""!==a&&a!==i)continue;if(0!==h&&!1===ot(l,r))continue;const f={matchedLen:u.length,queryDiff:s-h,hrefLen:c.length-a.length};if(f.matchedLen>e.matchedLen)t=o.name.value,e=f;else if(f.matchedLen===e.matchedLen){if(f.queryDiff<e.queryDiff)t=o.name.value,e=f;else if(f.queryDiff!==e.queryDiff)continue;f.hrefLen>e.hrefLen&&(t=o.name.value,e=f)}}null===t&&!0===M.some((t=>void 0===t.routeData&&t.name.value===T.value))||Y({name:t,setCurrent:!0})}function at(t){if(d(),!0!==j.value&&null!==S.value&&t.target&&"function"===typeof t.target.closest){const e=t.target.closest(".q-tab");e&&!0===S.value.contains(e)&&(j.value=!0,!0===k.value&&Z(e))}}function lt(){f((()=>{j.value=!1}),30)}function ut(){!1===dt.avoidRouteWatcher?w(st):x()}function ct(){if(void 0===D){const t=(0,i.YP)((()=>o.$route.fullPath),ut);D=()=>{t(),D=void 0}}}function ht(t){M.push(t),P.value++,X(),void 0===t.routeData||void 0===o.$route?w((()=>{if(!0===k.value){const t=T.value,e=void 0!==t&&null!==t&&""!==t?M.find((e=>e.name.value===t)):null;e&&Z(e.rootRef.value)}})):(ct(),!0===t.routeData.hasRouterLink.value&&ut())}function ft(t){M.splice(M.indexOf(t),1),P.value--,X(),void 0!==D&&void 0!==t.routeData&&(!0===M.every((t=>void 0===t.routeData))&&D(),ut())}const dt={currentModel:T,tabProps:z,hasFocus:j,hasActiveTab:B,registerTab:ht,unregisterTab:ft,verifyRouteModel:ut,updateModel:Y,onKbdNavigate:nt,avoidRouteWatcher:!1};function pt(){clearTimeout(R),et(),void 0!==D&&D()}let vt;return(0,i.JJ)(y.Nd,dt),(0,i.Jd)(pt),(0,i.se)((()=>{vt=void 0!==D,pt()})),(0,i.dl)((()=>{!0===vt&&ct(),X()})),()=>{const n=[(0,i.h)(p,{onResize:$}),(0,i.h)("div",{ref:C,class:V.value,onScroll:I},(0,m.KR)(e.default))];return!0===F.value&&n.push((0,i.h)(a.Z,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(!0===O.value?"":" q-tabs__arrow--faded"),name:t.leftIcon||s.iconSet.tabs[!0===t.vertical?"up":"left"],onMousedownPassive:Q,onTouchstartPassive:Q,onMouseupPassive:et,onMouseleavePassive:et,onTouchendPassive:et}),(0,i.h)(a.Z,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(!0===A.value?"":" q-tabs__arrow--faded"),name:t.rightIcon||s.iconSet.tabs[!0===t.vertical?"down":"right"],onMousedownPassive:tt,onTouchstartPassive:tt,onMouseupPassive:et,onMouseleavePassive:et,onTouchendPassive:et})),(0,i.h)("div",{ref:S,class:H.value,role:"tablist",onFocusin:at,onFocusout:lt},n)}}}),S=n(8658),C=n(6809),T=n(1878),k=n(3704);let O=0;const A=["click","keydown"],E={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>"t_"+O++},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function F(t,e,n,o){const s=(0,i.f3)(y.Nd,y.qO);if(s===y.qO)return console.error("QTab/QRouteTab component needs to be child of QTabs"),y.qO;const{proxy:l}=(0,i.FN)(),u=(0,r.iH)(null),c=(0,r.iH)(null),f=(0,r.iH)(null),d=(0,i.Fl)((()=>!0!==t.disable&&!1!==t.ripple&&Object.assign({keyCodes:[13,32],early:!0},!0===t.ripple?{}:t.ripple))),p=(0,i.Fl)((()=>s.currentModel.value===t.name)),v=(0,i.Fl)((()=>"q-tab relative-position self-stretch flex flex-center text-center"+(!0===p.value?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&!1===s.tabProps.value.inlineLabel?" q-tab--full":"")+(!0===t.noCaps||!0===s.tabProps.value.noCaps?" q-tab--no-caps":"")+(!0===t.disable?" disabled":" q-focusable q-hoverable cursor-pointer")+(void 0!==o?o.linkClass.value:""))),g=(0,i.Fl)((()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(!0===s.tabProps.value.inlineLabel?"row no-wrap q-tab__content--inline":"column")+(void 0!==t.contentClass?` ${t.contentClass}`:""))),b=(0,i.Fl)((()=>!0===t.disable||!0===s.hasFocus.value||!1===p.value&&!0===s.hasActiveTab.value?-1:t.tabindex||0));function _(e,i){if(!0!==i&&null!==u.value&&u.value.focus(),!0!==t.disable){if(void 0===o)return s.updateModel({name:t.name}),void n("click",e);if(!0===o.hasRouterLink.value){const i=(n={})=>{let i;const r=void 0===n.to||!0===(0,k.xb)(n.to,t.to)?s.avoidRouteWatcher=(0,T.Z)():null;return o.navigateToRouterLink(e,{...n,returnRouterError:!0}).catch((t=>{i=t})).then((e=>{if(r===s.avoidRouteWatcher&&(s.avoidRouteWatcher=!1,void 0!==i||void 0!==e&&!0!==e.message.startsWith("Avoided redundant navigation")||s.updateModel({name:t.name})),!0===n.returnRouterError)return void 0!==i?Promise.reject(i):e}))};return n("click",e,i),void(!0!==e.defaultPrevented&&i())}n("click",e)}else void 0!==o&&!0===o.hasRouterLink.value&&(0,h.NS)(e)}function w(t){(0,C.So)(t,[13,32])?_(t,!0):!0!==(0,C.Wm)(t)&&t.keyCode>=35&&t.keyCode<=40&&!0!==t.altKey&&!0!==t.metaKey&&!0===s.onKbdNavigate(t.keyCode,l.$el)&&(0,h.NS)(t),n("keydown",t)}function x(){const n=s.tabProps.value.narrowIndicator,r=[],o=(0,i.h)("div",{ref:f,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});void 0!==t.icon&&r.push((0,i.h)(a.Z,{class:"q-tab__icon",name:t.icon})),void 0!==t.label&&r.push((0,i.h)("div",{class:"q-tab__label"},t.label)),!1!==t.alert&&r.push(void 0!==t.alertIcon?(0,i.h)(a.Z,{class:"q-tab__alert-icon",color:!0!==t.alert?t.alert:void 0,name:t.alertIcon}):(0,i.h)("div",{class:"q-tab__alert"+(!0!==t.alert?` text-${t.alert}`:"")})),!0===n&&r.push(o);const l=[(0,i.h)("div",{class:"q-focus-helper",tabindex:-1,ref:u}),(0,i.h)("div",{class:g.value},(0,m.vs)(e.default,r))];return!1===n&&l.push(o),l}const O={name:(0,i.Fl)((()=>t.name)),rootRef:c,tabIndicatorRef:f,routeData:o};function A(e,n){const r={ref:c,class:v.value,tabindex:b.value,role:"tab","aria-selected":!0===p.value?"true":"false","aria-disabled":!0===t.disable?"true":void 0,onClick:_,onKeydown:w,...n};return(0,i.wy)((0,i.h)(e,r,x()),[[S.Z,d.value]])}return(0,i.Jd)((()=>{s.unregisterTab(O)})),(0,i.bv)((()=>{s.registerTab(O)})),{renderTab:A,$tabs:s}}var M=(0,c.L)({name:"QTab",props:E,emits:A,setup(t,{slots:e,emit:n}){const{renderTab:i}=F(t,e,n);return()=>i("div")}}),P=n(6597),j=n(5102),R=n(4781),L=n(1307);function D(t){const e=[.06,6,50];return"string"===typeof t&&t.length&&t.split(":").forEach(((t,n)=>{const i=parseFloat(t);i&&(e[n]=i)})),e}var I=(0,c.f)({name:"touch-swipe",beforeMount(t,{value:e,arg:n,modifiers:i}){if(!0!==i.mouse&&!0!==l.Lp.has.touch)return;const r=!0===i.mouseCapture?"Capture":"",o={handler:e,sensitivity:D(n),direction:(0,R.R)(i),noop:h.ZT,mouseStart(t){(0,R.n)(t,o)&&(0,h.du)(t)&&((0,h.M0)(o,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(t,!0))},touchStart(t){if((0,R.n)(t,o)){const e=t.target;(0,h.M0)(o,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","notPassiveCapture"],[e,"touchend","end","notPassiveCapture"]]),o.start(t)}},start(e,n){!0===l.Lp.is.firefox&&(0,h.Jf)(t,!0);const i=(0,h.FK)(e);o.event={x:i.left,y:i.top,time:Date.now(),mouse:!0===n,dir:!1}},move(t){if(void 0===o.event)return;if(!1!==o.event.dir)return void(0,h.NS)(t);const e=Date.now()-o.event.time;if(0===e)return;const n=(0,h.FK)(t),i=n.left-o.event.x,r=Math.abs(i),s=n.top-o.event.y,a=Math.abs(s);if(!0!==o.event.mouse){if(r<o.sensitivity[1]&&a<o.sensitivity[1])return void o.end(t)}else if(r<o.sensitivity[2]&&a<o.sensitivity[2])return;const l=r/e,u=a/e;!0===o.direction.vertical&&r<a&&r<100&&u>o.sensitivity[0]&&(o.event.dir=s<0?"up":"down"),!0===o.direction.horizontal&&r>a&&a<100&&l>o.sensitivity[0]&&(o.event.dir=i<0?"left":"right"),!0===o.direction.up&&r<a&&s<0&&r<100&&u>o.sensitivity[0]&&(o.event.dir="up"),!0===o.direction.down&&r<a&&s>0&&r<100&&u>o.sensitivity[0]&&(o.event.dir="down"),!0===o.direction.left&&r>a&&i<0&&a<100&&l>o.sensitivity[0]&&(o.event.dir="left"),!0===o.direction.right&&r>a&&i>0&&a<100&&l>o.sensitivity[0]&&(o.event.dir="right"),!1!==o.event.dir?((0,h.NS)(t),!0===o.event.mouse&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,L.M)(),o.styleCleanup=t=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const e=()=>{document.body.classList.remove("no-pointer-events--children")};!0===t?setTimeout(e,50):e()}),o.handler({evt:t,touch:!0!==o.event.mouse,mouse:o.event.mouse,direction:o.event.dir,duration:e,distance:{x:r,y:a}})):o.end(t)},end(e){void 0!==o.event&&((0,h.ul)(o,"temp"),!0===l.Lp.is.firefox&&(0,h.Jf)(t,!1),void 0!==o.styleCleanup&&o.styleCleanup(!0),void 0!==e&&!1!==o.event.dir&&(0,h.NS)(e),o.event=void 0)}};if(t.__qtouchswipe=o,!0===i.mouse){const e=!0===i.mouseCapture||!0===i.mousecapture?"Capture":"";(0,h.M0)(o,"main",[[t,"mousedown","mouseStart",`passive${e}`]])}!0===l.Lp.has.touch&&(0,h.M0)(o,"main",[[t,"touchstart","touchStart","passive"+(!0===i.capture?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchswipe;void 0!==n&&(e.oldValue!==e.value&&("function"!==typeof e.value&&n.end(),n.handler=e.value),n.direction=(0,R.R)(e.modifiers))},beforeUnmount(t){const e=t.__qtouchswipe;void 0!==e&&((0,h.ul)(e,"main"),(0,h.ul)(e,"temp"),!0===l.Lp.is.firefox&&(0,h.Jf)(t,!1),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchswipe)}});function z(){const t=new Map;return{getCache:function(e,n){return void 0===t[e]?t[e]=n:t[e]},getCacheWithFn:function(e,n){return void 0===t[e]?t[e]=n():t[e]}}}var B=n(6380);const q={name:{required:!0},disable:Boolean},H={setup(t,{slots:e}){return()=>(0,i.h)("div",{class:"q-panel scroll",role:"tabpanel"},(0,m.KR)(e.default))}},V={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},W=["update:modelValue","beforeTransition","transition"];function N(){const{props:t,emit:e,proxy:n}=(0,i.FN)(),{getCacheWithFn:o}=z();let s,a;const l=(0,r.iH)(null),u=(0,r.iH)(null);function c(e){const i=!0===t.vertical?"up":"left";k((!0===n.$q.lang.rtl?-1:1)*(e.direction===i?1:-1))}const h=(0,i.Fl)((()=>[[I,c,void 0,{horizontal:!0!==t.vertical,vertical:t.vertical,mouse:!0}]])),f=(0,i.Fl)((()=>t.transitionPrev||"slide-"+(!0===t.vertical?"down":"right"))),d=(0,i.Fl)((()=>t.transitionNext||"slide-"+(!0===t.vertical?"up":"left"))),p=(0,i.Fl)((()=>`--q-transition-duration: ${t.transitionDuration}ms`)),v=(0,i.Fl)((()=>"string"===typeof t.modelValue||"number"===typeof t.modelValue?t.modelValue:String(t.modelValue))),g=(0,i.Fl)((()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax}))),y=(0,i.Fl)((()=>void 0!==t.keepAliveInclude||void 0!==t.keepAliveExclude));function b(){k(1)}function _(){k(-1)}function w(t){e("update:modelValue",t)}function x(t){return void 0!==t&&null!==t&&""!==t}function S(t){return s.findIndex((e=>e.props.name===t&&""!==e.props.disable&&!0!==e.props.disable))}function C(){return s.filter((t=>""!==t.props.disable&&!0!==t.props.disable))}function T(e){const n=0!==e&&!0===t.animated&&-1!==l.value?"q-transition--"+(-1===e?f.value:d.value):null;u.value!==n&&(u.value=n)}function k(n,i=l.value){let r=i+n;while(r>-1&&r<s.length){const t=s[r];if(void 0!==t&&""!==t.props.disable&&!0!==t.props.disable)return T(n),a=!0,e("update:modelValue",t.props.name),void setTimeout((()=>{a=!1}));r+=n}!0===t.infinite&&s.length>0&&-1!==i&&i!==s.length&&k(n,-1===n?s.length:-1)}function O(){const e=S(t.modelValue);return l.value!==e&&(l.value=e),!0}function A(){const e=!0===x(t.modelValue)&&O()&&s[l.value];return!0===t.keepAlive?[(0,i.h)(i.Ob,g.value,[(0,i.h)(!0===y.value?o(v.value,(()=>({...H,name:v.value}))):H,{key:v.value,style:p.value},(()=>e))])]:[(0,i.h)("div",{class:"q-panel scroll",style:p.value,key:v.value,role:"tabpanel"},[e])]}function E(){if(0!==s.length)return!0===t.animated?[(0,i.h)(j.uT,{name:u.value},A)]:A()}function F(t){return s=(0,B.Pf)((0,m.KR)(t.default,[])).filter((t=>null!==t.props&&void 0===t.props.slot&&!0===x(t.props.name))),s.length}function M(){return s}return(0,i.YP)((()=>t.modelValue),((t,n)=>{const r=!0===x(t)?S(t):-1;!0!==a&&T(-1===r?0:r<S(n)?-1:1),l.value!==r&&(l.value=r,e("beforeTransition",t,n),(0,i.Y3)((()=>{e("transition",t,n)})))})),Object.assign(n,{next:b,previous:_,goTo:w}),{panelIndex:l,panelDirectives:h,updatePanelsList:F,updatePanelIndex:O,getPanelContent:E,getEnabledPanels:C,getPanels:M,isValidPanelName:x,keepAliveProps:g,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:k,goToPanel:w,nextPanel:b,previousPanel:_}}var U=(0,c.L)({name:"QTabPanels",props:{...V,...P.S},emits:W,setup(t,{slots:e}){const n=(0,i.FN)(),r=(0,P.Z)(t,n.proxy.$q),{updatePanelsList:o,getPanelContent:s,panelDirectives:a}=N(),l=(0,i.Fl)((()=>"q-tab-panels q-panel-parent"+(!0===r.value?" q-tab-panels--dark q-dark":"")));return()=>(o(e),(0,m.Jl)("div",{class:l.value},s(),"pan",t.swipeable,(()=>a.value)))}}),Y=(0,c.L)({name:"QTabPanel",props:q,setup(t,{slots:e}){return()=>(0,i.h)("div",{class:"q-tab-panel",role:"tabpanel"},(0,m.KR)(e.default))}}),X=n(9724),$=n(6118),G=n(2748);const Z=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function K({r:t,g:e,b:n,a:i}){const r=void 0!==i;if(t=Math.round(t),e=Math.round(e),n=Math.round(n),t>255||e>255||n>255||r&&i>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return i=r?(256|Math.round(255*i/100)).toString(16).slice(1):"","#"+(n|e<<8|t<<16|1<<24).toString(16).slice(1)+i}function J({r:t,g:e,b:n,a:i}){return`rgb${void 0!==i?"a":""}(${t},${e},${n}${void 0!==i?","+i/100:""})`}function Q(t){if("string"!==typeof t)throw new TypeError("Expected a string");t=t.replace(/^#/,""),3===t.length?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:4===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return t.length>6?{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:Math.round((255&e)/2.55)}:{r:e>>16,g:e>>8&255,b:255&e}}function tt({h:t,s:e,v:n,a:i}){let r,o,s;e/=100,n/=100,t/=360;const a=Math.floor(6*t),l=6*t-a,u=n*(1-e),c=n*(1-l*e),h=n*(1-(1-l)*e);switch(a%6){case 0:r=n,o=h,s=u;break;case 1:r=c,o=n,s=u;break;case 2:r=u,o=n,s=h;break;case 3:r=u,o=c,s=n;break;case 4:r=h,o=u,s=n;break;case 5:r=n,o=u,s=c;break}return{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*s),a:i}}function et({r:t,g:e,b:n,a:i}){const r=Math.max(t,e,n),o=Math.min(t,e,n),s=r-o,a=0===r?0:s/r,l=r/255;let u;switch(r){case o:u=0;break;case t:u=e-n+s*(e<n?6:0),u/=6*s;break;case e:u=n-t+2*s,u/=6*s;break;case n:u=t-e+4*s,u/=6*s;break}return{h:Math.round(360*u),s:Math.round(100*a),v:Math.round(100*l),a:i}}function nt(t){if("string"!==typeof t)throw new TypeError("Expected a string");const e=t.replace(/ /g,""),n=Z.exec(e);if(null===n)return Q(e);const i={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const t=parseFloat(n[5]);i.a=100*Math.min(1,!0===isNaN(t)?1:t)}return i}function it(t){if("string"!==typeof t&&(!t||void 0===t.r))throw new TypeError("Expected a string or a {r, g, b} object as color");const e="string"===typeof t?nt(t):t,n=e.r/255,i=e.g/255,r=e.b/255,o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),s=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),a=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return.2126*o+.7152*s+.0722*a}const rt=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],ot="M5 5 h10 v10 h-10 v-10 z",st="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var at=(0,c.L)({name:"QColor",props:{...P.S,...X.Fz,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:t=>["spectrum","tune","palette"].includes(t)},formatModel:{type:String,default:"auto",validator:t=>["auto","hex","rgb","hexa","rgba"].includes(t)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(t,{emit:e}){const{proxy:n}=(0,i.FN)(),{$q:l}=n,u=(0,P.Z)(t,l),{getCache:c}=z(),f=(0,r.iH)(null),d=(0,r.iH)(null),p=(0,i.Fl)((()=>"auto"===t.formatModel?null:t.formatModel.indexOf("hex")>-1)),v=(0,i.Fl)((()=>"auto"===t.formatModel?null:t.formatModel.indexOf("a")>-1)),g=(0,r.iH)("auto"===t.formatModel?void 0===t.modelValue||null===t.modelValue||""===t.modelValue||t.modelValue.startsWith("#")?"hex":"rgb":t.formatModel.startsWith("hex")?"hex":"rgb"),y=(0,r.iH)(t.defaultView),b=(0,r.iH)(B(t.modelValue||t.defaultValue)),_=(0,i.Fl)((()=>!0!==t.disable&&!0!==t.readonly)),w=(0,i.Fl)((()=>void 0===t.modelValue||null===t.modelValue||""===t.modelValue||t.modelValue.startsWith("#"))),S=(0,i.Fl)((()=>null!==p.value?p.value:w.value)),C=(0,i.Fl)((()=>({type:"hidden",name:t.name,value:b.value[!0===S.value?"hex":"rgb"]}))),T=(0,X.eX)(C),k=(0,i.Fl)((()=>null!==v.value?v.value:void 0!==b.value.a)),O=(0,i.Fl)((()=>({backgroundColor:b.value.rgb||"#000"}))),A=(0,i.Fl)((()=>{const t=void 0!==b.value.a&&b.value.a<65||it(b.value)>.4;return"q-color-picker__header-content q-color-picker__header-content--"+(t?"light":"dark")})),E=(0,i.Fl)((()=>({background:`hsl(${b.value.h},100%,50%)`}))),F=(0,i.Fl)((()=>({top:100-b.value.v+"%",[!0===l.lang.rtl?"right":"left"]:`${b.value.s}%`}))),j=(0,i.Fl)((()=>void 0!==t.palette&&t.palette.length>0?t.palette:rt)),R=(0,i.Fl)((()=>"q-color-picker"+(!0===t.bordered?" q-color-picker--bordered":"")+(!0===t.square?" q-color-picker--square no-border-radius":"")+(!0===t.flat?" q-color-picker--flat no-shadow":"")+(!0===t.disable?" disabled":"")+(!0===u.value?" q-color-picker--dark q-dark":""))),L=(0,i.Fl)((()=>!0===t.disable?{"aria-disabled":"true"}:!0===t.readonly?{"aria-readonly":"true"}:{})),D=(0,i.Fl)((()=>[[o.Z,Z,void 0,{prevent:!0,stop:!0,mouse:!0}]]));function I(t,n){b.value.hex=K(t),b.value.rgb=J(t),b.value.r=t.r,b.value.g=t.g,b.value.b=t.b,b.value.a=t.a;const i=b.value[!0===S.value?"hex":"rgb"];e("update:modelValue",i),!0===n&&e("change",i)}function B(e){const n=void 0!==v.value?v.value:"auto"===t.formatModel?null:t.formatModel.indexOf("a")>-1;if("string"!==typeof e||0===e.length||!0!==$.E.anyColor(e.replace(/ /g,"")))return{h:0,s:0,v:0,r:0,g:0,b:0,a:!0===n?100:void 0,hex:void 0,rgb:void 0};const i=nt(e);return!0===n&&void 0===i.a&&(i.a=100),i.hex=K(i),i.rgb=J(i),Object.assign(i,et(i))}function q(t,e,n){const i=f.value;if(null===i)return;const r=i.clientWidth,o=i.clientHeight,s=i.getBoundingClientRect();let a=Math.min(r,Math.max(0,t-s.left));!0===l.lang.rtl&&(a=r-a);const u=Math.min(o,Math.max(0,e-s.top)),c=Math.round(100*a/r),h=Math.round(100*Math.max(0,Math.min(1,-u/o+1))),d=tt({h:b.value.h,s:c,v:h,a:!0===k.value?b.value.a:void 0});b.value.s=c,b.value.v=h,I(d,n)}function H(t,e){const n=Math.round(t),i=tt({h:n,s:b.value.s,v:b.value.v,a:!0===k.value?b.value.a:void 0});b.value.h=n,I(i,e)}function V(t,e,r,o,s){if(void 0!==o&&(0,h.sT)(o),!/^[0-9]+$/.test(t))return void(!0===s&&n.$forceUpdate());const a=Math.floor(Number(t));if(a<0||a>r)return void(!0===s&&n.$forceUpdate());const l={r:"r"===e?a:b.value.r,g:"g"===e?a:b.value.g,b:"b"===e?a:b.value.b,a:!0===k.value?"a"===e?a:b.value.a:void 0};if("a"!==e){const t=et(l);b.value.h=t.h,b.value.s=t.s,b.value.v=t.v}if(I(l,s),void 0!==o&&!0!==s&&void 0!==o.target.selectionEnd){const t=o.target.selectionEnd;(0,i.Y3)((()=>{o.target.setSelectionRange(t,t)}))}}function W(t,e){let n;const r=t.target.value;if((0,h.sT)(t),"hex"===g.value){if(r.length!==(!0===k.value?9:7)||!/^#[0-9A-Fa-f]+$/.test(r))return!0;n=Q(r)}else{let t;if(!r.endsWith(")"))return!0;if(!0!==k.value&&r.startsWith("rgb(")){if(t=r.substring(4,r.length-1).split(",").map((t=>parseInt(t,10))),3!==t.length||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(r))return!0}else{if(!0!==k.value||!r.startsWith("rgba("))return!0;{if(t=r.substring(5,r.length-1).split(","),4!==t.length||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(r))return!0;for(let n=0;n<3;n++){const e=parseInt(t[n],10);if(e<0||e>255)return!0;t[n]=e}const e=parseFloat(t[3]);if(e<0||e>1)return!0;t[3]=e}}if(t[0]<0||t[0]>255||t[1]<0||t[1]>255||t[2]<0||t[2]>255||!0===k.value&&(t[3]<0||t[3]>1))return!0;n={r:t[0],g:t[1],b:t[2],a:!0===k.value?100*t[3]:void 0}}const o=et(n);if(b.value.h=o.h,b.value.s=o.s,b.value.v=o.v,I(n,e),!0!==e){const e=t.target.selectionEnd;(0,i.Y3)((()=>{t.target.setSelectionRange(e,e)}))}}function N(t){const e=B(t),n={r:e.r,g:e.g,b:e.b,a:e.a};void 0===n.a&&(n.a=b.value.a),b.value.h=e.h,b.value.s=e.s,b.value.v=e.v,I(n,!0)}function Z(t){t.isFinal?q(t.position.left,t.position.top,!0):at(t)}(0,i.YP)((()=>t.modelValue),(e=>{const n=B(e||t.defaultValue);n.hex!==b.value.hex&&(b.value=n)})),(0,i.YP)((()=>t.defaultValue),(e=>{if(!t.modelValue&&e){const t=B(e);t.hex!==b.value.hex&&(b.value=t)}}));const at=(0,G.Z)((t=>{q(t.position.left,t.position.top)}),20);function lt(t){q(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset,!0)}function ut(t){q(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset)}function ct(t){null!==d.value&&(d.value.$el.style.opacity=t?1:0)}function ht(){const e=[];return!0!==t.noHeaderTabs&&e.push((0,i.h)(x,{class:"q-color-picker__header-tabs",modelValue:g.value,dense:!0,align:"justify",...c("topVTab",{"onUpdate:modelValue":t=>{g.value=t}})},(()=>[(0,i.h)(M,{label:"HEX"+(!0===k.value?"A":""),name:"hex",ripple:!1}),(0,i.h)(M,{label:"RGB"+(!0===k.value?"A":""),name:"rgb",ripple:!1})]))),e.push((0,i.h)("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[(0,i.h)("input",{class:"fit",value:b.value[g.value],...!0!==_.value?{readonly:!0}:{},...c("topIn",{onInput:t=>{ct(!0===W(t))},onChange:h.sT,onBlur:t=>{!0===W(t,!0)&&n.$forceUpdate(),ct(!1)}})}),(0,i.h)(a.Z,{ref:d,class:"q-color-picker__error-icon absolute no-pointer-events",name:l.iconSet.type.negative})])),(0,i.h)("div",{class:"q-color-picker__header relative-position overflow-hidden"},[(0,i.h)("div",{class:"q-color-picker__header-bg absolute-full"}),(0,i.h)("div",{class:A.value,style:O.value},e)])}function ft(){return(0,i.h)(U,{modelValue:y.value,animated:!0},(()=>[(0,i.h)(Y,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},pt),(0,i.h)(Y,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},vt),(0,i.h)(Y,{class:"q-color-picker__palette-tab",name:"palette"},gt)]))}function dt(){return(0,i.h)("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[(0,i.h)(x,{class:"absolute-full",modelValue:y.value,dense:!0,align:"justify",...c("ftIn",{"onUpdate:modelValue":t=>{y.value=t}})},(()=>[(0,i.h)(M,{icon:l.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),(0,i.h)(M,{icon:l.iconSet.colorPicker.tune,name:"tune",ripple:!1}),(0,i.h)(M,{icon:l.iconSet.colorPicker.palette,name:"palette",ripple:!1})]))])}function pt(){const t={ref:f,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(!0!==_.value?" readonly":""),style:E.value,...!0===_.value?{onClick:lt,onMousedown:ut}:{}},e=[(0,i.h)("div",{style:{paddingBottom:"100%"}}),(0,i.h)("div",{class:"q-color-picker__spectrum-white absolute-full"}),(0,i.h)("div",{class:"q-color-picker__spectrum-black absolute-full"}),(0,i.h)("div",{class:"absolute",style:F.value},[void 0!==b.value.hex?(0,i.h)("div",{class:"q-color-picker__spectrum-circle"}):null])],n=[(0,i.h)(s.Z,{class:"q-color-picker__hue non-selectable",modelValue:b.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:!0!==_.value,thumbPath:ot,"onUpdate:modelValue":H,...c("lazyhue",{onChange:t=>H(t,!0)})})];return!0===k.value&&n.push((0,i.h)(s.Z,{class:"q-color-picker__alpha non-selectable",modelValue:b.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:st,readonly:!0!==_.value,hideSelection:!0,thumbPath:ot,...c("alphaSlide",{"onUpdate:modelValue":t=>V(t,"a",100),onChange:t=>V(t,"a",100,void 0,!0)})})),[(0,m.Jl)("div",t,e,"spec",_.value,(()=>D.value)),(0,i.h)("div",{class:"q-color-picker__sliders"},n)]}function vt(){return[(0,i.h)("div",{class:"row items-center no-wrap"},[(0,i.h)("div","R"),(0,i.h)(s.Z,{modelValue:b.value.r,min:0,max:255,color:"red",dark:u.value,readonly:!0!==_.value,...c("rSlide",{"onUpdate:modelValue":t=>V(t,"r",255),onChange:t=>V(t,"r",255,void 0,!0)})}),(0,i.h)("input",{value:b.value.r,maxlength:3,readonly:!0!==_.value,onChange:h.sT,...c("rIn",{onInput:t=>V(t.target.value,"r",255,t),onBlur:t=>V(t.target.value,"r",255,t,!0)})})]),(0,i.h)("div",{class:"row items-center no-wrap"},[(0,i.h)("div","G"),(0,i.h)(s.Z,{modelValue:b.value.g,min:0,max:255,color:"green",dark:u.value,readonly:!0!==_.value,...c("gSlide",{"onUpdate:modelValue":t=>V(t,"g",255),onChange:t=>V(t,"g",255,void 0,!0)})}),(0,i.h)("input",{value:b.value.g,maxlength:3,readonly:!0!==_.value,onChange:h.sT,...c("gIn",{onInput:t=>V(t.target.value,"g",255,t),onBlur:t=>V(t.target.value,"g",255,t,!0)})})]),(0,i.h)("div",{class:"row items-center no-wrap"},[(0,i.h)("div","B"),(0,i.h)(s.Z,{modelValue:b.value.b,min:0,max:255,color:"blue",readonly:!0!==_.value,dark:u.value,...c("bSlide",{"onUpdate:modelValue":t=>V(t,"b",255),onChange:t=>V(t,"b",255,void 0,!0)})}),(0,i.h)("input",{value:b.value.b,maxlength:3,readonly:!0!==_.value,onChange:h.sT,...c("bIn",{onInput:t=>V(t.target.value,"b",255,t),onBlur:t=>V(t.target.value,"b",255,t,!0)})})]),!0===k.value?(0,i.h)("div",{class:"row items-center no-wrap"},[(0,i.h)("div","A"),(0,i.h)(s.Z,{modelValue:b.value.a,color:"grey",readonly:!0!==_.value,dark:u.value,...c("aSlide",{"onUpdate:modelValue":t=>V(t,"a",100),onChange:t=>V(t,"a",100,void 0,!0)})}),(0,i.h)("input",{value:b.value.a,maxlength:3,readonly:!0!==_.value,onChange:h.sT,...c("aIn",{onInput:t=>V(t.target.value,"a",100,t),onBlur:t=>V(t.target.value,"a",100,t,!0)})})]):null]}function gt(){const t=t=>(0,i.h)("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:t},...!0===_.value?c("palette#"+t,{onClick:()=>{N(t)}}):{}});return[(0,i.h)("div",{class:"row items-center q-color-picker__palette-rows"+(!0===_.value?" q-color-picker__palette-rows--editable":"")},j.value.map(t))]}return()=>{const e=[ft()];return void 0!==t.name&&!0!==t.disable&&T(e,"push"),!0!==t.noHeader&&e.unshift(ht()),!0!==t.noFooter&&e.push(dt()),(0,i.h)("div",{class:R.value,...L.value},e)}}})},1682:function(t,e,n){"use strict";n.d(e,{Z:function(){return q}});var i=n(9269),r=n(6237),o=n(5102),s=n(6114);function a(t,e,n){let r;function o(){void 0!==r&&(s.Z.remove(r),r=void 0)}return(0,i.Jd)((()=>{!0===t.value&&o()})),{removeFromHistory:o,addToHistory(){r={condition:()=>!0===n.value,handler:e},s.Z.add(r)}}}var l=n(7933),u=n(6775),c=n(9216),h=n(959),f=n(3852),d=n(3027),p=n(7336),v=n(1013);let g,m,y,b,_,w,x=0,S=!1;function C(t){T(t)&&(0,d.NS)(t)}function T(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=(0,d.AZ)(t),n=t.shiftKey&&!t.deltaX,i=!n&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),r=n||i?t.deltaY:t.deltaX;for(let o=0;o<e.length;o++){const t=e[o];if((0,p.QA)(t,i))return i?r<0&&0===t.scrollTop||r>0&&t.scrollTop+t.clientHeight===t.scrollHeight:r<0&&0===t.scrollLeft||r>0&&t.scrollLeft+t.clientWidth===t.scrollWidth}return!0}function k(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function O(t){!0!==S&&(S=!0,requestAnimationFrame((()=>{S=!1;const{height:e}=t.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;void 0!==y&&e===window.innerHeight||(y=n-e,document.scrollingElement.scrollTop=i),i>y&&(document.scrollingElement.scrollTop-=Math.ceil((i-y)/8))})))}function A(t){const e=document.body,n=void 0!==window.visualViewport;if("add"===t){const{overflowY:t,overflowX:i}=window.getComputedStyle(e);g=(0,p.OI)(window),m=(0,p.u3)(window),b=e.style.left,_=e.style.top,e.style.left=`-${g}px`,e.style.top=`-${m}px`,"hidden"!==i&&("scroll"===i||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),"hidden"!==t&&("scroll"===t||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===v.Lp.is.ios&&(!0===n?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",O,d.rU.passiveCapture),window.visualViewport.addEventListener("scroll",O,d.rU.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",k,d.rU.passiveCapture))}!0===v.Lp.is.desktop&&!0===v.Lp.is.mac&&window[`${t}EventListener`]("wheel",C,d.rU.notPassive),"remove"===t&&(!0===v.Lp.is.ios&&(!0===n?(window.visualViewport.removeEventListener("resize",O,d.rU.passiveCapture),window.visualViewport.removeEventListener("scroll",O,d.rU.passiveCapture)):window.removeEventListener("scroll",k,d.rU.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=b,e.style.top=_,window.scrollTo(g,m),y=void 0)}function E(t){let e="add";if(!0===t){if(x++,void 0!==w)return clearTimeout(w),void(w=void 0);if(x>1)return}else{if(0===x)return;if(x--,x>0)return;if(e="remove",!0===v.Lp.is.ios&&!0===v.Lp.is.nativeMobile)return clearTimeout(w),void(w=setTimeout((()=>{A(e),w=void 0}),100))}A(e)}function F(){let t;return{preventBodyScroll(e){e===t||void 0===t&&!0!==e||(t=e,E(e))}}}var M=n(3856),P=n(6145),j=n(64),R=n(1135),L=n(7001),D=n(6146);let I=0;const z={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},B={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var q=(0,M.L)({name:"QDialog",inheritAttrs:!1,props:{...c.vr,...h.D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:t=>"standard"===t||["top","bottom","left","right"].includes(t)}},emits:[...c.gH,"shake","click","escapeKey"],setup(t,{slots:e,emit:n,attrs:s}){const d=(0,i.FN)(),p=(0,r.iH)(null),v=(0,r.iH)(!1),g=(0,r.iH)(!1);let m,y,b,_=null;const w=(0,i.Fl)((()=>!0!==t.persistent&&!0!==t.noRouteDismiss&&!0!==t.seamless)),{preventBodyScroll:x}=F(),{registerTimeout:S}=(0,l.Z)(),{registerTick:C,removeTick:T}=(0,u.Z)(),{transitionProps:k,transitionStyle:O}=(0,h.Z)(t,(()=>B[t.position][0]),(()=>B[t.position][1])),{showPortal:A,hidePortal:E,portalIsAccessible:M,renderPortal:q}=(0,f.Z)(d,p,rt,!0),{hide:H}=(0,c.ZP)({showing:v,hideOnRouteChange:w,handleShow:$,handleHide:G,processOnMount:!0}),{addToHistory:V,removeFromHistory:W}=a(v,H,w),N=(0,i.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===t.maximized?"maximized":"minimized")+` q-dialog__inner--${t.position} ${z[t.position]}`+(!0===g.value?" q-dialog__inner--animating":"")+(!0===t.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===t.fullHeight?" q-dialog__inner--fullheight":"")+(!0===t.square?" q-dialog__inner--square":""))),U=(0,i.Fl)((()=>!0===v.value&&!0!==t.seamless)),Y=(0,i.Fl)((()=>!0===t.autoClose?{onClick:et}:{})),X=(0,i.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===U.value?"modal":"seamless"),s.class]));function $(e){V(),_=!1===t.noRefocus&&null!==document.activeElement?document.activeElement:null,tt(t.maximized),A(),g.value=!0,!0!==t.noFocus?(null!==document.activeElement&&document.activeElement.blur(),C(Z)):T(),S((()=>{if(!0===d.proxy.$q.platform.is.ios){if(!0!==t.seamless&&document.activeElement){const{top:t,bottom:e}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,i=void 0!==window.visualViewport?window.visualViewport.height:n;t>0&&e>i/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-i,e>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+e-i/2))),document.activeElement.scrollIntoView()}b=!0,p.value.click(),b=!1}A(!0),g.value=!1,n("show",e)}),t.transitionDuration)}function G(e){T(),W(),Q(!0),g.value=!0,E(),null!==_&&(_.focus(),_=null),S((()=>{E(!0),g.value=!1,n("hide",e)}),t.transitionDuration)}function Z(t){(0,D.jd)((()=>{let e=p.value;null!==e&&!0!==e.contains(document.activeElement)&&(e=(""!==t?e.querySelector(t):null)||e.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||e.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||e.querySelector("[autofocus], [data-autofocus]")||e,e.focus({preventScroll:!0}))}))}function K(t){t&&"function"===typeof t.focus?t.focus({preventScroll:!0}):Z(),n("shake");const e=p.value;null!==e&&(e.classList.remove("q-animate--scale"),e.classList.add("q-animate--scale"),clearTimeout(m),m=setTimeout((()=>{null!==p.value&&(e.classList.remove("q-animate--scale"),Z())}),170))}function J(){!0!==t.seamless&&(!0===t.persistent||!0===t.noEscDismiss?!0!==t.maximized&&!0!==t.noShake&&K():(n("escapeKey"),H()))}function Q(e){clearTimeout(m),!0!==e&&!0!==v.value||(tt(!1),!0!==t.seamless&&(x(!1),(0,L.H)(it),(0,R.k)(J))),!0!==e&&(_=null)}function tt(t){!0===t?!0!==y&&(I<1&&document.body.classList.add("q-body--dialog"),I++,y=!0):!0===y&&(I<2&&document.body.classList.remove("q-body--dialog"),I--,y=!1)}function et(t){!0!==b&&(H(t),n("click",t))}function nt(e){!0!==t.persistent&&!0!==t.noBackdropDismiss?H(e):!0!==t.noShake&&K(e.relatedTarget)}function it(e){!0!==t.allowFocusOutside&&!0===M.value&&!0!==(0,P.mY)(p.value,e.target)&&Z('[tabindex]:not([tabindex="-1"])')}function rt(){return(0,i.h)("div",{role:"dialog","aria-modal":!0===U.value?"true":"false",...s,class:X.value},[(0,i.h)(o.uT,{name:"q-transition--fade",appear:!0},(()=>!0===U.value?(0,i.h)("div",{class:"q-dialog__backdrop fixed-full",style:O.value,"aria-hidden":"true",tabindex:-1,onFocusin:nt}):null)),(0,i.h)(o.uT,k.value,(()=>!0===v.value?(0,i.h)("div",{ref:p,class:N.value,style:O.value,tabindex:-1,...Y.value},(0,j.KR)(e.default)):null))])}return(0,i.YP)((()=>t.maximized),(t=>{!0===v.value&&tt(t)})),(0,i.YP)(U,(t=>{x(t),!0===t?((0,L.i)(it),(0,R.c)(J)):((0,L.H)(it),(0,R.k)(J))})),Object.assign(d.proxy,{focus:Z,shake:K,__updateRefocusTarget(t){_=t||null}}),(0,i.Jd)(Q),q}})},4553:function(t,e,n){"use strict";var i=n(3578),r=n(3856);e["Z"]=(0,r.L)({name:"QField",inheritAttrs:!1,props:i.Cl,emits:i.HJ,setup(){return(0,i.ZP)((0,i.tL)())}})},6967:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var i=n(9269),r=n(6237),o=n(1384),s=n(3578),a=n(9724),l=(n(4719),n(1013)),u=n(3027);function c(t,e,n,i){const r=[];return t.forEach((t=>{!0===i(t)?r.push(t):e.push({failedPropValidation:n,file:t})})),r}function h(t){t&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy"),(0,u.NS)(t)}const f={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},d=["rejected"];function p({editable:t,dnd:e,getFileInput:n,addFilesToQueue:o}){const{props:s,emit:a,proxy:f}=(0,i.FN)(),d=(0,r.iH)(null),p=(0,i.Fl)((()=>void 0!==s.accept?s.accept.split(",").map((t=>(t=t.trim(),"*"===t?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase())))):null)),v=(0,i.Fl)((()=>parseInt(s.maxFiles,10))),g=(0,i.Fl)((()=>parseInt(s.maxTotalSize,10)));function m(e){if(t.value)if(e!==Object(e)&&(e={target:null}),null!==e.target&&!0===e.target.matches('input[type="file"]'))0===e.clientX&&0===e.clientY&&(0,u.sT)(e);else{const t=n();t&&t!==e.target&&t.click(e)}}function y(e){t.value&&e&&o(null,e)}function b(t,e,n,i){let r=Array.from(e||t.target.files);const o=[],l=()=>{o.length>0&&a("rejected",o)};if(void 0!==s.accept&&-1===p.value.indexOf("*/")&&(r=c(r,o,"accept",(t=>p.value.some((e=>t.type.toUpperCase().startsWith(e)||t.name.toUpperCase().endsWith(e))))),0===r.length))return l();if(void 0!==s.maxFileSize){const t=parseInt(s.maxFileSize,10);if(r=c(r,o,"max-file-size",(e=>e.size<=t)),0===r.length)return l()}if(!0!==s.multiple&&r.length>0&&(r=[r[0]]),r.forEach((t=>{t.__key=t.webkitRelativePath+t.lastModified+t.name+t.size})),!0===i){const t=n.map((t=>t.__key));r=c(r,o,"duplicate",(e=>!1===t.includes(e.__key)))}if(0===r.length)return l();if(void 0!==s.maxTotalSize){let t=!0===i?n.reduce(((t,e)=>t+e.size),0):0;if(r=c(r,o,"max-total-size",(e=>(t+=e.size,t<=g.value))),0===r.length)return l()}if("function"===typeof s.filter){const t=s.filter(r);r=c(r,o,"filter",(e=>t.includes(e)))}if(void 0!==s.maxFiles){let t=!0===i?n.length:0;if(r=c(r,o,"max-files",(()=>(t++,t<=v.value))),0===r.length)return l()}return l(),r.length>0?r:void 0}function _(t){h(t),!0!==e.value&&(e.value=!0)}function w(t){(0,u.NS)(t);const n=null!==t.relatedTarget||!0!==l.Lp.is.safari?t.relatedTarget!==d.value:!1===document.elementsFromPoint(t.clientX,t.clientY).includes(d.value);!0===n&&(e.value=!1)}function x(t){h(t);const n=t.dataTransfer.files;n.length>0&&o(null,n),e.value=!1}function S(t){if(!0===e.value)return(0,i.h)("div",{ref:d,class:`q-${t}__dnd absolute-full`,onDragenter:h,onDragover:h,onDragleave:w,onDrop:x})}return Object.assign(f,{pickFiles:m,addFiles:y}),{pickFiles:m,addFiles:y,onDragover:_,onDragleave:w,processFiles:b,getDndNode:S,maxFilesNumber:v,maxTotalSizeNumber:g}}var v=n(9976),g=n(3856),m=n(7328),y=n(3613),b=(0,g.L)({name:"QFile",inheritAttrs:!1,props:{...s.Cl,...a.Fz,...f,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...s.HJ,...d],setup(t,{slots:e,emit:n,attrs:l}){const{proxy:c}=(0,i.FN)(),h=(0,s.tL)(),f=(0,r.iH)(null),d=(0,r.iH)(!1),g=(0,a.Do)(t),{pickFiles:b,onDragover:_,onDragleave:w,processFiles:x,getDndNode:S}=p({editable:h.editable,dnd:d,getFileInput:z,addFilesToQueue:B}),C=(0,v.Z)(t),T=(0,i.Fl)((()=>Object(t.modelValue)===t.modelValue?"length"in t.modelValue?Array.from(t.modelValue):[t.modelValue]:[])),k=(0,i.Fl)((()=>(0,s.yV)(T.value))),O=(0,i.Fl)((()=>T.value.map((t=>t.name)).join(", "))),A=(0,i.Fl)((()=>(0,m.rB)(T.value.reduce(((t,e)=>t+e.size),0)))),E=(0,i.Fl)((()=>({totalSize:A.value,filesNumber:T.value.length,maxFiles:t.maxFiles}))),F=(0,i.Fl)((()=>({tabindex:-1,type:"file",title:"",accept:t.accept,capture:t.capture,name:g.value,...l,id:h.targetUid.value,disabled:!0!==h.editable.value}))),M=(0,i.Fl)((()=>"q-file q-field--auto-height"+(!0===d.value?" q-file--dnd":""))),P=(0,i.Fl)((()=>!0===t.multiple&&!0===t.append));function j(t){const e=T.value.slice();e.splice(t,1),L(e)}function R(t){const e=T.value.findIndex(t);e>-1&&j(e)}function L(e){n("update:modelValue",!0===t.multiple?e:e[0])}function D(t){13===t.keyCode&&(0,u.X$)(t)}function I(t){13!==t.keyCode&&32!==t.keyCode||b(t)}function z(){return f.value}function B(e,n){const i=x(e,n,T.value,P.value),r=z();void 0!==r&&null!==r&&(r.value=""),void 0!==i&&((!0===t.multiple?t.modelValue&&i.every((t=>T.value.includes(t))):t.modelValue===i[0])||L(!0===P.value?T.value.concat(i):i))}function q(){return[(0,i.h)("input",{class:[t.inputClass,"q-file__filler"],style:t.inputStyle})]}function H(){if(void 0!==e.file)return 0===T.value.length?q():T.value.map(((t,n)=>e.file({index:n,file:t,ref:this})));if(void 0!==e.selected)return 0===T.value.length?q():e.selected({files:T.value,ref:this});if(!0===t.useChips)return 0===T.value.length?q():T.value.map(((e,n)=>(0,i.h)(o.Z,{key:"file-"+n,removable:h.editable.value,dense:!0,textColor:t.color,tabindex:t.tabindex,onRemove:()=>{j(n)}},(()=>(0,i.h)("span",{class:"ellipsis",textContent:e.name})))));const n=void 0!==t.displayValue?t.displayValue:O.value;return n.length>0?[(0,i.h)("div",{class:t.inputClass,style:t.inputStyle,textContent:n})]:q()}function V(){const e={ref:f,...F.value,...C.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:B};return!0===t.multiple&&(e.multiple=!0),(0,i.h)("input",e)}return Object.assign(h,{fieldClass:M,emitValue:L,hasValue:k,inputRef:f,innerValue:T,floatingLabel:(0,i.Fl)((()=>!0===k.value||(0,s.yV)(t.displayValue))),computedCounter:(0,i.Fl)((()=>{if(void 0!==t.counterLabel)return t.counterLabel(E.value);const e=t.maxFiles;return`${T.value.length}${void 0!==e?" / "+e:""} (${A.value})`})),getControlChild:()=>S("file"),getControl:()=>{const e={ref:h.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:t.tabindex};return!0===h.editable.value&&Object.assign(e,{onDragover:_,onDragleave:w,onKeydown:D,onKeyup:I}),(0,i.h)("div",e,[V()].concat(H()))}}),Object.assign(c,{removeAtIndex:j,removeFile:R,getNativeElement:()=>f.value}),(0,y.g)(c,"nativeEl",(()=>f.value)),(0,s.ZP)(h)}})},4633:function(t,e,n){"use strict";var i=n(9269),r=n(505),o=n(3856),s=n(64);const a="0 0 24 24",l=t=>t,u=t=>`ionicons ${t}`,c={"mdi-":t=>`mdi ${t}`,"icon-":l,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":u,"ion-ios":u,"ion-logo":u,"iconfont ":l,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`},h={o_:"-outlined",r_:"-round",s_:"-sharp"},f={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},d=new RegExp("^("+Object.keys(c).join("|")+")"),p=new RegExp("^("+Object.keys(h).join("|")+")"),v=new RegExp("^("+Object.keys(f).join("|")+")"),g=/^[Mm]\s?[-+]?\.?\d/,m=/^img:/,y=/^svguse:/,b=/^ion-/,_=/^(fa-(solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;e["Z"]=(0,o.L)({name:"QIcon",props:{...r.LU,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=(0,i.FN)(),o=(0,r.ZP)(t),l=(0,i.Fl)((()=>"q-icon"+(!0===t.left?" on-left":"")+(!0===t.right?" on-right":"")+(void 0!==t.color?` text-${t.color}`:""))),u=(0,i.Fl)((()=>{let e,r=t.name;if("none"===r||!r)return{none:!0};if(null!==n.iconMapFn){const t=n.iconMapFn(r);if(void 0!==t){if(void 0===t.icon)return{cls:t.cls,content:void 0!==t.content?t.content:" "};if(r=t.icon,"none"===r||!r)return{none:!0}}}if(!0===g.test(r)){const[t,e=a]=r.split("|");return{svg:!0,viewBox:e,nodes:t.split("&&").map((t=>{const[e,n,r]=t.split("@@");return(0,i.h)("path",{style:n,d:e,transform:r})}))}}if(!0===m.test(r))return{img:!0,src:r.substring(4)};if(!0===y.test(r)){const[t,e=a]=r.split("|");return{svguse:!0,src:t.substring(7),viewBox:e}}let o=" ";const s=r.match(d);if(null!==s)e=c[s[1]](r);else if(!0===_.test(r))e=r;else if(!0===b.test(r))e=`ionicons ion-${!0===n.platform.is.ios?"ios":"md"}${r.substring(3)}`;else if(!0===v.test(r)){e="notranslate material-symbols";const t=r.match(v);null!==t&&(r=r.substring(6),e+=f[t[1]]),o=r}else{e="notranslate material-icons";const t=r.match(p);null!==t&&(r=r.substring(2),e+=h[t[1]]),o=r}return{cls:e,content:o}}));return()=>{const n={class:l.value,style:o.value,"aria-hidden":"true",role:"presentation"};return!0===u.value.none?(0,i.h)(t.tag,n,(0,s.KR)(e.default)):!0===u.value.img?(0,i.h)("span",n,(0,s.vs)(e.default,[(0,i.h)("img",{src:u.value.src})])):!0===u.value.svg?(0,i.h)("span",n,(0,s.vs)(e.default,[(0,i.h)("svg",{viewBox:u.value.viewBox||"0 0 24 24"},u.value.nodes)])):!0===u.value.svguse?(0,i.h)("span",n,(0,s.vs)(e.default,[(0,i.h)("svg",{viewBox:u.value.viewBox},[(0,i.h)("use",{"xlink:href":u.value.src})])])):(void 0!==u.value.cls&&(n.class+=" "+u.value.cls),(0,i.h)(t.tag,n,(0,s.vs)(e.default,[u.value.content])))}}})},4711:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});n(4719);var i=n(6237),r=n(9269),o=n(5102),s=n(2605);const a={ratio:[String,Number]};function l(t,e){return(0,r.Fl)((()=>{const n=Number(t.ratio||(void 0!==e?e.value:void 0));return!0!==isNaN(n)&&n>0?{paddingBottom:100/n+"%"}:null}))}var u=n(3856),c=n(64);n(1013);const h=16/9;var f=(0,u.L)({name:"QImg",props:{...a,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:h},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(t,{slots:e,emit:n}){const a=(0,i.iH)(t.initialRatio),u=l(t,a);let h;const f=[(0,i.iH)(null),(0,i.iH)(void 0!==t.placeholderSrc?{src:t.placeholderSrc}:null)],d=(0,i.iH)(0),p=(0,i.iH)(!1),v=(0,i.iH)(!1),g=(0,r.Fl)((()=>`q-img q-img--${!0===t.noNativeMenu?"no-":""}menu`)),m=(0,r.Fl)((()=>({width:t.width,height:t.height}))),y=(0,r.Fl)((()=>"q-img__image "+(void 0!==t.imgClass?t.imgClass+" ":"")+`q-img__image--with${!0===t.noTransition?"out":""}-transition`)),b=(0,r.Fl)((()=>({...t.imgStyle,objectFit:t.fit,objectPosition:t.position})));function _(){return t.src||t.srcset||t.sizes?{src:t.src,srcset:t.srcset,sizes:t.sizes}:null}function w(t){if(clearTimeout(h),v.value=!1,null===t)return p.value=!1,f[0].value=null,void(f[1].value=null);p.value=!0,f[d.value].value=t}function x({target:t}){null!==h&&(clearTimeout(h),a.value=0===t.naturalHeight?.5:t.naturalWidth/t.naturalHeight,S(t,1))}function S(t,e){null!==h&&1e3!==e&&(!0===t.complete?C(t):h=setTimeout((()=>{S(t,e+1)}),50))}function C(t){null!==h&&(d.value=1===d.value?0:1,f[d.value].value=null,p.value=!1,v.value=!1,n("load",t.currentSrc||t.src))}function T(t){clearTimeout(h),p.value=!1,v.value=!0,f[0].value=null,f[1].value=null,n("error",t)}function k(t,e){return(0,r.h)("div",{class:"q-img__container absolute-full",key:t},e)}function O(e){const n=f[e].value,i={key:"img_"+e,class:y.value,style:b.value,crossorigin:t.crossorigin,decoding:t.decoding,referrerpolicy:t.referrerpolicy,height:t.height,width:t.width,loading:t.loading,fetchpriority:t.fetchpriority,"aria-hidden":"true",draggable:t.draggable,...n};return d.value===e?(i.class+=" q-img__image--waiting",Object.assign(i,{onLoad:x,onError:T})):i.class+=" q-img__image--loaded",k("img"+e,(0,r.h)("img",i))}function A(){return!0!==p.value?(0,r.h)("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},(0,c.KR)(e[!0===v.value?"error":"default"])):(0,r.h)("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},void 0!==e.loading?e.loading():!0===t.noSpinner?void 0:[(0,r.h)(s.Z,{color:t.spinnerColor,size:t.spinnerSize})])}return(0,r.YP)((()=>_()),w),w(_()),(0,r.Jd)((()=>{clearTimeout(h),h=null})),()=>{const e=[];return null!==u.value&&e.push((0,r.h)("div",{key:"filler",style:u.value})),!0!==v.value&&(null!==f[0].value&&e.push(O(0)),null!==f[1].value&&e.push(O(1))),e.push((0,r.h)(o.uT,{name:"q-transition--fade"},A)),(0,r.h)("div",{class:g.value,style:m.value,role:"img","aria-label":t.alt},e)}}})},6053:function(t,e,n){"use strict";n.d(e,{Z:function(){return x}});var i=n(9269),r=n(6237),o=n(3578),s=(n(4719),n(6809));const a={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},l={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleLowerCase()}},u=Object.keys(l);u.forEach((t=>{l[t].regex=new RegExp(l[t].pattern)}));const c=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+u.join("")+"])|(.)","g"),h=/[.*+?^${}()|[\]\\]/g,f=String.fromCharCode(1),d={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function p(t,e,n,o){let u,d,p,v;const g=(0,r.iH)(null),m=(0,r.iH)(b());function y(){return!0===t.autogrow||["textarea","text","search","url","tel","password"].includes(t.type)}function b(){if(w(),!0===g.value){const e=k(A(t.modelValue));return!1!==t.fillMask?E(e):e}return t.modelValue}function _(t){if(t<u.length)return u.slice(-t);let e="",n=u;const i=n.indexOf(f);if(i>-1){for(let i=t-n.length;i>0;i--)e+=f;n=n.slice(0,i)+e+n.slice(i)}return n}function w(){if(g.value=void 0!==t.mask&&t.mask.length>0&&y(),!1===g.value)return v=void 0,u="",void(d="");const e=void 0===a[t.mask]?t.mask:a[t.mask],n="string"===typeof t.fillMask&&t.fillMask.length>0?t.fillMask.slice(0,1):"_",i=n.replace(h,"\\$&"),r=[],o=[],s=[];let m=!0===t.reverseFillMask,b="",_="";e.replace(c,((t,e,n,i,a)=>{if(void 0!==i){const t=l[i];s.push(t),_=t.negate,!0===m&&(o.push("(?:"+_+"+)?("+t.pattern+"+)?(?:"+_+"+)?("+t.pattern+"+)?"),m=!1),o.push("(?:"+_+"+)?("+t.pattern+")?")}else if(void 0!==n)b="\\"+("\\"===n?"":n),s.push(n),r.push("([^"+b+"]+)?"+b+"?");else{const t=void 0!==e?e:a;b="\\"===t?"\\\\\\\\":t.replace(h,"\\\\$&"),s.push(t),r.push("([^"+b+"]+)?"+b+"?")}}));const w=new RegExp("^"+r.join("")+"("+(""===b?".":"[^"+b+"]")+"+)?"+(""===b?"":"["+b+"]*")+"$"),x=o.length-1,S=o.map(((e,n)=>0===n&&!0===t.reverseFillMask?new RegExp("^"+i+"*"+e):n===x?new RegExp("^"+e+"("+(""===_?".":_)+"+)?"+(!0===t.reverseFillMask?"$":i+"*")):new RegExp("^"+e)));p=s,v=e=>{const n=w.exec(!0===t.reverseFillMask?e:e.slice(0,s.length));null!==n&&(e=n.slice(1).join(""));const i=[],r=S.length;for(let t=0,o=e;t<r;t++){const e=S[t].exec(o);if(null===e)break;o=o.slice(e.shift().length),i.push(...e)}return i.length>0?i.join(""):e},u=s.map((t=>"string"===typeof t?t:f)).join(""),d=u.split(f).join(n)}function x(e,r,s){const a=o.value,l=a.selectionEnd,c=a.value.length-l,h=A(e);!0===r&&w();const p=k(h),v=!1!==t.fillMask?E(p):p,g=m.value!==v;a.value!==v&&(a.value=v),!0===g&&(m.value=v),document.activeElement===a&&(0,i.Y3)((()=>{if(v!==d)if("insertFromPaste"!==s||!0===t.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(s)>-1){const e=!0===t.reverseFillMask?0===l?v.length>p.length?1:0:Math.max(0,v.length-(v===d?0:Math.min(p.length,c)+1))+1:l;a.setSelectionRange(e,e,"forward")}else if(!0===t.reverseFillMask)if(!0===g){const t=Math.max(0,v.length-(v===d?0:Math.min(p.length,c+1)));1===t&&1===l?a.setSelectionRange(t,t,"forward"):C.rightReverse(a,t,t)}else{const t=v.length-c;a.setSelectionRange(t,t,"backward")}else if(!0===g){const t=Math.max(0,u.indexOf(f),Math.min(p.length,l)-1);C.right(a,t,t)}else{const t=l-1;C.right(a,t,t)}else{const t=l-1;C.right(a,t,t)}else{const e=!0===t.reverseFillMask?d.length:0;a.setSelectionRange(e,e,"forward")}}));const y=!0===t.unmaskedValue?A(v):v;String(t.modelValue)!==y&&n(y,!0)}function S(t,e,n){const i=k(A(t.value));e=Math.max(0,u.indexOf(f),Math.min(i.length,e)),t.setSelectionRange(e,n,"forward")}(0,i.YP)((()=>t.type+t.autogrow),w),(0,i.YP)((()=>t.mask),(n=>{if(void 0!==n)x(m.value,!0);else{const n=A(m.value);w(),t.modelValue!==n&&e("update:modelValue",n)}})),(0,i.YP)((()=>t.fillMask+t.reverseFillMask),(()=>{!0===g.value&&x(m.value,!0)})),(0,i.YP)((()=>t.unmaskedValue),(()=>{!0===g.value&&x(m.value)}));const C={left(t,e,n,i){const r=-1===u.slice(e-1).indexOf(f);let o=Math.max(0,e-1);for(;o>=0;o--)if(u[o]===f){e=o,!0===r&&e++;break}if(o<0&&void 0!==u[e]&&u[e]!==f)return C.right(t,0,0);e>=0&&t.setSelectionRange(e,!0===i?n:e,"backward")},right(t,e,n,i){const r=t.value.length;let o=Math.min(r,n+1);for(;o<=r;o++){if(u[o]===f){n=o;break}u[o-1]===f&&(n=o)}if(o>r&&void 0!==u[n-1]&&u[n-1]!==f)return C.left(t,r,r);t.setSelectionRange(i?e:n,n,"forward")},leftReverse(t,e,n,i){const r=_(t.value.length);let o=Math.max(0,e-1);for(;o>=0;o--){if(r[o-1]===f){e=o;break}if(r[o]===f&&(e=o,0===o))break}if(o<0&&void 0!==r[e]&&r[e]!==f)return C.rightReverse(t,0,0);e>=0&&t.setSelectionRange(e,!0===i?n:e,"backward")},rightReverse(t,e,n,i){const r=t.value.length,o=_(r),s=-1===o.slice(0,n+1).indexOf(f);let a=Math.min(r,n+1);for(;a<=r;a++)if(o[a-1]===f){n=a,n>0&&!0===s&&n--;break}if(a>r&&void 0!==o[n-1]&&o[n-1]!==f)return C.leftReverse(t,r,r);t.setSelectionRange(!0===i?e:n,n,"forward")}};function T(e){if(!0===(0,s.Wm)(e))return;const n=o.value,i=n.selectionStart,r=n.selectionEnd;if(37===e.keyCode||39===e.keyCode){const o=C[(39===e.keyCode?"right":"left")+(!0===t.reverseFillMask?"Reverse":"")];e.preventDefault(),o(n,i,r,e.shiftKey)}else 8===e.keyCode&&!0!==t.reverseFillMask&&i===r?C.left(n,i,r,!0):46===e.keyCode&&!0===t.reverseFillMask&&i===r&&C.rightReverse(n,i,r,!0)}function k(e){if(void 0===e||null===e||""===e)return"";if(!0===t.reverseFillMask)return O(e);const n=p;let i=0,r="";for(let t=0;t<n.length;t++){const o=e[i],s=n[t];if("string"===typeof s)r+=s,o===s&&i++;else{if(void 0===o||!s.regex.test(o))return r;r+=void 0!==s.transform?s.transform(o):o,i++}}return r}function O(t){const e=p,n=u.indexOf(f);let i=t.length-1,r="";for(let o=e.length-1;o>=0&&i>-1;o--){const s=e[o];let a=t[i];if("string"===typeof s)r=s+r,a===s&&i--;else{if(void 0===a||!s.regex.test(a))return r;do{r=(void 0!==s.transform?s.transform(a):a)+r,i--,a=t[i]}while(n===o&&void 0!==a&&s.regex.test(a))}}return r}function A(t){return"string"!==typeof t||void 0===v?"number"===typeof t?v(""+t):t:v(t)}function E(e){return d.length-e.length<=0?e:!0===t.reverseFillMask&&e.length>0?d.slice(0,-e.length)+e:e+d.slice(e.length)}return{innerValue:m,hasMask:g,moveCursorForPaste:S,updateMaskValue:x,onMaskedKeydown:T}}var v=n(9724),g=n(9976),m=n(447),y=n(3856),b=n(3027),_=n(6146),w=n(3613),x=(0,y.L)({name:"QInput",inheritAttrs:!1,props:{...o.Cl,...d,...v.Fz,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...o.HJ,"paste","change"],setup(t,{emit:e,attrs:n}){const{proxy:s}=(0,i.FN)(),{$q:a}=s,l={};let u,c,h,f,d=NaN;const y=(0,r.iH)(null),x=(0,v.Do)(t),{innerValue:S,hasMask:C,moveCursorForPaste:T,updateMaskValue:k,onMaskedKeydown:O}=p(t,e,q,y),A=(0,g.Z)(t,!0),E=(0,i.Fl)((()=>(0,o.yV)(S.value))),F=(0,m.Z)(B),M=(0,o.tL)(),P=(0,i.Fl)((()=>"textarea"===t.type||!0===t.autogrow)),j=(0,i.Fl)((()=>!0===P.value||["text","search","url","tel","password"].includes(t.type))),R=(0,i.Fl)((()=>{const e={...M.splitAttrs.listeners.value,onInput:B,onPaste:z,onChange:V,onBlur:W,onFocus:b.sT};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=F,!0===C.value&&(e.onKeydown=O),!0===t.autogrow&&(e.onAnimationend=H),e})),L=(0,i.Fl)((()=>{const e={tabindex:0,"data-autofocus":!0===t.autofocus||void 0,rows:"textarea"===t.type?6:void 0,"aria-label":t.label,name:x.value,...M.splitAttrs.attributes.value,id:M.targetUid.value,maxlength:t.maxlength,disabled:!0===t.disable,readonly:!0===t.readonly};return!1===P.value&&(e.type=t.type),!0===t.autogrow&&(e.rows=1),e}));function D(){(0,_.jd)((()=>{const t=document.activeElement;null===y.value||y.value===t||null!==t&&t.id===M.targetUid.value||y.value.focus({preventScroll:!0})}))}function I(){null!==y.value&&y.value.select()}function z(n){if(!0===C.value&&!0!==t.reverseFillMask){const t=n.target;T(t,t.selectionStart,t.selectionEnd)}e("paste",n)}function B(n){if(!n||!n.target)return;if("file"===t.type)return void e("update:modelValue",n.target.files);const r=n.target.value;if(!0!==n.target.qComposing){if(!0===C.value)k(r,!1,n.inputType);else if(q(r),!0===j.value&&n.target===document.activeElement){const{selectionStart:t,selectionEnd:e}=n.target;void 0!==t&&void 0!==e&&(0,i.Y3)((()=>{n.target===document.activeElement&&0===r.indexOf(n.target.value)&&n.target.setSelectionRange(t,e)}))}!0===t.autogrow&&H()}else l.value=r}function q(n,r){f=()=>{"number"!==t.type&&!0===l.hasOwnProperty("value")&&delete l.value,t.modelValue!==n&&d!==n&&(d=n,!0===r&&(c=!0),e("update:modelValue",n),(0,i.Y3)((()=>{d===n&&(d=NaN)}))),f=void 0},"number"===t.type&&(u=!0,l.value=n),void 0!==t.debounce?(clearTimeout(h),l.value=n,h=setTimeout(f,t.debounce)):f()}function H(){requestAnimationFrame((()=>{const t=y.value;if(null!==t){const e=t.parentNode.style,{overflow:n}=t.style;!0!==a.platform.is.firefox&&(t.style.overflow="hidden"),t.style.height="1px",e.marginBottom=t.scrollHeight-1+"px",t.style.height=t.scrollHeight+"px",t.style.overflow=n,e.marginBottom=""}}))}function V(t){F(t),clearTimeout(h),void 0!==f&&f(),e("change",t.target.value)}function W(e){void 0!==e&&(0,b.sT)(e),clearTimeout(h),void 0!==f&&f(),u=!1,c=!1,delete l.value,"file"!==t.type&&setTimeout((()=>{null!==y.value&&(y.value.value=void 0!==S.value?S.value:"")}))}function N(){return!0===l.hasOwnProperty("value")?l.value:void 0!==S.value?S.value:""}(0,i.YP)((()=>t.type),(()=>{y.value&&(y.value.value=t.modelValue)})),(0,i.YP)((()=>t.modelValue),(e=>{if(!0===C.value){if(!0===c&&(c=!1,String(e)===d))return;k(e)}else S.value!==e&&(S.value=e,"number"===t.type&&!0===l.hasOwnProperty("value")&&(!0===u?u=!1:delete l.value));!0===t.autogrow&&(0,i.Y3)(H)})),(0,i.YP)((()=>t.autogrow),(t=>{!0===t?(0,i.Y3)(H):null!==y.value&&n.rows>0&&(y.value.style.height="auto")})),(0,i.YP)((()=>t.dense),(()=>{!0===t.autogrow&&(0,i.Y3)(H)})),(0,i.Jd)((()=>{W()})),(0,i.bv)((()=>{!0===t.autogrow&&H()})),Object.assign(M,{innerValue:S,fieldClass:(0,i.Fl)((()=>"q-"+(!0===P.value?"textarea":"input")+(!0===t.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,i.Fl)((()=>"file"!==t.type&&"string"===typeof t.shadowText&&t.shadowText.length>0)),inputRef:y,emitValue:q,hasValue:E,floatingLabel:(0,i.Fl)((()=>!0===E.value||(0,o.yV)(t.displayValue))),getControl:()=>(0,i.h)(!0===P.value?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",t.inputClass],style:t.inputStyle,...L.value,...R.value,..."file"!==t.type?{value:N()}:A.value}),getShadowControl:()=>(0,i.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===P.value?"":" text-no-wrap")},[(0,i.h)("span",{class:"invisible"},N()),(0,i.h)("span",t.shadowText)])});const U=(0,o.ZP)(M);return Object.assign(s,{focus:D,select:I,getNativeElement:()=>y.value}),(0,w.g)(s,"nativeEl",(()=>y.value)),U}})},5246:function(t,e,n){"use strict";n(3352);var i=n(9269),r=n(6237),o=n(6597),s=n(2453),a=n(3856),l=n(64),u=n(3027),c=n(6809);e["Z"]=(0,a.L)({name:"QItem",props:{...o.S,...s.$,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:e,emit:n}){const{proxy:{$q:a}}=(0,i.FN)(),h=(0,o.Z)(t,a),{hasLink:f,linkAttrs:d,linkClass:p,linkTag:v,navigateOnClick:g}=(0,s.Z)(),m=(0,r.iH)(null),y=(0,r.iH)(null),b=(0,i.Fl)((()=>!0===t.clickable||!0===f.value||"label"===t.tag)),_=(0,i.Fl)((()=>!0!==t.disable&&!0===b.value)),w=(0,i.Fl)((()=>"q-item q-item-type row no-wrap"+(!0===t.dense?" q-item--dense":"")+(!0===h.value?" q-item--dark":"")+(!0===f.value&&null===t.active?p.value:!0===t.active?" q-item--active"+(void 0!==t.activeClass?` ${t.activeClass}`:""):"")+(!0===t.disable?" disabled":"")+(!0===_.value?" q-item--clickable q-link cursor-pointer "+(!0===t.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===t.focused?" q-manual-focusable--focused":""):""))),x=(0,i.Fl)((()=>{if(void 0===t.insetLevel)return null;const e=!0===a.lang.rtl?"Right":"Left";return{["padding"+e]:16+56*t.insetLevel+"px"}}));function S(t){!0===_.value&&(null!==y.value&&(!0!==t.qKeyEvent&&document.activeElement===m.value?y.value.focus():document.activeElement===y.value&&m.value.focus()),g(t))}function C(t){if(!0===_.value&&!0===(0,c.So)(t,13)){(0,u.NS)(t),t.qKeyEvent=!0;const e=new MouseEvent("click",t);e.qKeyEvent=!0,m.value.dispatchEvent(e)}n("keyup",t)}function T(){const t=(0,l.Bl)(e.default,[]);return!0===_.value&&t.unshift((0,i.h)("div",{class:"q-focus-helper",tabindex:-1,ref:y})),t}return()=>{const e={ref:m,class:w.value,style:x.value,role:"listitem",onClick:S,onKeyup:C};return!0===_.value?(e.tabindex=t.tabindex||"0",Object.assign(e,d.value)):!0===b.value&&(e["aria-disabled"]="true"),(0,i.h)(v.value,e,T())}}})},2278:function(t,e,n){"use strict";var i=n(9269),r=n(3856),o=n(64);e["Z"]=(0,r.L)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:e}){const n=(0,i.Fl)((()=>"q-item__section column q-item__section--"+(!0===t.avatar||!0===t.side||!0===t.thumbnail?"side":"main")+(!0===t.top?" q-item__section--top justify-start":" justify-center")+(!0===t.avatar?" q-item__section--avatar":"")+(!0===t.thumbnail?" q-item__section--thumbnail":"")+(!0===t.noWrap?" q-item__section--nowrap":"")));return()=>(0,i.h)("div",{class:n.value},(0,o.KR)(e.default))}})},2146:function(t,e,n){"use strict";var i=n(9269),r=n(3856),o=n(6597),s=n(64);e["Z"]=(0,r.L)({name:"QList",props:{...o.S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:e}){const n=(0,i.FN)(),r=(0,o.Z)(t,n.proxy.$q),a=(0,i.Fl)((()=>"q-list"+(!0===t.bordered?" q-list--bordered":"")+(!0===t.dense?" q-list--dense":"")+(!0===t.separator?" q-list--separator":"")+(!0===r.value?" q-list--dark":"")+(!0===t.padding?" q-list--padding":"")));return()=>(0,i.h)(t.tag,{class:a.value,role:"list"},(0,s.KR)(e.default))}})},7188:function(t,e,n){"use strict";n.d(e,{Z:function(){return q}});var i=n(9269),r=n(6237),o=n(5102),s=n(9600),a=n(3027);function l(t,e){const n=(0,r.iH)(null);let o;function s(t,e){const n=(void 0!==e?"add":"remove")+"EventListener",i=void 0!==e?e:o;t!==window&&t[n]("scroll",i,a.rU.passive),window[n]("scroll",i,a.rU.passive),o=e}function l(){null!==n.value&&(s(n.value),n.value=null)}const u=(0,i.YP)((()=>t.noParentEvent),(()=>{null!==n.value&&(l(),e())}));return(0,i.Jd)(u),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:s}}var u=n(9216),c=n(6597),h=n(3852),f=n(959),d=n(6775),p=n(7933),v=n(3856),g=n(1761),m=n(7336),y=n(64),b=n(1135),_=n(7001),w=n(6145);n(4719);let x;const{notPassiveCapture:S}=a.rU,C=[];function T(t){clearTimeout(x);const e=t.target;if(void 0===e||8===e.nodeType||!0===e.classList.contains("no-pointer-events"))return;let n=g.Q$.length-1;while(n>=0){const t=g.Q$[n].$;if("QDialog"!==t.type.name)break;if(!0!==t.props.seamless)return;n--}for(let i=C.length-1;i>=0;i--){const n=C[i];if(null!==n.anchorEl.value&&!1!==n.anchorEl.value.contains(e)||e!==document.body&&(null===n.innerRef.value||!1!==n.innerRef.value.contains(e)))return;t.qClickOutside=!0,n.onClickOutside(t)}}function k(t){C.push(t),1===C.length&&(document.addEventListener("mousedown",T,S),document.addEventListener("touchstart",T,S))}function O(t){const e=C.findIndex((e=>e===t));e>-1&&(C.splice(e,1),0===C.length&&(clearTimeout(x),document.removeEventListener("mousedown",T,S),document.removeEventListener("touchstart",T,S)))}var A=n(6146),E=n(1013);let F,M;function P(t){const e=t.split(" ");return 2===e.length&&(!0!==["top","center","bottom"].includes(e[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(e[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function j(t){return!t||2===t.length&&("number"===typeof t[0]&&"number"===typeof t[1])}const R={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function L(t,e){const n=t.split(" ");return{vertical:n[0],horizontal:R[`${n[1]}#${!0===e?"rtl":"ltr"}`]}}function D(t,e){let{top:n,left:i,right:r,bottom:o,width:s,height:a}=t.getBoundingClientRect();return void 0!==e&&(n-=e[1],i-=e[0],o+=e[1],r+=e[0],s+=e[0],a+=e[1]),{top:n,left:i,right:r,bottom:o,width:s,height:a,middle:i+(r-i)/2,center:n+(o-n)/2}}function I(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}function z(t){if(!0===E.Lp.is.ios&&void 0!==window.visualViewport){const t=document.body.style,{offsetLeft:e,offsetTop:n}=window.visualViewport;e!==F&&(t.setProperty("--q-pe-left",e+"px"),F=e),n!==M&&(t.setProperty("--q-pe-top",n+"px"),M=n)}let e;const{scrollLeft:n,scrollTop:i}=t.el;if(void 0===t.absoluteOffset)e=D(t.anchorEl,!0===t.cover?[0,0]:t.offset);else{const{top:n,left:i}=t.anchorEl.getBoundingClientRect(),r=n+t.absoluteOffset.top,o=i+t.absoluteOffset.left;e={top:r,left:o,width:1,height:1,right:o+1,center:r,middle:o,bottom:r+1}}let r={maxHeight:t.maxHeight,maxWidth:t.maxWidth,visibility:"visible"};!0!==t.fit&&!0!==t.cover||(r.minWidth=e.width+"px",!0===t.cover&&(r.minHeight=e.height+"px")),Object.assign(t.el.style,r);const o=I(t.el),s={top:e[t.anchorOrigin.vertical]-o[t.selfOrigin.vertical],left:e[t.anchorOrigin.horizontal]-o[t.selfOrigin.horizontal]};B(s,e,o,t.anchorOrigin,t.selfOrigin),r={top:s.top+"px",left:s.left+"px"},void 0!==s.maxHeight&&(r.maxHeight=s.maxHeight+"px",e.height>s.maxHeight&&(r.minHeight=r.maxHeight)),void 0!==s.maxWidth&&(r.maxWidth=s.maxWidth+"px",e.width>s.maxWidth&&(r.minWidth=r.maxWidth)),Object.assign(t.el.style,r),t.el.scrollTop!==i&&(t.el.scrollTop=i),t.el.scrollLeft!==n&&(t.el.scrollLeft=n)}function B(t,e,n,i,r){const o=n.bottom,s=n.right,a=(0,m.np)(),l=window.innerHeight-a,u=document.body.clientWidth;if(t.top<0||t.top+o>l)if("center"===r.vertical)t.top=e[i.vertical]>l/2?Math.max(0,l-o):0,t.maxHeight=Math.min(o,l);else if(e[i.vertical]>l/2){const n=Math.min(l,"center"===i.vertical?e.center:i.vertical===r.vertical?e.bottom:e.top);t.maxHeight=Math.min(o,n),t.top=Math.max(0,n-o)}else t.top=Math.max(0,"center"===i.vertical?e.center:i.vertical===r.vertical?e.top:e.bottom),t.maxHeight=Math.min(o,l-t.top);if(t.left<0||t.left+s>u)if(t.maxWidth=Math.min(s,u),"middle"===r.horizontal)t.left=e[i.horizontal]>u/2?Math.max(0,u-s):0;else if(e[i.horizontal]>u/2){const n=Math.min(u,"middle"===i.horizontal?e.middle:i.horizontal===r.horizontal?e.right:e.left);t.maxWidth=Math.min(s,n),t.left=Math.max(0,n-t.maxWidth)}else t.left=Math.max(0,"middle"===i.horizontal?e.middle:i.horizontal===r.horizontal?e.left:e.right),t.maxWidth=Math.min(s,u-t.left)}["left","middle","right"].forEach((t=>{R[`${t}#ltr`]=t,R[`${t}#rtl`]=t}));var q=(0,v.L)({name:"QMenu",inheritAttrs:!1,props:{...s.u,...u.vr,...c.S,...f.D,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:P},self:{type:String,validator:P},offset:{type:Array,validator:j},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...u.gH,"click","escapeKey"],setup(t,{slots:e,emit:n,attrs:v}){let x,S,C,T=null;const E=(0,i.FN)(),{proxy:F}=E,{$q:M}=F,P=(0,r.iH)(null),j=(0,r.iH)(!1),R=(0,i.Fl)((()=>!0!==t.persistent&&!0!==t.noRouteDismiss)),D=(0,c.Z)(t,M),{registerTick:I,removeTick:B}=(0,d.Z)(),{registerTimeout:q}=(0,p.Z)(),{transitionProps:H,transitionStyle:V}=(0,f.Z)(t),{localScrollTarget:W,changeScrollEvent:N,unconfigureScrollTarget:U}=l(t,lt),{anchorEl:Y,canShow:X}=(0,s.Z)({showing:j}),{hide:$}=(0,u.ZP)({showing:j,canShow:X,handleShow:ot,handleHide:st,hideOnRouteChange:R,processOnMount:!0}),{showPortal:G,hidePortal:Z,renderPortal:K}=(0,h.Z)(E,P,dt),J={anchorEl:Y,innerRef:P,onClickOutside(e){if(!0!==t.persistent&&!0===j.value)return $(e),("touchstart"===e.type||e.target.classList.contains("q-dialog__backdrop"))&&(0,a.NS)(e),!0}},Q=(0,i.Fl)((()=>L(t.anchor||(!0===t.cover?"center middle":"bottom start"),M.lang.rtl))),tt=(0,i.Fl)((()=>!0===t.cover?Q.value:L(t.self||"top start",M.lang.rtl))),et=(0,i.Fl)((()=>(!0===t.square?" q-menu--square":"")+(!0===D.value?" q-menu--dark q-dark":""))),nt=(0,i.Fl)((()=>!0===t.autoClose?{onClick:ut}:{})),it=(0,i.Fl)((()=>!0===j.value&&!0!==t.persistent));function rt(){(0,A.jd)((()=>{let t=P.value;t&&!0!==t.contains(document.activeElement)&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}))}function ot(e){if(T=!1===t.noRefocus?document.activeElement:null,(0,_.i)(ct),G(),lt(),x=void 0,void 0!==e&&(t.touchPosition||t.contextMenu)){const t=(0,a.FK)(e);if(void 0!==t.left){const{top:e,left:n}=Y.value.getBoundingClientRect();x={left:t.left-n,top:t.top-e}}}void 0===S&&(S=(0,i.YP)((()=>M.screen.width+"|"+M.screen.height+"|"+t.self+"|"+t.anchor+"|"+M.lang.rtl),ft)),!0!==t.noFocus&&document.activeElement.blur(),I((()=>{ft(),!0!==t.noFocus&&rt()})),q((()=>{!0===M.platform.is.ios&&(C=t.autoClose,P.value.click()),ft(),G(!0),n("show",e)}),t.transitionDuration)}function st(e){B(),Z(),at(!0),null===T||void 0!==e&&!0===e.qClickOutside||(T.focus(),T=null),q((()=>{Z(!0),n("hide",e)}),t.transitionDuration)}function at(t){x=void 0,void 0!==S&&(S(),S=void 0),!0!==t&&!0!==j.value||((0,_.H)(ct),U(),O(J),(0,b.k)(ht)),!0!==t&&(T=null)}function lt(){null===Y.value&&void 0===t.scrollTarget||(W.value=(0,m.b0)(Y.value,t.scrollTarget),N(W.value,ft))}function ut(t){!0!==C?((0,g.AH)(F,t),n("click",t)):C=!1}function ct(e){!0===it.value&&!0!==t.noFocus&&!0!==(0,w.mY)(P.value,e.target)&&rt()}function ht(t){n("escapeKey"),$(t)}function ft(){const e=P.value;null!==e&&null!==Y.value&&z({el:e,offset:t.offset,anchorEl:Y.value,anchorOrigin:Q.value,selfOrigin:tt.value,absoluteOffset:x,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function dt(){return(0,i.h)(o.uT,H.value,(()=>!0===j.value?(0,i.h)("div",{role:"menu",...v,ref:P,tabindex:-1,class:["q-menu q-position-engine scroll"+et.value,v.class],style:[v.style,V.value],...nt.value},(0,y.KR)(e.default)):null))}return(0,i.YP)(it,(t=>{!0===t?((0,b.c)(ht),k(J)):((0,b.k)(ht),O(J))})),(0,i.Jd)(at),Object.assign(F,{focus:rt,updatePosition:ft}),K}})},9778:function(t,e,n){"use strict";var i=n(9269),r=n(6237),o=n(1682),s=n(7188),a=n(9600),l=n(3856);e["Z"]=(0,l.L)({name:"QPopupProxy",props:{...a.u,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(t,{slots:e,emit:n,attrs:l}){const{proxy:u}=(0,i.FN)(),{$q:c}=u,h=(0,r.iH)(!1),f=(0,r.iH)(null),d=(0,i.Fl)((()=>parseInt(t.breakpoint,10))),{canShow:p}=(0,a.Z)({showing:h});function v(){return c.screen.width<d.value||c.screen.height<d.value?"dialog":"menu"}const g=(0,r.iH)(v()),m=(0,i.Fl)((()=>"menu"===g.value?{maxHeight:"99vh"}:{}));function y(t){h.value=!0,n("show",t)}function b(t){h.value=!1,g.value=v(),n("hide",t)}return(0,i.YP)((()=>v()),(t=>{!0!==h.value&&(g.value=t)})),Object.assign(u,{show(t){!0===p(t)&&f.value.show(t)},hide(t){f.value.hide(t)},toggle(t){f.value.toggle(t)}}),()=>{const n={ref:f,...m.value,...l,onShow:y,onHide:b};let r;return"dialog"===g.value?r=o.Z:(r=s.Z,Object.assign(n,{target:t.target,contextMenu:t.contextMenu,noParentEvent:!0,separateClosePopup:!0})),(0,i.h)(r,n,e.default)}}})},6466:function(t,e,n){"use strict";n.d(e,{Z:function(){return z}});n(4719);var i=n(9269),r=n(6237),o=n(4553),s=n(4633),a=n(1384),l=n(5246),u=n(2278),c=n(3856),h=n(64),f=(0,c.L)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:e}){const n=(0,i.Fl)((()=>parseInt(t.lines,10))),r=(0,i.Fl)((()=>"q-item__label"+(!0===t.overline?" q-item__label--overline text-overline":"")+(!0===t.caption?" q-item__label--caption text-caption":"")+(!0===t.header?" q-item__label--header":"")+(1===n.value?" ellipsis":""))),o=(0,i.Fl)((()=>void 0!==t.lines&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null));return()=>(0,i.h)("div",{style:o.value,class:r.value},(0,h.KR)(e.default))}}),d=n(7188),p=n(1682),v=n(3578),g=n(7265),m=n(3027),y=n(3979);const b=1e3,_=["start","center","end","start-force","center-force","end-force"],w=Array.prototype.filter,x=void 0===window.getComputedStyle(document.body).overflowAnchor?m.ZT:function(t,e){null!==t&&(cancelAnimationFrame(t._qOverflowAnimationFrame),t._qOverflowAnimationFrame=requestAnimationFrame((()=>{if(null===t)return;const n=t.children||[];w.call(n,(t=>t.dataset&&void 0!==t.dataset.qVsAnchor)).forEach((t=>{delete t.dataset.qVsAnchor}));const i=n[e];i&&i.dataset&&(i.dataset.qVsAnchor="")})))};function S(t,e){return t+e}function C(t,e,n,i,r,o,s,a){const l=t===window?document.scrollingElement||document.documentElement:t,u=!0===r?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-s-a,scrollMaxSize:0,offsetStart:-s,offsetEnd:-a};if(!0===r?(t===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=l.scrollLeft,c.scrollViewSize+=l.clientWidth),c.scrollMaxSize=l.scrollWidth,!0===o&&(c.scrollStart=(!0===y.e?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(t===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=l.scrollTop,c.scrollViewSize+=l.clientHeight),c.scrollMaxSize=l.scrollHeight),null!==n)for(let h=n.previousElementSibling;null!==h;h=h.previousElementSibling)!1===h.classList.contains("q-virtual-scroll--skip")&&(c.offsetStart+=h[u]);if(null!==i)for(let h=i.nextElementSibling;null!==h;h=h.nextElementSibling)!1===h.classList.contains("q-virtual-scroll--skip")&&(c.offsetEnd+=h[u]);if(e!==t){const n=l.getBoundingClientRect(),i=e.getBoundingClientRect();!0===r?(c.offsetStart+=i.left-n.left,c.offsetEnd-=i.width):(c.offsetStart+=i.top-n.top,c.offsetEnd-=i.height),t!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function T(t,e,n,i){"end"===e&&(e=(t===window?document.body:t)[!0===n?"scrollWidth":"scrollHeight"]),t===window?!0===n?(!0===i&&(e=(!0===y.e?document.body.scrollWidth-document.documentElement.clientWidth:0)-e),window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e):!0===n?(!0===i&&(e=(!0===y.e?t.scrollWidth-t.offsetWidth:0)-e),t.scrollLeft=e):t.scrollTop=e}function k(t,e,n,i){if(n>=i)return 0;const r=e.length,o=Math.floor(n/b),s=Math.floor((i-1)/b)+1;let a=t.slice(o,s).reduce(S,0);return n%b!==0&&(a-=e.slice(o*b,n).reduce(S,0)),i%b!==0&&i!==r&&(a-=e.slice(i,s*b).reduce(S,0)),a}const O={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},A=(Object.keys(O),{virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...O});function E({virtualScrollLength:t,getVirtualScrollTarget:e,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const s=(0,i.FN)(),{props:a,emit:l,proxy:u}=s,{$q:c}=u;let h,f,d,p,v=[];const m=(0,r.iH)(0),y=(0,r.iH)(0),O=(0,r.iH)({}),A=(0,r.iH)(null),E=(0,r.iH)(null),F=(0,r.iH)(null),M=(0,r.iH)({from:0,to:0}),P=(0,i.Fl)((()=>void 0!==a.tableColspan?a.tableColspan:100));void 0===o&&(o=(0,i.Fl)((()=>a.virtualScrollItemSize)));const j=(0,i.Fl)((()=>o.value+";"+a.virtualScrollHorizontal)),R=(0,i.Fl)((()=>j.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter));function L(){V(f,!0)}function D(t){V(void 0===t?f:t)}function I(i,r){const o=e();if(void 0===o||null===o||8===o.nodeType)return;const s=C(o,n(),A.value,E.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);d!==s.scrollViewSize&&W(s.scrollViewSize),B(o,s,Math.min(t.value-1,Math.max(0,parseInt(i,10)||0)),0,_.indexOf(r)>-1?r:f>-1&&i>f?"end":"start")}function z(){const i=e();if(void 0===i||null===i||8===i.nodeType)return;const r=C(i,n(),A.value,E.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),o=t.value-1,s=r.scrollMaxSize-r.offsetStart-r.offsetEnd-y.value;if(h===r.scrollStart)return;if(r.scrollMaxSize<=0)return void B(i,r,0,0);d!==r.scrollViewSize&&W(r.scrollViewSize),q(M.value.from);const l=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(p[o],r.scrollViewSize/2));if(l>0&&Math.ceil(r.scrollStart)>=l)return void B(i,r,o,r.scrollMaxSize-r.offsetEnd-v.reduce(S,0));let u=0,f=r.scrollStart-r.offsetStart,g=f;if(f<=s&&f+r.scrollViewSize>=m.value)f-=m.value,u=M.value.from,g=f;else for(let t=0;f>=v[t]&&u<o;t++)f-=v[t],u+=b;while(f>0&&u<o)f-=p[u],f>-r.scrollViewSize?(u++,g=f):g=p[u]+f;B(i,r,u,g)}function B(e,n,i,r,o){const s="string"===typeof o&&o.indexOf("-force")>-1,l=!0===s?o.replace("-force",""):o,u=void 0!==l?l:"start";let f=Math.max(0,i-O.value[u]),d=f+O.value.total;d>t.value&&(d=t.value,f=Math.max(0,d-O.value.total)),h=n.scrollStart;const g=f!==M.value.from||d!==M.value.to;if(!1===g&&void 0===l)return void U(i);const{activeElement:b}=document,_=F.value;!0===g&&null!==_&&_!==b&&!0===_.contains(b)&&(_.addEventListener("focusout",H),setTimeout((()=>{null!==_&&_.removeEventListener("focusout",H)}))),x(_,i-f);const w=void 0!==l?p.slice(f,i).reduce(S,0):0;if(!0===g){const e=d>=M.value.from&&f<=M.value.to?M.value.to:d;M.value={from:f,to:e},m.value=k(v,p,0,f),y.value=k(v,p,d,t.value),requestAnimationFrame((()=>{M.value.to!==d&&h===n.scrollStart&&(M.value={from:M.value.from,to:d},y.value=k(v,p,d,t.value))}))}requestAnimationFrame((()=>{if(h!==n.scrollStart)return;!0===g&&q(f);const t=p.slice(f,i).reduce(S,0),o=t+n.offsetStart+m.value,u=o+p[i];let d=o+r;if(void 0!==l){const e=t-w,r=n.scrollStart+e;d=!0!==s&&r<o&&u<r+n.scrollViewSize?r:"end"===l?u-n.scrollViewSize:o-("start"===l?0:Math.round((n.scrollViewSize-p[i])/2))}h=d,T(e,d,a.virtualScrollHorizontal,c.lang.rtl),U(i)}))}function q(t){const e=F.value;if(e){const n=w.call(e.children,(t=>t.classList&&!1===t.classList.contains("q-virtual-scroll--skip"))),i=n.length,r=!0===a.virtualScrollHorizontal?t=>t.getBoundingClientRect().width:t=>t.offsetHeight;let o,s,l=t;for(let t=0;t<i;){o=r(n[t]),t++;while(t<i&&!0===n[t].classList.contains("q-virtual-scroll--with-prev"))o+=r(n[t]),t++;s=o-p[l],0!==s&&(p[l]+=s,v[Math.floor(l/b)]+=s),l++}}}function H(){null!==F.value&&void 0!==F.value&&F.value.focus()}function V(e,n){const r=1*o.value;!0!==n&&!1!==Array.isArray(p)||(p=[]);const s=p.length;p.length=t.value;for(let i=t.value-1;i>=s;i--)p[i]=r;const a=Math.floor((t.value-1)/b);v=[];for(let i=0;i<=a;i++){let e=0;const n=Math.min((i+1)*b,t.value);for(let t=i*b;t<n;t++)e+=p[t];v.push(e)}f=-1,h=void 0,m.value=k(v,p,0,M.value.from),y.value=k(v,p,M.value.to,t.value),e>=0?(q(M.value.from),(0,i.Y3)((()=>{I(e)}))):Y()}function W(t){if(void 0===t&&"undefined"!==typeof window){const i=e();void 0!==i&&null!==i&&8!==i.nodeType&&(t=C(i,n(),A.value,E.value,a.virtualScrollHorizontal,c.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}d=t;const i=parseFloat(a.virtualScrollSliceRatioBefore)||0,r=parseFloat(a.virtualScrollSliceRatioAfter)||0,s=1+i+r,l=void 0===t||t<=0?1:Math.ceil(t/o.value),u=Math.max(1,l,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/s));O.value={total:Math.ceil(u*s),start:Math.ceil(u*i),center:Math.ceil(u*(.5+i)),end:Math.ceil(u*(1+i)),view:l}}function N(t,e){const n=!0===a.virtualScrollHorizontal?"width":"height",r={["--q-virtual-scroll-item-"+n]:o.value+"px"};return["tbody"===t?(0,i.h)(t,{class:"q-virtual-scroll__padding",key:"before",ref:A},[(0,i.h)("tr",[(0,i.h)("td",{style:{[n]:`${m.value}px`,...r},colspan:P.value})])]):(0,i.h)(t,{class:"q-virtual-scroll__padding",key:"before",ref:A,style:{[n]:`${m.value}px`,...r}}),(0,i.h)(t,{class:"q-virtual-scroll__content",key:"content",ref:F,tabindex:-1},e.flat()),"tbody"===t?(0,i.h)(t,{class:"q-virtual-scroll__padding",key:"after",ref:E},[(0,i.h)("tr",[(0,i.h)("td",{style:{[n]:`${y.value}px`,...r},colspan:P.value})])]):(0,i.h)(t,{class:"q-virtual-scroll__padding",key:"after",ref:E,style:{[n]:`${y.value}px`,...r}})]}function U(t){f!==t&&(void 0!==a.onVirtualScroll&&l("virtualScroll",{index:t,from:M.value.from,to:M.value.to-1,direction:t<f?"decrease":"increase",ref:u}),f=t)}(0,i.YP)(R,(()=>{W()})),(0,i.YP)(j,L),W();const Y=(0,g.Z)(z,!0===c.platform.is.ios?120:35);(0,i.wF)((()=>{W()}));let X=!1;return(0,i.se)((()=>{X=!0})),(0,i.dl)((()=>{if(!0!==X)return;const t=e();void 0!==h&&void 0!==t&&null!==t&&8!==t.nodeType?T(t,h,a.virtualScrollHorizontal,c.lang.rtl):I(f)})),(0,i.Jd)((()=>{Y.cancel()})),Object.assign(u,{scrollTo:I,reset:L,refresh:D}),{virtualScrollSliceRange:M,virtualScrollSliceSizeComputed:O,setVirtualScrollSize:W,onVirtualScrollEvt:Y,localResetVirtualScroll:V,padVirtualScroll:N,scrollTo:I,reset:L,refresh:D}}var F=n(9724),M=n(447),P=n(3704),j=n(7328),R=n(6809);const L=t=>["add","add-unique","toggle"].includes(t),D=".*+?^${}()|[]\\",I=Object.keys(v.Cl);var z=(0,c.L)({name:"QSelect",inheritAttrs:!1,props:{...A,...F.Fz,...v.Cl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:L},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...v.HJ,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(t,{slots:e,emit:n}){const{proxy:c}=(0,i.FN)(),{$q:g}=c,y=(0,r.iH)(!1),b=(0,r.iH)(!1),_=(0,r.iH)(-1),w=(0,r.iH)(""),x=(0,r.iH)(!1),S=(0,r.iH)(!1);let C,T,k,O,A,z,B,q,H;const V=(0,r.iH)(null),W=(0,r.iH)(null),N=(0,r.iH)(null),U=(0,r.iH)(null),Y=(0,r.iH)(null),X=(0,F.Do)(t),$=(0,M.Z)($t),G=(0,i.Fl)((()=>Array.isArray(t.options)?t.options.length:0)),Z=(0,i.Fl)((()=>void 0===t.virtualScrollItemSize?!0===t.optionsDense?24:48:t.virtualScrollItemSize)),{virtualScrollSliceRange:K,virtualScrollSliceSizeComputed:J,localResetVirtualScroll:Q,padVirtualScroll:tt,onVirtualScrollEvt:et,scrollTo:nt,setVirtualScrollSize:it}=E({virtualScrollLength:G,getVirtualScrollTarget:Nt,getVirtualScrollEl:Wt,virtualScrollItemSizeComputed:Z}),rt=(0,v.tL)(),ot=(0,i.Fl)((()=>{const e=!0===t.mapOptions&&!0!==t.multiple,n=void 0===t.modelValue||null===t.modelValue&&!0!==e?[]:!0===t.multiple&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue];if(!0===t.mapOptions&&!0===Array.isArray(t.options)){const i=!0===t.mapOptions&&void 0!==T?T:[],r=n.map((t=>Lt(t,i)));return null===t.modelValue&&!0===e?r.filter((t=>null!==t)):r}return n})),st=(0,i.Fl)((()=>{const e={};return I.forEach((n=>{const i=t[n];void 0!==i&&(e[n]=i)})),e})),at=(0,i.Fl)((()=>null===t.optionsDark?rt.isDark.value:t.optionsDark)),lt=(0,i.Fl)((()=>(0,v.yV)(ot.value))),ut=(0,i.Fl)((()=>{let e="q-field__input q-placeholder col";return!0===t.hideSelected||0===ot.value.length?[e,t.inputClass]:(e+=" q-field__input--padding",void 0===t.inputClass?e:[e,t.inputClass])})),ct=(0,i.Fl)((()=>(!0===t.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(t.popupContentClass?" "+t.popupContentClass:""))),ht=(0,i.Fl)((()=>0===G.value)),ft=(0,i.Fl)((()=>ot.value.map((t=>Ct.value(t))).join(", "))),dt=(0,i.Fl)((()=>!0===t.optionsHtml?()=>!0:t=>void 0!==t&&null!==t&&!0===t.html)),pt=(0,i.Fl)((()=>!0===t.displayValueHtml||void 0===t.displayValue&&(!0===t.optionsHtml||ot.value.some(dt.value)))),vt=(0,i.Fl)((()=>!0===rt.focused.value?t.tabindex:-1)),gt=(0,i.Fl)((()=>({tabindex:t.tabindex,role:"combobox","aria-label":t.label,"aria-readonly":!0===t.readonly?"true":"false","aria-autocomplete":!0===t.useInput?"list":"none","aria-expanded":!0===y.value?"true":"false","aria-owns":`${rt.targetUid.value}_lb`,"aria-controls":`${rt.targetUid.value}_lb`}))),mt=(0,i.Fl)((()=>{const e={id:`${rt.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===t.multiple?"true":"false"};return _.value>=0&&(e["aria-activedescendant"]=`${rt.targetUid.value}_${_.value}`),e})),yt=(0,i.Fl)((()=>ot.value.map(((t,e)=>({index:e,opt:t,html:dt.value(t),selected:!0,removeAtIndex:Ft,toggleOption:Pt,tabindex:vt.value}))))),bt=(0,i.Fl)((()=>{if(0===G.value)return[];const{from:e,to:n}=K.value;return t.options.slice(e,n).map(((n,i)=>{const r=!0===Tt.value(n),o=e+i,s={clickable:!0,active:!1,activeClass:xt.value,manualFocus:!0,focused:!1,disable:r,tabindex:-1,dense:t.optionsDense,dark:at.value,role:"option",id:`${rt.targetUid.value}_${o}`,onClick:()=>{Pt(n)}};return!0!==r&&(!0===It(n)&&(s.active=!0),_.value===o&&(s.focused=!0),s["aria-selected"]=!0===s.active?"true":"false",!0===g.platform.is.desktop&&(s.onMousemove=()=>{!0===y.value&&jt(o)})),{index:o,opt:n,html:dt.value(n),label:Ct.value(n),selected:s.active,focused:s.focused,toggleOption:Pt,setOptionIndex:jt,itemProps:s}}))})),_t=(0,i.Fl)((()=>void 0!==t.dropdownIcon?t.dropdownIcon:g.iconSet.arrow.dropdown)),wt=(0,i.Fl)((()=>!1===t.optionsCover&&!0!==t.outlined&&!0!==t.standout&&!0!==t.borderless&&!0!==t.rounded)),xt=(0,i.Fl)((()=>void 0!==t.optionsSelectedClass?t.optionsSelectedClass:void 0!==t.color?`text-${t.color}`:"")),St=(0,i.Fl)((()=>Dt(t.optionValue,"value"))),Ct=(0,i.Fl)((()=>Dt(t.optionLabel,"label"))),Tt=(0,i.Fl)((()=>Dt(t.optionDisable,"disable"))),kt=(0,i.Fl)((()=>ot.value.map((t=>St.value(t))))),Ot=(0,i.Fl)((()=>{const t={onInput:$t,onChange:$,onKeydown:Vt,onKeyup:qt,onKeypress:Ht,onFocus:zt,onClick(t){!0===k&&(0,m.sT)(t)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=$,t}));function At(e){return!0===t.emitValue?St.value(e):e}function Et(e){if(e>-1&&e<ot.value.length)if(!0===t.multiple){const i=t.modelValue.slice();n("remove",{index:e,value:i.splice(e,1)[0]}),n("update:modelValue",i)}else n("update:modelValue",null)}function Ft(t){Et(t),rt.focus()}function Mt(e,i){const r=At(e);if(!0!==t.multiple)return!0===t.fillInput&&Zt(Ct.value(e),!0,!0),void n("update:modelValue",r);if(0===ot.value.length)return n("add",{index:0,value:r}),void n("update:modelValue",!0===t.multiple?[r]:r);if(!0===i&&!0===It(e))return;if(void 0!==t.maxValues&&t.modelValue.length>=t.maxValues)return;const o=t.modelValue.slice();n("add",{index:o.length,value:r}),o.push(r),n("update:modelValue",o)}function Pt(e,i){if(!0!==rt.editable.value||void 0===e||!0===Tt.value(e))return;const r=St.value(e);if(!0!==t.multiple)return!0!==i&&(Zt(!0===t.fillInput?Ct.value(e):"",!0,!0),ue()),null!==W.value&&W.value.focus(),void(0!==ot.value.length&&!0===(0,P.xb)(St.value(ot.value[0]),r)||n("update:modelValue",!0===t.emitValue?r:e));if((!0!==k||!0===x.value)&&rt.focus(),zt(),0===ot.value.length){const i=!0===t.emitValue?r:e;return n("add",{index:0,value:i}),void n("update:modelValue",!0===t.multiple?[i]:i)}const o=t.modelValue.slice(),s=kt.value.findIndex((t=>(0,P.xb)(t,r)));if(s>-1)n("remove",{index:s,value:o.splice(s,1)[0]});else{if(void 0!==t.maxValues&&o.length>=t.maxValues)return;const i=!0===t.emitValue?r:e;n("add",{index:o.length,value:i}),o.push(i)}n("update:modelValue",o)}function jt(t){if(!0!==g.platform.is.desktop)return;const e=t>-1&&t<G.value?t:-1;_.value!==e&&(_.value=e)}function Rt(e=1,n){if(!0===y.value){let i=_.value;do{i=(0,j.Uz)(i+e,-1,G.value-1)}while(-1!==i&&i!==_.value&&!0===Tt.value(t.options[i]));_.value!==i&&(jt(i),nt(i),!0!==n&&!0===t.useInput&&!0===t.fillInput&&Gt(i>=0?Ct.value(t.options[i]):z))}}function Lt(e,n){const i=t=>(0,P.xb)(St.value(t),e);return t.options.find(i)||n.find(i)||e}function Dt(t,e){const n=void 0!==t?t:e;return"function"===typeof n?n:t=>null!==t&&"object"===typeof t&&n in t?t[n]:t}function It(t){const e=St.value(t);return void 0!==kt.value.find((t=>(0,P.xb)(t,e)))}function zt(e){!0===t.useInput&&null!==W.value&&(void 0===e||W.value===e.target&&e.target.value===ft.value)&&W.value.select()}function Bt(t){!0===(0,R.So)(t,27)&&!0===y.value&&((0,m.sT)(t),ue(),ce()),n("keyup",t)}function qt(e){const{value:n}=e.target;if(void 0===e.keyCode)if(e.target.value="",clearTimeout(C),ce(),"string"===typeof n&&n.length>0){const e=n.toLocaleLowerCase(),i=n=>{const i=t.options.find((t=>n.value(t).toLocaleLowerCase()===e));return void 0!==i&&(-1===ot.value.indexOf(i)?Pt(i):ue(),!0)},r=t=>{!0!==i(St)&&!0!==i(Ct)&&!0!==t&&Kt(n,!0,(()=>r(!0)))};r()}else rt.clearValue(e);else Bt(e)}function Ht(t){n("keypress",t)}function Vt(e){if(n("keydown",e),!0===(0,R.Wm)(e))return;const r=w.value.length>0&&(void 0!==t.newValueMode||void 0!==t.onNewValue),o=!0!==e.shiftKey&&!0!==t.multiple&&(_.value>-1||!0===r);if(27===e.keyCode)return void(0,m.X$)(e);if(9===e.keyCode&&!1===o)return void ae();if(void 0===e.target||e.target.id!==rt.targetUid.value)return;if(40===e.keyCode&&!0!==rt.innerLoading.value&&!1===y.value)return(0,m.NS)(e),void le();if(8===e.keyCode&&!0!==t.hideSelected&&0===w.value.length)return void(!0===t.multiple&&!0===Array.isArray(t.modelValue)?Et(t.modelValue.length-1):!0!==t.multiple&&null!==t.modelValue&&n("update:modelValue",null));35!==e.keyCode&&36!==e.keyCode||"string"===typeof w.value&&0!==w.value.length||((0,m.NS)(e),_.value=-1,Rt(36===e.keyCode?1:-1,t.multiple)),33!==e.keyCode&&34!==e.keyCode||void 0===J.value||((0,m.NS)(e),_.value=Math.max(-1,Math.min(G.value,_.value+(33===e.keyCode?-1:1)*J.value.view)),Rt(33===e.keyCode?1:-1,t.multiple)),38!==e.keyCode&&40!==e.keyCode||((0,m.NS)(e),Rt(38===e.keyCode?-1:1,t.multiple));const s=G.value;if((void 0===q||H<Date.now())&&(q=""),s>0&&!0!==t.useInput&&void 0!==e.key&&1===e.key.length&&e.altKey===e.ctrlKey&&(32!==e.keyCode||q.length>0)){!0!==y.value&&le(e);const n=e.key.toLocaleLowerCase(),r=1===q.length&&q[0]===n;H=Date.now()+1500,!1===r&&((0,m.NS)(e),q+=n);const o=new RegExp("^"+q.split("").map((t=>D.indexOf(t)>-1?"\\"+t:t)).join(".*"),"i");let a=_.value;if(!0===r||a<0||!0!==o.test(Ct.value(t.options[a])))do{a=(0,j.Uz)(a+1,-1,s-1)}while(a!==_.value&&(!0===Tt.value(t.options[a])||!0!==o.test(Ct.value(t.options[a]))));_.value!==a&&(0,i.Y3)((()=>{jt(a),nt(a),a>=0&&!0===t.useInput&&!0===t.fillInput&&Gt(Ct.value(t.options[a]))}))}else if(13===e.keyCode||32===e.keyCode&&!0!==t.useInput&&""===q||9===e.keyCode&&!1!==o)if(9!==e.keyCode&&(0,m.NS)(e),_.value>-1&&_.value<s)Pt(t.options[_.value]);else{if(!0===r){const e=(e,n)=>{if(n){if(!0!==L(n))return}else n=t.newValueMode;if(void 0===e||null===e)return;Zt("",!0!==t.multiple,!0);const i="toggle"===n?Pt:Mt;i(e,"add-unique"===n),!0!==t.multiple&&(null!==W.value&&W.value.focus(),ue())};if(void 0!==t.onNewValue?n("newValue",w.value,e):e(w.value),!0!==t.multiple)return}!0===y.value?ae():!0!==rt.innerLoading.value&&le()}}function Wt(){return!0===k?Y.value:null!==N.value&&null!==N.value.contentEl?N.value.contentEl:void 0}function Nt(){return Wt()}function Ut(){return!0===t.hideSelected?[]:void 0!==e["selected-item"]?yt.value.map((t=>e["selected-item"](t))).slice():void 0!==e.selected?[].concat(e.selected()):!0===t.useChips?yt.value.map(((e,n)=>(0,i.h)(a.Z,{key:"option-"+n,removable:!0===rt.editable.value&&!0!==Tt.value(e.opt),dense:!0,textColor:t.color,tabindex:vt.value,onRemove(){e.removeAtIndex(n)}},(()=>(0,i.h)("span",{class:"ellipsis",[!0===e.html?"innerHTML":"textContent"]:Ct.value(e.opt)}))))):[(0,i.h)("span",{[!0===pt.value?"innerHTML":"textContent"]:void 0!==t.displayValue?t.displayValue:ft.value})]}function Yt(){if(!0===ht.value)return void 0!==e["no-option"]?e["no-option"]({inputValue:w.value}):void 0;const t=void 0!==e.option?e.option:t=>(0,i.h)(l.Z,{key:t.index,...t.itemProps},(()=>(0,i.h)(u.Z,(()=>(0,i.h)(f,(()=>(0,i.h)("span",{[!0===t.html?"innerHTML":"textContent"]:t.label})))))));let n=tt("div",bt.value.map(t));return void 0!==e["before-options"]&&(n=e["before-options"]().concat(n)),(0,h.vs)(e["after-options"],n)}function Xt(e,n){const r=!0===n?{...gt.value,...rt.splitAttrs.attributes.value}:void 0,o={ref:!0===n?W:void 0,key:"i_t",class:ut.value,style:t.inputStyle,value:void 0!==w.value?w.value:"",type:"search",...r,id:!0===n?rt.targetUid.value:void 0,maxlength:t.maxlength,autocomplete:t.autocomplete,"data-autofocus":!0!==e&&!0===t.autofocus||void 0,disabled:!0===t.disable,readonly:!0===t.readonly,...Ot.value};return!0!==e&&!0===k&&(!0===Array.isArray(o.class)?o.class=[...o.class,"no-pointer-events"]:o.class+=" no-pointer-events"),(0,i.h)("input",o)}function $t(e){clearTimeout(C),e&&e.target&&!0===e.target.qComposing||(Gt(e.target.value||""),O=!0,z=w.value,!0===rt.focused.value||!0===k&&!0!==x.value||rt.focus(),void 0!==t.onFilter&&(C=setTimeout((()=>{Kt(w.value)}),t.inputDebounce)))}function Gt(t){w.value!==t&&(w.value=t,n("inputValue",t))}function Zt(e,n,i){O=!0!==i,!0===t.useInput&&(Gt(e),!0!==n&&!0===i||(z=e),!0!==n&&Kt(e))}function Kt(e,r,o){if(void 0===t.onFilter||!0!==r&&!0!==rt.focused.value)return;!0===rt.innerLoading.value?n("filterAbort"):(rt.innerLoading.value=!0,S.value=!0),""!==e&&!0!==t.multiple&&ot.value.length>0&&!0!==O&&e===Ct.value(ot.value[0])&&(e="");const s=setTimeout((()=>{!0===y.value&&(y.value=!1)}),10);clearTimeout(A),A=s,n("filter",e,((t,e)=>{!0!==r&&!0!==rt.focused.value||A!==s||(clearTimeout(A),"function"===typeof t&&t(),S.value=!1,(0,i.Y3)((()=>{rt.innerLoading.value=!1,!0===rt.editable.value&&(!0===r?!0===y.value&&ue():!0===y.value?he(!0):y.value=!0),"function"===typeof e&&(0,i.Y3)((()=>{e(c)})),"function"===typeof o&&(0,i.Y3)((()=>{o(c)}))})))}),(()=>{!0===rt.focused.value&&A===s&&(clearTimeout(A),rt.innerLoading.value=!1,S.value=!1),!0===y.value&&(y.value=!1)}))}function Jt(){return(0,i.h)(d.Z,{ref:N,class:ct.value,style:t.popupContentStyle,modelValue:y.value,fit:!0!==t.menuShrink,cover:!0===t.optionsCover&&!0!==ht.value&&!0!==t.useInput,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,dark:at.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:wt.value,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,separateClosePopup:!0,...mt.value,onScrollPassive:et,onBeforeShow:pe,onBeforeHide:Qt,onShow:te},Yt)}function Qt(t){ve(t),ae()}function te(){it()}function ee(t){(0,m.sT)(t),null!==W.value&&W.value.focus(),x.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ne(t){(0,m.sT)(t),(0,i.Y3)((()=>{x.value=!1}))}function ie(){const n=[(0,i.h)(o.Z,{class:`col-auto ${rt.fieldClass.value}`,...st.value,for:rt.targetUid.value,dark:at.value,square:!0,loading:S.value,itemAligned:!1,filled:!0,stackLabel:w.value.length>0,...rt.splitAttrs.listeners.value,onFocus:ee,onBlur:ne},{...e,rawControl:()=>rt.getControl(!0),before:void 0,after:void 0})];return!0===y.value&&n.push((0,i.h)("div",{ref:Y,class:ct.value+" scroll",style:t.popupContentStyle,...mt.value,onClick:m.X$,onScrollPassive:et},Yt())),(0,i.h)(p.Z,{ref:U,modelValue:b.value,position:!0===t.useInput?"top":void 0,transitionShow:B,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:pe,onBeforeHide:re,onHide:oe,onShow:se},(()=>(0,i.h)("div",{class:"q-select__dialog"+(!0===at.value?" q-select__dialog--dark q-dark":"")+(!0===x.value?" q-select__dialog--focused":"")},n)))}function re(t){ve(t),null!==U.value&&U.value.__updateRefocusTarget(rt.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),rt.focused.value=!1}function oe(t){ue(),!1===rt.focused.value&&n("blur",t),ce()}function se(){const t=document.activeElement;null!==t&&t.id===rt.targetUid.value||null===W.value||W.value===t||W.value.focus(),it()}function ae(){!0!==b.value&&(_.value=-1,!0===y.value&&(y.value=!1),!1===rt.focused.value&&(clearTimeout(A),A=void 0,!0===rt.innerLoading.value&&(n("filterAbort"),rt.innerLoading.value=!1,S.value=!1)))}function le(n){!0===rt.editable.value&&(!0===k?(rt.onControlFocusin(n),b.value=!0,(0,i.Y3)((()=>{rt.focus()}))):rt.focus(),void 0!==t.onFilter?Kt(w.value):!0===ht.value&&void 0===e["no-option"]||(y.value=!0))}function ue(){b.value=!1,ae()}function ce(){!0===t.useInput&&Zt(!0!==t.multiple&&!0===t.fillInput&&ot.value.length>0&&Ct.value(ot.value[0])||"",!0,!0)}function he(e){let n=-1;if(!0===e){if(ot.value.length>0){const e=St.value(ot.value[0]);n=t.options.findIndex((t=>(0,P.xb)(St.value(t),e)))}Q(n)}jt(n)}function fe(t,e){!0===y.value&&!1===rt.innerLoading.value&&(Q(-1,!0),(0,i.Y3)((()=>{!0===y.value&&!1===rt.innerLoading.value&&(t>e?Q():he(!0))})))}function de(){!1===b.value&&null!==N.value&&N.value.updatePosition()}function pe(t){void 0!==t&&(0,m.sT)(t),n("popupShow",t),rt.hasPopupOpen=!0,rt.onControlFocusin(t)}function ve(t){void 0!==t&&(0,m.sT)(t),n("popupHide",t),rt.hasPopupOpen=!1,rt.onControlFocusout(t)}function ge(){k=(!0===g.platform.is.mobile||"dialog"===t.behavior)&&("menu"!==t.behavior&&(!0!==t.useInput||(void 0!==e["no-option"]||void 0!==t.onFilter||!1===ht.value))),B=!0===g.platform.is.ios&&!0===k&&!0===t.useInput?"fade":t.transitionShow}return(0,i.YP)(ot,(e=>{T=e,!0===t.useInput&&!0===t.fillInput&&!0!==t.multiple&&!0!==rt.innerLoading.value&&(!0!==b.value&&!0!==y.value||!0!==lt.value)&&(!0!==O&&ce(),!0!==b.value&&!0!==y.value||Kt(""))}),{immediate:!0}),(0,i.YP)((()=>t.fillInput),ce),(0,i.YP)(y,he),(0,i.YP)(G,fe),(0,i.Xn)(ge),(0,i.ic)(de),ge(),(0,i.Jd)((()=>{clearTimeout(C)})),Object.assign(c,{showPopup:le,hidePopup:ue,removeAtIndex:Et,add:Mt,toggleOption:Pt,getOptionIndex:()=>_.value,setOptionIndex:jt,moveOptionSelection:Rt,filter:Kt,updateMenuPosition:de,updateInputValue:Zt,isOptionSelected:It,getEmittingOptionValue:At,isOptionDisabled:(...t)=>!0===Tt.value.apply(null,t),getOptionValue:(...t)=>St.value.apply(null,t),getOptionLabel:(...t)=>Ct.value.apply(null,t)}),Object.assign(rt,{innerValue:ot,fieldClass:(0,i.Fl)((()=>`q-select q-field--auto-height q-select--with${!0!==t.useInput?"out":""}-input q-select--with${!0!==t.useChips?"out":""}-chips q-select--`+(!0===t.multiple?"multiple":"single"))),inputRef:V,targetRef:W,hasValue:lt,showPopup:le,floatingLabel:(0,i.Fl)((()=>!0!==t.hideSelected&&!0===lt.value||"number"===typeof w.value||w.value.length>0||(0,v.yV)(t.displayValue))),getControlChild:()=>{if(!1!==rt.editable.value&&(!0===b.value||!0!==ht.value||void 0!==e["no-option"]))return!0===k?ie():Jt();!0===rt.hasPopupOpen&&(rt.hasPopupOpen=!1)},controlEvents:{onFocusin(t){rt.onControlFocusin(t)},onFocusout(t){rt.onControlFocusout(t,(()=>{ce(),ae()}))},onClick(t){if((0,m.X$)(t),!0!==k&&!0===y.value)return ae(),void(null!==W.value&&W.value.focus());le(t)}},getControl:e=>{const n=Ut(),r=!0===e||!0!==b.value||!0!==k;if(!0===t.useInput)n.push(Xt(e,r));else if(!0===rt.editable.value){const o=!0===r?gt.value:void 0;n.push((0,i.h)("input",{ref:!0===r?W:void 0,key:"d_t",class:"q-select__focus-target",id:!0===r?rt.targetUid.value:void 0,readonly:!0,"data-autofocus":!0!==e&&!0===t.autofocus||void 0,...o,onKeydown:Vt,onKeyup:Bt,onKeypress:Ht})),!0===r&&"string"===typeof t.autocomplete&&t.autocomplete.length>0&&n.push((0,i.h)("input",{class:"q-select__autocomplete-input",autocomplete:t.autocomplete,tabindex:-1,onKeyup:qt}))}if(void 0!==X.value&&!0!==t.disable&&kt.value.length>0){const e=kt.value.map((t=>(0,i.h)("option",{value:t,selected:!0})));n.push((0,i.h)("select",{class:"hidden",name:X.value,multiple:t.multiple},e))}const o=!0===t.useInput||!0!==r?void 0:rt.splitAttrs.attributes.value;return(0,i.h)("div",{class:"q-field__native row items-center",...o},n)},getInnerAppend:()=>!0!==t.loading&&!0!==S.value&&!0!==t.hideDropdownIcon?[(0,i.h)(s.Z,{class:"q-select__dropdown-icon"+(!0===y.value?" rotate-180":""),name:_t.value})]:null}),(0,v.ZP)(rt)}})},7989:function(t,e,n){"use strict";n.d(e,{Z:function(){return w}});n(4719);var i=n(9269),r=n(6237),o=n(9724),s=n(1019),a=n(6597),l=n(7328),u=n(3027),c=n(3704),h=n(64);const f="q-slider__marker-labels",d=t=>({value:t}),p=({marker:t})=>(0,i.h)("div",{key:t.value,style:t.style,class:t.classes},t.label),v=[34,37,40,33,39,38],g={...a.S,...o.Fz,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},m=["pan","update:modelValue","change"];function y({updateValue:t,updatePosition:e,getDragging:n,formAttrs:g}){const{props:m,emit:y,slots:b,proxy:{$q:_}}=(0,i.FN)(),w=(0,a.Z)(m,_),x=(0,o.eX)(g),S=(0,r.iH)(!1),C=(0,r.iH)(!1),T=(0,r.iH)(!1),k=(0,r.iH)(!1),O=(0,i.Fl)((()=>!0===m.vertical?"--v":"--h")),A=(0,i.Fl)((()=>"-"+(!0===m.switchLabelSide?"switched":"standard"))),E=(0,i.Fl)((()=>!0===m.vertical?!0===m.reverse:m.reverse!==(!0===_.lang.rtl))),F=(0,i.Fl)((()=>!0===isNaN(m.innerMin)||m.innerMin<m.min?m.min:m.innerMin)),M=(0,i.Fl)((()=>!0===isNaN(m.innerMax)||m.innerMax>m.max?m.max:m.innerMax)),P=(0,i.Fl)((()=>!0!==m.disable&&!0!==m.readonly&&F.value<M.value)),j=(0,i.Fl)((()=>(String(m.step).trim().split(".")[1]||"").length)),R=(0,i.Fl)((()=>0===m.step?1:m.step)),L=(0,i.Fl)((()=>!0===P.value?m.tabindex||0:-1)),D=(0,i.Fl)((()=>m.max-m.min)),I=(0,i.Fl)((()=>M.value-F.value)),z=(0,i.Fl)((()=>st(F.value))),B=(0,i.Fl)((()=>st(M.value))),q=(0,i.Fl)((()=>!0===m.vertical?!0===E.value?"bottom":"top":!0===E.value?"right":"left")),H=(0,i.Fl)((()=>!0===m.vertical?"height":"width")),V=(0,i.Fl)((()=>!0===m.vertical?"width":"height")),W=(0,i.Fl)((()=>!0===m.vertical?"vertical":"horizontal")),N=(0,i.Fl)((()=>{const t={role:"slider","aria-valuemin":F.value,"aria-valuemax":M.value,"aria-orientation":W.value,"data-step":m.step};return!0===m.disable?t["aria-disabled"]="true":!0===m.readonly&&(t["aria-readonly"]="true"),t})),U=(0,i.Fl)((()=>`q-slider q-slider${O.value} q-slider--${!0===S.value?"":"in"}active inline no-wrap `+(!0===m.vertical?"row":"column")+(!0===m.disable?" disabled":" q-slider--enabled"+(!0===P.value?" q-slider--editable":""))+("both"===T.value?" q-slider--focus":"")+(m.label||!0===m.labelAlways?" q-slider--label":"")+(!0===m.labelAlways?" q-slider--label-always":"")+(!0===w.value?" q-slider--dark":"")+(!0===m.dense?" q-slider--dense q-slider--dense"+O.value:"")));function Y(t){const e="q-slider__"+t;return`${e} ${e}${O.value} ${e}${O.value}${A.value}`}function X(t){const e="q-slider__"+t;return`${e} ${e}${O.value}`}const $=(0,i.Fl)((()=>{const t=m.selectionColor||m.color;return"q-slider__selection absolute"+(void 0!==t?` text-${t}`:"")})),G=(0,i.Fl)((()=>X("markers")+" absolute overflow-hidden")),Z=(0,i.Fl)((()=>X("track-container"))),K=(0,i.Fl)((()=>Y("pin"))),J=(0,i.Fl)((()=>Y("label"))),Q=(0,i.Fl)((()=>Y("text-container"))),tt=(0,i.Fl)((()=>Y("marker-labels-container")+(void 0!==m.markerLabelsClass?` ${m.markerLabelsClass}`:""))),et=(0,i.Fl)((()=>"q-slider__track relative-position no-outline"+(void 0!==m.trackColor?` bg-${m.trackColor}`:""))),nt=(0,i.Fl)((()=>{const t={[V.value]:m.trackSize};return void 0!==m.trackImg&&(t.backgroundImage=`url(${m.trackImg}) !important`),t})),it=(0,i.Fl)((()=>"q-slider__inner absolute"+(void 0!==m.innerTrackColor?` bg-${m.innerTrackColor}`:""))),rt=(0,i.Fl)((()=>{const t={[q.value]:100*z.value+"%",[H.value]:100*(B.value-z.value)+"%"};return void 0!==m.innerTrackImg&&(t.backgroundImage=`url(${m.innerTrackImg}) !important`),t}));function ot(t){const{min:e,max:n,step:i}=m;let r=e+t*(n-e);if(i>0){const t=(r-e)%i;r+=(Math.abs(t)>=i/2?(t<0?-1:1)*i:0)-t}return j.value>0&&(r=parseFloat(r.toFixed(j.value))),(0,l.vX)(r,F.value,M.value)}function st(t){return 0===D.value?0:(t-m.min)/D.value}function at(t,e){const n=(0,u.FK)(t),i=!0===m.vertical?(0,l.vX)((n.top-e.top)/e.height,0,1):(0,l.vX)((n.left-e.left)/e.width,0,1);return(0,l.vX)(!0===E.value?1-i:i,z.value,B.value)}const lt=(0,i.Fl)((()=>!0===(0,c.hj)(m.markers)?m.markers:R.value)),ut=(0,i.Fl)((()=>{const t=[],e=lt.value,n=m.max;let i=m.min;do{t.push(i),i+=e}while(i<n);return t.push(n),t})),ct=(0,i.Fl)((()=>{const t=` ${f}${O.value}-`;return f+`${t}${!0===m.switchMarkerLabelsSide?"switched":"standard"}`+`${t}${!0===E.value?"rtl":"ltr"}`})),ht=(0,i.Fl)((()=>!1===m.markerLabels?null:pt(m.markerLabels).map(((t,e)=>({index:e,value:t.value,label:t.label||t.value,classes:ct.value+(void 0!==t.classes?" "+t.classes:""),style:{...vt(t.value),...t.style||{}}}))))),ft=(0,i.Fl)((()=>({markerList:ht.value,markerMap:gt.value,classes:ct.value,getStyle:vt}))),dt=(0,i.Fl)((()=>{if(0!==I.value){const t=100*lt.value/I.value;return{...rt.value,backgroundSize:!0===m.vertical?`2px ${t}%`:`${t}% 2px`}}return null}));function pt(t){if(!1===t)return null;if(!0===t)return ut.value.map(d);if("function"===typeof t)return ut.value.map((e=>{const n=t(e);return!0===(0,c.Kn)(n)?{...n,value:e}:{value:e,label:n}}));const e=({value:t})=>t>=m.min&&t<=m.max;return!0===Array.isArray(t)?t.map((t=>!0===(0,c.Kn)(t)?t:{value:t})).filter(e):Object.keys(t).map((e=>{const n=t[e],i=Number(e);return!0===(0,c.Kn)(n)?{...n,value:i}:{value:i,label:n}})).filter(e)}function vt(t){return{[q.value]:100*(t-m.min)/D.value+"%"}}const gt=(0,i.Fl)((()=>{if(!1===m.markerLabels)return null;const t={};return ht.value.forEach((e=>{t[e.value]=e})),t}));function mt(){if(void 0!==b["marker-label-group"])return b["marker-label-group"](ft.value);const t=b["marker-label"]||p;return ht.value.map((e=>t({marker:e,...ft.value})))}const yt=(0,i.Fl)((()=>[[s.Z,bt,void 0,{[W.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]));function bt(i){!0===i.isFinal?(void 0!==k.value&&(e(i.evt),!0===i.touch&&t(!0),k.value=void 0,y("pan","end")),S.value=!1,T.value=!1):!0===i.isFirst?(k.value=n(i.evt),e(i.evt),t(),S.value=!0,y("pan","start")):(e(i.evt),t())}function _t(){T.value=!1}function wt(i){e(i,n(i)),t(),C.value=!0,S.value=!0,document.addEventListener("mouseup",xt,!0)}function xt(){C.value=!1,S.value=!1,t(!0),_t(),document.removeEventListener("mouseup",xt,!0)}function St(i){e(i,n(i)),t(!0)}function Ct(e){v.includes(e.keyCode)&&t(!0)}function Tt(t){if(!0===m.vertical)return null;const e=_.lang.rtl!==m.reverse?1-t:t;return{transform:`translateX(calc(${2*e-1} * ${m.thumbSize} / 2 + ${50-100*e}%))`}}function kt(t){const e=(0,i.Fl)((()=>!1!==C.value||T.value!==t.focusValue&&"both"!==T.value?"":" q-slider--focus")),n=(0,i.Fl)((()=>`q-slider__thumb q-slider__thumb${O.value} q-slider__thumb${O.value}-${!0===E.value?"rtl":"ltr"} absolute non-selectable`+e.value+(void 0!==t.thumbColor.value?` text-${t.thumbColor.value}`:""))),r=(0,i.Fl)((()=>({width:m.thumbSize,height:m.thumbSize,[q.value]:100*t.ratio.value+"%",zIndex:T.value===t.focusValue?2:void 0}))),o=(0,i.Fl)((()=>void 0!==t.labelColor.value?` text-${t.labelColor.value}`:"")),s=(0,i.Fl)((()=>Tt(t.ratio.value))),a=(0,i.Fl)((()=>"q-slider__text"+(void 0!==t.labelTextColor.value?` text-${t.labelTextColor.value}`:"")));return()=>{const e=[(0,i.h)("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[(0,i.h)("path",{d:m.thumbPath})]),(0,i.h)("div",{class:"q-slider__focus-ring fit"})];return!0!==m.label&&!0!==m.labelAlways||(e.push((0,i.h)("div",{class:K.value+" absolute fit no-pointer-events"+o.value},[(0,i.h)("div",{class:J.value,style:{minWidth:m.thumbSize}},[(0,i.h)("div",{class:Q.value,style:s.value},[(0,i.h)("span",{class:a.value},t.label.value)])])])),void 0!==m.name&&!0!==m.disable&&x(e,"push")),(0,i.h)("div",{class:n.value,style:r.value,...t.getNodeData()},e)}}function Ot(t,e,n,r){const o=[];"transparent"!==m.innerTrackColor&&o.push((0,i.h)("div",{key:"inner",class:it.value,style:rt.value})),"transparent"!==m.selectionColor&&o.push((0,i.h)("div",{key:"selection",class:$.value,style:t.value})),!1!==m.markers&&o.push((0,i.h)("div",{key:"marker",class:G.value,style:dt.value})),r(o);const s=[(0,h.Jl)("div",{key:"trackC",class:Z.value,tabindex:e.value,...n.value},[(0,i.h)("div",{class:et.value,style:nt.value},o)],"slide",P.value,(()=>yt.value))];if(!1!==m.markerLabels){const t=!0===m.switchMarkerLabelsSide?"unshift":"push";s[t]((0,i.h)("div",{key:"markerL",class:tt.value},mt()))}return s}return(0,i.Jd)((()=>{document.removeEventListener("mouseup",xt,!0)})),{state:{active:S,focus:T,preventFocus:C,dragging:k,editable:P,classes:U,tabindex:L,attributes:N,step:R,decimals:j,trackLen:D,innerMin:F,innerMinRatio:z,innerMax:M,innerMaxRatio:B,positionProp:q,sizeProp:H,isReversed:E},methods:{onActivate:wt,onMobileClick:St,onBlur:_t,onKeyup:Ct,getContent:Ot,getThumbRenderFn:kt,convertRatioToModel:ot,convertModelToRatio:st,getDraggingRatio:at}}}var b=n(3856);const _=()=>({});var w=(0,b.L)({name:"QSlider",props:{...g,modelValue:{required:!0,default:null,validator:t=>"number"===typeof t||null===t},labelValue:[String,Number]},emits:m,setup(t,{emit:e}){const{proxy:{$q:n}}=(0,i.FN)(),{state:s,methods:a}=y({updateValue:x,updatePosition:C,getDragging:S,formAttrs:(0,o.Vt)(t)}),c=(0,r.iH)(null),h=(0,r.iH)(0),f=(0,r.iH)(0);function d(){f.value=null===t.modelValue?s.innerMin.value:(0,l.vX)(t.modelValue,s.innerMin.value,s.innerMax.value)}(0,i.YP)((()=>`${t.modelValue}|${s.innerMin.value}|${s.innerMax.value}`),d),d();const p=(0,i.Fl)((()=>a.convertModelToRatio(f.value))),g=(0,i.Fl)((()=>!0===s.active.value?h.value:p.value)),m=(0,i.Fl)((()=>{const e={[s.positionProp.value]:100*s.innerMinRatio.value+"%",[s.sizeProp.value]:100*(g.value-s.innerMinRatio.value)+"%"};return void 0!==t.selectionImg&&(e.backgroundImage=`url(${t.selectionImg}) !important`),e})),b=a.getThumbRenderFn({focusValue:!0,getNodeData:_,ratio:g,label:(0,i.Fl)((()=>void 0!==t.labelValue?t.labelValue:f.value)),thumbColor:(0,i.Fl)((()=>t.thumbColor||t.color)),labelColor:(0,i.Fl)((()=>t.labelColor)),labelTextColor:(0,i.Fl)((()=>t.labelTextColor))}),w=(0,i.Fl)((()=>!0!==s.editable.value?{}:!0===n.platform.is.mobile?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:T,onBlur:a.onBlur,onKeydown:k,onKeyup:a.onKeyup}));function x(n){f.value!==t.modelValue&&e("update:modelValue",f.value),!0===n&&e("change",f.value)}function S(){return c.value.getBoundingClientRect()}function C(e,n=s.dragging.value){const i=a.getDraggingRatio(e,n);f.value=a.convertRatioToModel(i),h.value=!0!==t.snap||0===t.step?i:a.convertModelToRatio(f.value)}function T(){s.focus.value=!0}function k(e){if(!v.includes(e.keyCode))return;(0,u.NS)(e);const n=([34,33].includes(e.keyCode)?10:1)*s.step.value,i=([34,37,40].includes(e.keyCode)?-1:1)*(!0===s.isReversed.value?-1:1)*(!0===t.vertical?-1:1)*n;f.value=(0,l.vX)(parseFloat((f.value+i).toFixed(s.decimals.value)),s.innerMin.value,s.innerMax.value),x()}return()=>{const e=a.getContent(m,s.tabindex,w,(t=>{t.push(b())}));return(0,i.h)("div",{ref:c,class:s.classes.value+(null===t.modelValue?" q-slider--no-value":""),...s.attributes.value,"aria-valuenow":t.modelValue},e)}}})},2605:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(9269),r=n(505);const o={size:{type:[Number,String],default:"1em"},color:String};function s(t){return{cSize:(0,i.Fl)((()=>t.size in r.Ok?`${r.Ok[t.size]}px`:t.size)),classes:(0,i.Fl)((()=>"q-spinner"+(t.color?` text-${t.color}`:"")))}}var a=n(3856),l=(0,a.L)({name:"QSpinner",props:{...o,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:n}=s(t);return()=>(0,i.h)("svg",{class:n.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[(0,i.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}})},3994:function(t,e,n){"use strict";n.d(e,{ZP:function(){return a},jO:function(){return s}});var i=n(9269);const r={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},o=Object.keys(r),s={align:{type:String,validator:t=>o.includes(t)}};function a(t){return(0,i.Fl)((()=>{const e=void 0===t.align?!0===t.vertical?"stretch":"left":t.align;return`${!0===t.vertical?"items":"justify"}-${r[e]}`}))}},9600:function(t,e,n){"use strict";n.d(e,{Z:function(){return u},u:function(){return l}});var i=n(9269),r=n(6237),o=n(1307),s=n(3027),a=n(6809);const l={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function u({showing:t,avoidEmit:e,configureAnchorEl:n}){const{props:l,proxy:u,emit:c}=(0,i.FN)(),h=(0,r.iH)(null);let f;function d(t){return null!==h.value&&(void 0===t||void 0===t.touches||t.touches.length<=1)}const p={};function v(){(0,s.ul)(p,"anchor")}function g(t){h.value=t;while(h.value.classList.contains("q-anchor--skip"))h.value=h.value.parentNode;n()}function m(){if(!1===l.target||""===l.target||null===u.$el.parentNode)h.value=null;else if(!0===l.target)g(u.$el.parentNode);else{let e=l.target;if("string"===typeof l.target)try{e=document.querySelector(l.target)}catch(t){e=void 0}void 0!==e&&null!==e?(h.value=e.$el||e,n()):(h.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return void 0===n&&(Object.assign(p,{hide(t){u.hide(t)},toggle(t){u.toggle(t),t.qAnchorHandled=!0},toggleKey(t){!0===(0,a.So)(t,13)&&p.toggle(t)},contextClick(t){u.hide(t),(0,s.X$)(t),(0,i.Y3)((()=>{u.show(t),t.qAnchorHandled=!0}))},prevent:s.X$,mobileTouch(t){if(p.mobileCleanup(t),!0!==d(t))return;u.hide(t),h.value.classList.add("non-selectable");const e=t.target;(0,s.M0)(p,"anchor",[[e,"touchmove","mobileCleanup","passive"],[e,"touchend","mobileCleanup","passive"],[e,"touchcancel","mobileCleanup","passive"],[h.value,"contextmenu","prevent","notPassive"]]),f=setTimeout((()=>{u.show(t),t.qAnchorHandled=!0}),300)},mobileCleanup(e){h.value.classList.remove("non-selectable"),clearTimeout(f),!0===t.value&&void 0!==e&&(0,o.M)()}}),n=function(t=l.contextMenu){if(!0===l.noParentEvent||null===h.value)return;let e;e=!0===t?!0===u.$q.platform.is.mobile?[[h.value,"touchstart","mobileTouch","passive"]]:[[h.value,"mousedown","hide","passive"],[h.value,"contextmenu","contextClick","notPassive"]]:[[h.value,"click","toggle","passive"],[h.value,"keyup","toggleKey","passive"]],(0,s.M0)(p,"anchor",e)}),(0,i.YP)((()=>l.contextMenu),(t=>{null!==h.value&&(v(),n(t))})),(0,i.YP)((()=>l.target),(()=>{null!==h.value&&v(),m()})),(0,i.YP)((()=>l.noParentEvent),(t=>{null!==h.value&&(!0===t?v():n())})),(0,i.bv)((()=>{m(),!0!==e&&!0===l.modelValue&&null===h.value&&c("update:modelValue",!1)})),(0,i.Jd)((()=>{clearTimeout(f),v()})),{anchorEl:h,canShow:d,anchorEvents:p}}},6597:function(t,e,n){"use strict";n.d(e,{S:function(){return r},Z:function(){return o}});var i=n(9269);const r={dark:{type:Boolean,default:null}};function o(t,e){return(0,i.Fl)((()=>null===t.dark?e.dark.isActive:t.dark))}},3578:function(t,e,n){"use strict";n.d(e,{ZP:function(){return E},yV:function(){return T},HJ:function(){return O},Cl:function(){return k},tL:function(){return A}});n(4719);var i=n(9269),r=n(6237),o=n(5102),s=n(1013),a=n(4633),l=n(2605),u=n(6597),c=n(4300);function h({validate:t,resetValidation:e,requiresQForm:n}){const r=(0,i.f3)(c.vh,!1);if(!1!==r){const{props:n,proxy:o}=(0,i.FN)();Object.assign(o,{validate:t,resetValidation:e}),(0,i.YP)((()=>n.disable),(t=>{!0===t?("function"===typeof e&&e(),r.unbindComponent(o)):r.bindComponent(o)})),(0,i.bv)((()=>{!0!==n.disable&&r.bindComponent(o)})),(0,i.Jd)((()=>{!0!==n.disable&&r.unbindComponent(o)}))}else!0===n&&console.error("Parent QForm not found on useFormChild()!")}var f=n(6118),d=n(7265),p=n(3613);const v=[!0,!1,"ondemand"],g={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:t=>v.includes(t)}};function m(t,e){const{props:n,proxy:o}=(0,i.FN)(),s=(0,r.iH)(!1),a=(0,r.iH)(null),l=(0,r.iH)(null);h({validate:_,resetValidation:b});let u,c=0;const v=(0,i.Fl)((()=>void 0!==n.rules&&null!==n.rules&&n.rules.length>0)),g=(0,i.Fl)((()=>!0!==n.disable&&!0===v.value)),m=(0,i.Fl)((()=>!0===n.error||!0===s.value)),y=(0,i.Fl)((()=>"string"===typeof n.errorMessage&&n.errorMessage.length>0?n.errorMessage:a.value));function b(){c++,e.value=!1,l.value=null,s.value=!1,a.value=null,x.cancel()}function _(t=n.modelValue){if(!0!==g.value)return!0;const i=++c,r=!0!==e.value?()=>{l.value=!0}:()=>{},o=(t,n)=>{!0===t&&r(),s.value=t,a.value=n||null,e.value=!1},u=[];for(let e=0;e<n.rules.length;e++){const i=n.rules[e];let r;if("function"===typeof i?r=i(t,f.E):"string"===typeof i&&void 0!==f.E[i]&&(r=f.E[i](t)),!1===r||"string"===typeof r)return o(!0,r),!1;!0!==r&&void 0!==r&&u.push(r)}return 0===u.length?(o(!1),!0):(e.value=!0,Promise.all(u).then((t=>{if(void 0===t||!1===Array.isArray(t)||0===t.length)return i===c&&o(!1),!0;const e=t.find((t=>!1===t||"string"===typeof t));return i===c&&o(void 0!==e,e),void 0===e}),(t=>(i===c&&(console.error(t),o(!0)),!1))))}function w(t){!0===g.value&&"ondemand"!==n.lazyRules&&(!0===l.value||!0!==n.lazyRules&&!0!==t)&&x()}(0,i.YP)((()=>n.modelValue),(()=>{w()})),(0,i.YP)((()=>n.reactiveRules),(t=>{!0===t?void 0===u&&(u=(0,i.YP)((()=>n.rules),(()=>{w(!0)}))):void 0!==u&&(u(),u=void 0)}),{immediate:!0}),(0,i.YP)(t,(t=>{!0===t?null===l.value&&(l.value=!1):!1===l.value&&(l.value=!0,!0===g.value&&"ondemand"!==n.lazyRules&&!1===e.value&&x())}));const x=(0,d.Z)(_,0);return(0,i.Jd)((()=>{void 0!==u&&u(),x.cancel()})),Object.assign(o,{resetValidation:b,validate:_}),(0,p.g)(o,"hasError",(()=>m.value)),{isDirtyModel:l,hasRules:v,hasError:m,errorMessage:y,validate:_,resetValidation:b}}const y=/^on[A-Z]/;function b(t,e){const n={listeners:(0,r.iH)({}),attributes:(0,r.iH)({})};function o(){const i={},r={};for(const e in t)"class"!==e&&"style"!==e&&!1===y.test(e)&&(i[e]=t[e]);for(const t in e.props)!0===y.test(t)&&(r[t]=e.props[t]);n.attributes.value=i,n.listeners.value=r}return(0,i.Xn)(o),o(),n}var _=n(64),w=n(1878),x=n(3027),S=n(6146);function C(t){return void 0===t?`f_${(0,w.Z)()}`:t}function T(t){return void 0!==t&&null!==t&&(""+t).length>0}const k={...u.S,...g,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},O=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function A(){const{props:t,attrs:e,proxy:n,vnode:o}=(0,i.FN)(),s=(0,u.Z)(t,n.$q);return{isDark:s,editable:(0,i.Fl)((()=>!0!==t.disable&&!0!==t.readonly)),innerLoading:(0,r.iH)(!1),focused:(0,r.iH)(!1),hasPopupOpen:!1,splitAttrs:b(e,o),targetUid:(0,r.iH)(C(t.for)),rootRef:(0,r.iH)(null),targetRef:(0,r.iH)(null),controlRef:(0,r.iH)(null)}}function E(t){const{props:e,emit:n,slots:r,attrs:u,proxy:c}=(0,i.FN)(),{$q:h}=c;let f;void 0===t.hasValue&&(t.hasValue=(0,i.Fl)((()=>T(e.modelValue)))),void 0===t.emitValue&&(t.emitValue=t=>{n("update:modelValue",t)}),void 0===t.controlEvents&&(t.controlEvents={onFocusin:D,onFocusout:I}),Object.assign(t,{clearValue:z,onControlFocusin:D,onControlFocusout:I,focus:R}),void 0===t.computedCounter&&(t.computedCounter=(0,i.Fl)((()=>{if(!1!==e.counter){const t="string"===typeof e.modelValue||"number"===typeof e.modelValue?(""+e.modelValue).length:!0===Array.isArray(e.modelValue)?e.modelValue.length:0,n=void 0!==e.maxlength?e.maxlength:e.maxValues;return t+(void 0!==n?" / "+n:"")}})));const{isDirtyModel:d,hasRules:p,hasError:v,errorMessage:g,resetValidation:y}=m(t.focused,t.innerLoading),b=void 0!==t.floatingLabel?(0,i.Fl)((()=>!0===e.stackLabel||!0===t.focused.value||!0===t.floatingLabel.value)):(0,i.Fl)((()=>!0===e.stackLabel||!0===t.focused.value||!0===t.hasValue.value)),w=(0,i.Fl)((()=>!0===e.bottomSlots||void 0!==e.hint||!0===p.value||!0===e.counter||null!==e.error)),k=(0,i.Fl)((()=>!0===e.filled?"filled":!0===e.outlined?"outlined":!0===e.borderless?"borderless":e.standout?"standout":"standard")),O=(0,i.Fl)((()=>`q-field row no-wrap items-start q-field--${k.value}`+(void 0!==t.fieldClass?` ${t.fieldClass.value}`:"")+(!0===e.rounded?" q-field--rounded":"")+(!0===e.square?" q-field--square":"")+(!0===b.value?" q-field--float":"")+(!0===E.value?" q-field--labeled":"")+(!0===e.dense?" q-field--dense":"")+(!0===e.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===t.isDark.value?" q-field--dark":"")+(void 0===t.getControl?" q-field--auto-height":"")+(!0===t.focused.value?" q-field--focused":"")+(!0===v.value?" q-field--error":"")+(!0===v.value||!0===t.focused.value?" q-field--highlighted":"")+(!0!==e.hideBottomSpace&&!0===w.value?" q-field--with-bottom":"")+(!0===e.disable?" q-field--disabled":!0===e.readonly?" q-field--readonly":""))),A=(0,i.Fl)((()=>"q-field__control relative-position row no-wrap"+(void 0!==e.bgColor?` bg-${e.bgColor}`:"")+(!0===v.value?" text-negative":"string"===typeof e.standout&&e.standout.length>0&&!0===t.focused.value?` ${e.standout}`:void 0!==e.color?` text-${e.color}`:""))),E=(0,i.Fl)((()=>!0===e.labelSlot||void 0!==e.label)),F=(0,i.Fl)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==e.labelColor&&!0!==v.value?` text-${e.labelColor}`:""))),M=(0,i.Fl)((()=>({id:t.targetUid.value,editable:t.editable.value,focused:t.focused.value,floatingLabel:b.value,modelValue:e.modelValue,emitValue:t.emitValue}))),P=(0,i.Fl)((()=>{const n={for:t.targetUid.value};return!0===e.disable?n["aria-disabled"]="true":!0===e.readonly&&(n["aria-readonly"]="true"),n}));function j(){const e=document.activeElement;let n=void 0!==t.targetRef&&t.targetRef.value;!n||null!==e&&e.id===t.targetUid.value||(!0===n.hasAttribute("tabindex")||(n=n.querySelector("[tabindex]")),n&&n!==e&&n.focus({preventScroll:!0}))}function R(){(0,S.jd)(j)}function L(){(0,S.fP)(j);const e=document.activeElement;null!==e&&t.rootRef.value.contains(e)&&e.blur()}function D(e){clearTimeout(f),!0===t.editable.value&&!1===t.focused.value&&(t.focused.value=!0,n("focus",e))}function I(e,i){clearTimeout(f),f=setTimeout((()=>{(!0!==document.hasFocus()||!0!==t.hasPopupOpen&&void 0!==t.controlRef&&null!==t.controlRef.value&&!1===t.controlRef.value.contains(document.activeElement))&&(!0===t.focused.value&&(t.focused.value=!1,n("blur",e)),void 0!==i&&i())}))}function z(r){if((0,x.NS)(r),!0!==h.platform.is.mobile){const e=void 0!==t.targetRef&&t.targetRef.value||t.rootRef.value;e.focus()}else!0===t.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===e.type&&(t.inputRef.value.value=null),n("update:modelValue",null),n("clear",e.modelValue),(0,i.Y3)((()=>{y(),!0!==h.platform.is.mobile&&(d.value=!1)}))}function B(){const n=[];return void 0!==r.prepend&&n.push((0,i.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:x.X$},r.prepend())),n.push((0,i.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},q())),!0===v.value&&!1===e.noErrorIcon&&n.push(V("error",[(0,i.h)(a.Z,{name:h.iconSet.field.error,color:"negative"})])),!0===e.loading||!0===t.innerLoading.value?n.push(V("inner-loading-append",void 0!==r.loading?r.loading():[(0,i.h)(l.Z,{color:e.color})])):!0===e.clearable&&!0===t.hasValue.value&&!0===t.editable.value&&n.push(V("inner-clearable-append",[(0,i.h)(a.Z,{class:"q-field__focusable-action",tag:"button",name:e.clearIcon||h.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:z})])),void 0!==r.append&&n.push((0,i.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:x.X$},r.append())),void 0!==t.getInnerAppend&&n.push(V("inner-append",t.getInnerAppend())),void 0!==t.getControlChild&&n.push(t.getControlChild()),n}function q(){const n=[];return void 0!==e.prefix&&null!==e.prefix&&n.push((0,i.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},e.prefix)),void 0!==t.getShadowControl&&!0===t.hasShadow.value&&n.push(t.getShadowControl()),void 0!==t.getControl?n.push(t.getControl()):void 0!==r.rawControl?n.push(r.rawControl()):void 0!==r.control&&n.push((0,i.h)("div",{ref:t.targetRef,class:"q-field__native row",tabindex:-1,...t.splitAttrs.attributes.value,"data-autofocus":!0===e.autofocus||void 0},r.control(M.value))),!0===E.value&&n.push((0,i.h)("div",{class:F.value},(0,_.KR)(r.label,e.label))),void 0!==e.suffix&&null!==e.suffix&&n.push((0,i.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},e.suffix)),n.concat((0,_.KR)(r.default))}function H(){let n,s;!0===v.value?null!==g.value?(n=[(0,i.h)("div",{role:"alert"},g.value)],s=`q--slot-error-${g.value}`):(n=(0,_.KR)(r.error),s="q--slot-error"):!0===e.hideHint&&!0!==t.focused.value||(void 0!==e.hint?(n=[(0,i.h)("div",e.hint)],s=`q--slot-hint-${e.hint}`):(n=(0,_.KR)(r.hint),s="q--slot-hint"));const a=!0===e.counter||void 0!==r.counter;if(!0===e.hideBottomSpace&&!1===a&&void 0===n)return;const l=(0,i.h)("div",{key:s,class:"q-field__messages col"},n);return(0,i.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==e.hideBottomSpace?"animated":"stale"),onClick:x.X$},[!0===e.hideBottomSpace?l:(0,i.h)(o.uT,{name:"q-transition--field-message"},(()=>l)),!0===a?(0,i.h)("div",{class:"q-field__counter"},void 0!==r.counter?r.counter():t.computedCounter.value):null])}function V(t,e){return null===e?null:(0,i.h)("div",{key:t,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},e)}(0,i.YP)((()=>e.for),(e=>{t.targetUid.value=C(e)}));let W=!1;return(0,i.se)((()=>{W=!0})),(0,i.dl)((()=>{!0===W&&!0===e.autofocus&&c.focus()})),(0,i.bv)((()=>{!0===s.uX.value&&void 0===e.for&&(t.targetUid.value=C()),!0===e.autofocus&&c.focus()})),(0,i.Jd)((()=>{clearTimeout(f)})),Object.assign(c,{focus:R,blur:L}),function(){const n=void 0===t.getControl&&void 0===r.control?{...t.splitAttrs.attributes.value,"data-autofocus":!0===e.autofocus||void 0,...P.value}:P.value;return(0,i.h)("label",{ref:t.rootRef,class:[O.value,u.class],style:u.style,...n},[void 0!==r.before?(0,i.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:x.X$},r.before()):null,(0,i.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,i.h)("div",{ref:t.controlRef,class:A.value,tabindex:-1,...t.controlEvents},B()),!0===w.value?H():null]),void 0!==r.after?(0,i.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:x.X$},r.after()):null])}}},9976:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(9269);function r(t,e){function n(){const e=t.modelValue;try{const t="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(e)===e&&("length"in e?Array.from(e):[e]).forEach((e=>{t.items.add(e)})),{files:t.files}}catch(n){return{files:void 0}}}return!0===e?(0,i.Fl)((()=>{if("file"===t.type)return n()})):(0,i.Fl)(n)}},9724:function(t,e,n){"use strict";n.d(e,{Do:function(){return a},Fz:function(){return r},Vt:function(){return o},eX:function(){return s}});var i=n(9269);const r={name:String};function o(t){return(0,i.Fl)((()=>({type:"hidden",name:t.name,value:t.modelValue})))}function s(t={}){return(e,n,r)=>{e[n]((0,i.h)("input",{class:"hidden"+(r||""),...t.value}))}}function a(t){return(0,i.Fl)((()=>t.name||t.for))}},447:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(1013);const r=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,o=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,s=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,a=/[a-z0-9_ -]$/i;function l(t){return function(e){if("compositionend"===e.type||"change"===e.type){if(!0!==e.target.qComposing)return;e.target.qComposing=!1,t(e)}else if("compositionupdate"===e.type&&!0!==e.target.qComposing&&"string"===typeof e.data){const t=!0===i.Lp.is.firefox?!1===a.test(e.data):!0===r.test(e.data)||!0===o.test(e.data)||!0===s.test(e.data);!0===t&&(e.target.qComposing=!0)}}}},9216:function(t,e,n){"use strict";n.d(e,{ZP:function(){return a},gH:function(){return s},vr:function(){return o}});var i=n(9269),r=n(6380);const o={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},s=["beforeShow","show","beforeHide","hide"];function a({showing:t,canShow:e,hideOnRouteChange:n,handleShow:o,handleHide:s,processOnMount:a}){const l=(0,i.FN)(),{props:u,emit:c,proxy:h}=l;let f;function d(e){!0===t.value?g(e):p(e)}function p(t){if(!0===u.disable||void 0!==t&&!0===t.qAnchorHandled||void 0!==e&&!0!==e(t))return;const n=void 0!==u["onUpdate:modelValue"];!0===n&&(c("update:modelValue",!0),f=t,(0,i.Y3)((()=>{f===t&&(f=void 0)}))),null!==u.modelValue&&!1!==n||v(t)}function v(e){!0!==t.value&&(t.value=!0,c("beforeShow",e),void 0!==o?o(e):c("show",e))}function g(t){if(!0===u.disable)return;const e=void 0!==u["onUpdate:modelValue"];!0===e&&(c("update:modelValue",!1),f=t,(0,i.Y3)((()=>{f===t&&(f=void 0)}))),null!==u.modelValue&&!1!==e||m(t)}function m(e){!1!==t.value&&(t.value=!1,c("beforeHide",e),void 0!==s?s(e):c("hide",e))}function y(e){if(!0===u.disable&&!0===e)void 0!==u["onUpdate:modelValue"]&&c("update:modelValue",!1);else if(!0===e!==t.value){const t=!0===e?v:m;t(f)}}(0,i.YP)((()=>u.modelValue),y),void 0!==n&&!0===(0,r.Rb)(l)&&(0,i.YP)((()=>h.$route.fullPath),(()=>{!0===n.value&&!0===t.value&&g()})),!0===a&&(0,i.bv)((()=>{y(u.modelValue)}));const b={show:p,hide:g,toggle:d};return Object.assign(h,b),b}},3852:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});n(4719);var i=n(6237),r=n(9269),o=(n(3027),n(6146)),s=n(3205),a=n(1761),l=n(3613);function u(t){t=t.parent;while(void 0!==t&&null!==t){if("QGlobalDialog"===t.type.name)return!0;if("QDialog"===t.type.name||"QMenu"===t.type.name)return!1;t=t.parent}return!1}function c(t,e,n,c){const h=(0,i.iH)(!1),f=(0,i.iH)(!1);let d=null;const p={},v=!0===c&&u(t);function g(e){if(!0===e)return(0,o.xF)(p),void(f.value=!0);f.value=!1,!1===h.value&&(!1===v&&null===d&&(d=(0,s.q_)()),h.value=!0,a.Q$.push(t.proxy),(0,o.YX)(p))}function m(e){if(f.value=!1,!0!==e)return;(0,o.xF)(p),h.value=!1;const n=a.Q$.indexOf(t.proxy);-1!==n&&a.Q$.splice(n,1),null!==d&&((0,s.pB)(d),d=null)}return(0,r.Ah)((()=>{m(!0)})),t.proxy.__qPortal=!0,(0,l.g)(t.proxy,"contentEl",(()=>e.value)),{showPortal:g,hidePortal:m,portalIsActive:h,portalIsAccessible:f,renderPortal:()=>!0===v?n():!0===h.value?[(0,r.h)(r.lR,{to:d},n())]:void 0}}},2453:function(t,e,n){"use strict";n.d(e,{$:function(){return h},Z:function(){return f}});var i=n(9269),r=n(6380);function o(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function s(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function a(t,e){for(const n in e){const i=e[n],r=t[n];if("string"===typeof i){if(i!==r)return!1}else if(!1===Array.isArray(r)||r.length!==i.length||i.some(((t,e)=>t!==r[e])))return!1}return!0}function l(t,e){return!0===Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function u(t,e){return!0===Array.isArray(t)?l(t,e):!0===Array.isArray(e)?l(e,t):t===e}function c(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!1===u(t[n],e[n]))return!1;return!0}const h={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function f({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const n=(0,i.FN)(),{props:l,proxy:u,emit:h}=n,f=(0,r.Rb)(n),d=(0,i.Fl)((()=>!0!==l.disable&&void 0!==l.href)),p=!0===e?(0,i.Fl)((()=>!0===f&&!0!==l.disable&&!0!==d.value&&void 0!==l.to&&null!==l.to&&""!==l.to)):(0,i.Fl)((()=>!0===f&&!0!==d.value&&void 0!==l.to&&null!==l.to&&""!==l.to)),v=(0,i.Fl)((()=>!0===p.value?C(l.to):null)),g=(0,i.Fl)((()=>null!==v.value)),m=(0,i.Fl)((()=>!0===d.value||!0===g.value)),y=(0,i.Fl)((()=>"a"===l.type||!0===m.value?"a":l.tag||t||"div")),b=(0,i.Fl)((()=>!0===d.value?{href:l.href,target:l.target}:!0===g.value?{href:v.value.href,target:l.target}:{})),_=(0,i.Fl)((()=>{if(!1===g.value)return-1;const{matched:t}=v.value,{length:e}=t,n=t[e-1];if(void 0===n)return-1;const i=u.$route.matched;if(0===i.length)return-1;const r=i.findIndex(s.bind(null,n));if(r>-1)return r;const a=o(t[e-2]);return e>1&&o(n)===a&&i[i.length-1].path!==a?i.findIndex(s.bind(null,t[e-2])):r})),w=(0,i.Fl)((()=>!0===g.value&&-1!==_.value&&a(u.$route.params,v.value.params))),x=(0,i.Fl)((()=>!0===w.value&&_.value===u.$route.matched.length-1&&c(u.$route.params,v.value.params))),S=(0,i.Fl)((()=>!0===g.value?!0===x.value?` ${l.exactActiveClass} ${l.activeClass}`:!0===l.exact?"":!0===w.value?` ${l.activeClass}`:"":""));function C(t){try{return u.$router.resolve(t)}catch(e){}return null}function T(t,{returnRouterError:e,to:n=l.to,replace:i=l.replace}={}){if(!0===l.disable)return t.preventDefault(),Promise.resolve(!1);if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||void 0!==t.button&&0!==t.button||"_blank"===l.target)return Promise.resolve(!1);t.preventDefault();const r=u.$router[!0===i?"replace":"push"](n);return!0===e?r:r.then((()=>{})).catch((()=>{}))}function k(t){if(!0===g.value){const e=e=>T(t,e);h("click",t,e),!0!==t.defaultPrevented&&e()}else h("click",t)}return{hasRouterLink:g,hasHrefLink:d,hasLink:m,linkTag:y,resolvedLink:v,linkIsActive:w,linkIsExactActive:x,linkClass:S,linkAttrs:b,getLink:C,navigateToRouterLink:T,navigateOnClick:k}}},505:function(t,e,n){"use strict";n.d(e,{LU:function(){return o},Ok:function(){return r},ZP:function(){return s}});var i=n(9269);const r={xs:18,sm:24,md:32,lg:38,xl:46},o={size:String};function s(t,e=r){return(0,i.Fl)((()=>void 0!==t.size?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null))}},6775:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(9269),r=n(6380);function o(){let t;const e=(0,i.FN)();function n(){t=void 0}return(0,i.se)(n),(0,i.Jd)(n),{removeTick:n,registerTick(n){t=n,(0,i.Y3)((()=>{t===n&&(!1===(0,r.$D)(e)&&t(),t=void 0)}))}}}},7933:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(9269),r=n(6380);function o(){let t;const e=(0,i.FN)();function n(){clearTimeout(t)}return(0,i.se)(n),(0,i.Jd)(n),{removeTimeout:n,registerTimeout(n,i){clearTimeout(t),!1===(0,r.$D)(e)&&(t=setTimeout(n,i))}}}},959:function(t,e,n){"use strict";n.d(e,{D:function(){return r},Z:function(){return o}});var i=n(9269);const r={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function o(t,e=(()=>{}),n=(()=>{})){return{transitionProps:(0,i.Fl)((()=>{const i=`q-transition--${t.transitionShow||e()}`,r=`q-transition--${t.transitionHide||n()}`;return{appear:!0,enterFromClass:`${i}-enter-from`,enterActiveClass:`${i}-enter-active`,enterToClass:`${i}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}})),transitionStyle:(0,i.Fl)((()=>`--q-transition-duration: ${t.transitionDuration}ms`))}}},7846:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=n(9269),r=n(6237);const o=()=>!0;function s(t){const e={};return t.forEach((t=>{e[t]=o})),e}function a(){const{emit:t,proxy:e}=(0,i.FN)(),n=(0,r.iH)(null);function o(){n.value.show()}function s(){n.value.hide()}function a(e){t("ok",e),s()}function l(){t("hide")}return Object.assign(e,{show:o,hide:s}),{dialogRef:n,onDialogHide:l,onDialogOK:a,onDialogCancel:s}}const l=["ok","hide"];a.emits=l,a.emitsObject=s(l);var u=a},5999:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(9269),r=n(4300);function o(){return(0,i.f3)(r.Ng)}},8658:function(t,e,n){"use strict";n(4719);var i=n(3856),r=n(6145),o=n(3027),s=n(6809),a=n(2748);function l(t,e,n,i){!0===n.modifiers.stop&&(0,o.sT)(t);const s=n.modifiers.color;let a=n.modifiers.center;a=!0===a||!0===i;const l=document.createElement("span"),u=document.createElement("span"),c=(0,o.FK)(t),{left:h,top:f,width:d,height:p}=e.getBoundingClientRect(),v=Math.sqrt(d*d+p*p),g=v/2,m=(d-v)/2+"px",y=a?m:c.left-h-g+"px",b=(p-v)/2+"px",_=a?b:c.top-f-g+"px";u.className="q-ripple__inner",(0,r.iv)(u,{height:`${v}px`,width:`${v}px`,transform:`translate3d(${y},${_},0) scale3d(.2,.2,1)`,opacity:0}),l.className="q-ripple"+(s?" text-"+s:""),l.setAttribute("dir","ltr"),l.appendChild(u),e.appendChild(l);const w=()=>{l.remove(),clearTimeout(x)};n.abort.push(w);let x=setTimeout((()=>{u.classList.add("q-ripple__inner--enter"),u.style.transform=`translate3d(${m},${b},0) scale3d(1,1,1)`,u.style.opacity=.2,x=setTimeout((()=>{u.classList.remove("q-ripple__inner--enter"),u.classList.add("q-ripple__inner--leave"),u.style.opacity=0,x=setTimeout((()=>{l.remove(),n.abort.splice(n.abort.indexOf(w),1)}),275)}),250)}),50)}function u(t,{modifiers:e,value:n,arg:i}){const r=Object.assign({},t.cfg.ripple,e,n);t.modifiers={early:!0===r.early,stop:!0===r.stop,center:!0===r.center,color:r.color||i,keyCodes:[].concat(r.keyCodes||13)}}e["Z"]=(0,i.f)({name:"ripple",beforeMount(t,e){const n=e.instance.$.appContext.config.globalProperties.$q.config||{};if(!1===n.ripple)return;const i={cfg:n,enabled:!1!==e.value,modifiers:{},abort:[],start(e){!0===i.enabled&&!0!==e.qSkipRipple&&e.type===(!0===i.modifiers.early?"pointerdown":"click")&&l(e,t,i,!0===e.qKeyEvent)},keystart:(0,a.Z)((e=>{!0===i.enabled&&!0!==e.qSkipRipple&&!0===(0,s.So)(e,i.modifiers.keyCodes)&&e.type==="key"+(!0===i.modifiers.early?"down":"up")&&l(e,t,i,!0)}),300)};u(i,e),t.__qripple=i,(0,o.M0)(i,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const n=t.__qripple;void 0!==n&&(n.enabled=!1!==e.value,!0===n.enabled&&Object(e.value)===e.value&&u(n,e))}},beforeUnmount(t){const e=t.__qripple;void 0!==e&&(e.abort.forEach((t=>{t()})),(0,o.ul)(e,"main"),delete t._qripple)}})},1019:function(t,e,n){"use strict";var i=n(1013),r=n(3856),o=n(4781),s=n(3027),a=n(1307);function l(t,e,n){const i=(0,s.FK)(t);let r,o=i.left-e.event.x,a=i.top-e.event.y,l=Math.abs(o),u=Math.abs(a);const c=e.direction;!0===c.horizontal&&!0!==c.vertical?r=o<0?"left":"right":!0!==c.horizontal&&!0===c.vertical?r=a<0?"up":"down":!0===c.up&&a<0?(r="up",l>u&&(!0===c.left&&o<0?r="left":!0===c.right&&o>0&&(r="right"))):!0===c.down&&a>0?(r="down",l>u&&(!0===c.left&&o<0?r="left":!0===c.right&&o>0&&(r="right"))):!0===c.left&&o<0?(r="left",l<u&&(!0===c.up&&a<0?r="up":!0===c.down&&a>0&&(r="down"))):!0===c.right&&o>0&&(r="right",l<u&&(!0===c.up&&a<0?r="up":!0===c.down&&a>0&&(r="down")));let h=!1;if(void 0===r&&!1===n){if(!0===e.event.isFirst||void 0===e.event.lastDir)return{};r=e.event.lastDir,h=!0,"left"===r||"right"===r?(i.left-=o,l=0,o=0):(i.top-=a,u=0,a=0)}return{synthetic:h,payload:{evt:t,touch:!0!==e.event.mouse,mouse:!0===e.event.mouse,position:i,direction:r,isFirst:e.event.isFirst,isFinal:!0===n,duration:Date.now()-e.event.time,distance:{x:l,y:u},offset:{x:o,y:a},delta:{x:i.left-e.event.lastX,y:i.top-e.event.lastY}}}}let u=0;e["Z"]=(0,r.f)({name:"touch-pan",beforeMount(t,{value:e,modifiers:n}){if(!0!==n.mouse&&!0!==i.Lp.has.touch)return;function r(t,e){!0===n.mouse&&!0===e?(0,s.NS)(t):(!0===n.stop&&(0,s.sT)(t),!0===n.prevent&&(0,s.X$)(t))}const c={uid:"qvtp_"+u++,handler:e,modifiers:n,direction:(0,o.R)(n),noop:s.ZT,mouseStart(t){(0,o.n)(t,c)&&(0,s.du)(t)&&((0,s.M0)(c,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),c.start(t,!0))},touchStart(t){if((0,o.n)(t,c)){const e=t.target;(0,s.M0)(c,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","passiveCapture"],[e,"touchend","end","passiveCapture"]]),c.start(t)}},start(e,r){if(!0===i.Lp.is.firefox&&(0,s.Jf)(t,!0),c.lastEvt=e,!0===r||!0===n.stop){if(!0!==c.direction.all&&(!0!==r||!0!==c.modifiers.mouseAllDir&&!0!==c.modifiers.mousealldir)){const t=e.type.indexOf("mouse")>-1?new MouseEvent(e.type,e):new TouchEvent(e.type,e);!0===e.defaultPrevented&&(0,s.X$)(t),!0===e.cancelBubble&&(0,s.sT)(t),Object.assign(t,{qKeyEvent:e.qKeyEvent,qClickOutside:e.qClickOutside,qAnchorHandled:e.qAnchorHandled,qClonedBy:void 0===e.qClonedBy?[c.uid]:e.qClonedBy.concat(c.uid)}),c.initialEvent={target:e.target,event:t}}(0,s.sT)(e)}const{left:o,top:a}=(0,s.FK)(e);c.event={x:o,y:a,time:Date.now(),mouse:!0===r,detected:!1,isFirst:!0,isFinal:!1,lastX:o,lastY:a}},move(t){if(void 0===c.event)return;const e=(0,s.FK)(t),i=e.left-c.event.x,o=e.top-c.event.y;if(0===i&&0===o)return;c.lastEvt=t;const u=!0===c.event.mouse,h=()=>{let e;r(t,u),!0!==n.preserveCursor&&!0!==n.preservecursor&&(e=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===u&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,a.M)(),c.styleCleanup=t=>{if(c.styleCleanup=void 0,void 0!==e&&(document.documentElement.style.cursor=e),document.body.classList.remove("non-selectable"),!0===u){const e=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==t?setTimeout((()=>{e(),t()}),50):e()}else void 0!==t&&t()}};if(!0===c.event.detected){!0!==c.event.isFirst&&r(t,c.event.mouse);const{payload:e,synthetic:n}=l(t,c,!1);return void(void 0!==e&&(!1===c.handler(e)?c.end(t):(void 0===c.styleCleanup&&!0===c.event.isFirst&&h(),c.event.lastX=e.position.left,c.event.lastY=e.position.top,c.event.lastDir=!0===n?void 0:e.direction,c.event.isFirst=!1)))}if(!0===c.direction.all||!0===u&&(!0===c.modifiers.mouseAllDir||!0===c.modifiers.mousealldir))return h(),c.event.detected=!0,void c.move(t);const f=Math.abs(i),d=Math.abs(o);f!==d&&(!0===c.direction.horizontal&&f>d||!0===c.direction.vertical&&f<d||!0===c.direction.up&&f<d&&o<0||!0===c.direction.down&&f<d&&o>0||!0===c.direction.left&&f>d&&i<0||!0===c.direction.right&&f>d&&i>0?(c.event.detected=!0,c.move(t)):c.end(t,!0))},end(e,n){if(void 0!==c.event){if((0,s.ul)(c,"temp"),!0===i.Lp.is.firefox&&(0,s.Jf)(t,!1),!0===n)void 0!==c.styleCleanup&&c.styleCleanup(),!0!==c.event.detected&&void 0!==c.initialEvent&&c.initialEvent.target.dispatchEvent(c.initialEvent.event);else if(!0===c.event.detected){!0===c.event.isFirst&&c.handler(l(void 0===e?c.lastEvt:e,c).payload);const{payload:t}=l(void 0===e?c.lastEvt:e,c,!0),n=()=>{c.handler(t)};void 0!==c.styleCleanup?c.styleCleanup(n):n()}c.event=void 0,c.initialEvent=void 0,c.lastEvt=void 0}}};if(t.__qtouchpan=c,!0===n.mouse){const e=!0===n.mouseCapture||!0===n.mousecapture?"Capture":"";(0,s.M0)(c,"main",[[t,"mousedown","mouseStart",`passive${e}`]])}!0===i.Lp.has.touch&&(0,s.M0)(c,"main",[[t,"touchstart","touchStart","passive"+(!0===n.capture?"Capture":"")],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchpan;void 0!==n&&(e.oldValue!==e.value&&("function"!==typeof value&&n.end(),n.handler=e.value),n.direction=(0,o.R)(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;void 0!==e&&(void 0!==e.event&&e.end(),(0,s.ul)(e,"main"),(0,s.ul)(e,"temp"),!0===i.Lp.is.firefox&&(0,s.Jf)(t,!1),void 0!==e.styleCleanup&&e.styleCleanup(),delete t.__qtouchpan)}})},6114:function(t,e,n){"use strict";n(4719);var i=n(1013),r=n(3027);const o=()=>!0;function s(t){return"string"===typeof t&&""!==t&&"/"!==t&&"#/"!==t}function a(t){return!0===t.startsWith("#")&&(t=t.substring(1)),!1===t.startsWith("/")&&(t="/"+t),!0===t.endsWith("/")&&(t=t.substring(0,t.length-1)),"#"+t}function l(t){if(!1===t.backButtonExit)return()=>!1;if("*"===t.backButtonExit)return o;const e=["#/"];return!0===Array.isArray(t.backButtonExit)&&e.push(...t.backButtonExit.filter(s).map(a)),()=>e.includes(window.location.hash)}e["Z"]={__history:[],add:r.ZT,remove:r.ZT,install({$q:t}){if(!0===this.__installed)return;const{cordova:e,capacitor:n}=i.Lp.is;if(!0!==e&&!0!==n)return;const r=t.config[!0===e?"cordova":"capacitor"];if(void 0!==r&&!1===r.backButton)return;if(!0===n&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=t=>{void 0===t.condition&&(t.condition=o),this.__history.push(t)},this.remove=t=>{const e=this.__history.indexOf(t);e>=0&&this.__history.splice(e,1)};const s=l(Object.assign({backButtonExit:!0},r)),a=()=>{if(this.__history.length){const t=this.__history[this.__history.length-1];!0===t.condition()&&(this.__history.pop(),t.handler())}else!0===s()?navigator.app.exitApp():window.history.back()};!0===e?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",a,!1)})):window.Capacitor.Plugins.App.addListener("backButton",a)}}},1428:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(4792),r=n(3613),o={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const s=(0,i.Z)({iconMapFn:null,__icons:{}},{set(t,e){const n={...t,rtl:!0===t.rtl};n.set=s.set,Object.assign(s.__icons,n)},install({$q:t,iconSet:e,ssrContext:n}){void 0!==t.config.iconMapFn&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__icons,(0,r.g)(t,"iconMapFn",(()=>this.iconMapFn),(t=>{this.iconMapFn=t})),!0===this.__installed?void 0!==e&&this.set(e):this.set(e||o)}});var a=s},6120:function(t,e,n){"use strict";n.d(e,{$:function(){return O},Z:function(){return F}});var i=n(5102),r=n(1013),o=(n(4719),n(4792)),s=n(3027),a=n(7265);const l=["sm","md","lg","xl"],{passive:u}=s.rU;var c=(0,o.Z)({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:s.ZT,setDebounce:s.ZT,install({$q:t,onSSRHydrated:e}){if(t.screen=this,!0===this.__installed)return void(void 0!==t.config.screen&&(!1===t.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:n}=window,i=n||window,o=document.scrollingElement||document.documentElement,s=void 0===n||!0===r.Lp.is.mobile?()=>[Math.max(window.innerWidth,o.clientWidth),Math.max(window.innerHeight,o.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-o.clientWidth,n.height*n.scale+window.innerHeight-o.clientHeight],c=void 0!==t.config.screen&&!0===t.config.screen.bodyClasses;this.__update=t=>{const[e,n]=s();if(n!==this.height&&(this.height=n),e!==this.width)this.width=e;else if(!0!==t)return;let i=this.sizes;this.gt.xs=e>=i.sm,this.gt.sm=e>=i.md,this.gt.md=e>=i.lg,this.gt.lg=e>=i.xl,this.lt.sm=e<i.sm,this.lt.md=e<i.md,this.lt.lg=e<i.lg,this.lt.xl=e<i.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,i=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",i!==this.name&&(!0===c&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${i}`)),this.name=i)};let h,f={},d=16;this.setSizes=t=>{l.forEach((e=>{void 0!==t[e]&&(f[e]=t[e])}))},this.setDebounce=t=>{d=t};const p=()=>{const t=getComputedStyle(document.body);t.getPropertyValue("--q-size-sm")&&l.forEach((e=>{this.sizes[e]=parseInt(t.getPropertyValue(`--q-size-${e}`),10)})),this.setSizes=t=>{l.forEach((e=>{t[e]&&(this.sizes[e]=t[e])})),this.__update(!0)},this.setDebounce=t=>{void 0!==h&&i.removeEventListener("resize",h,u),h=t>0?(0,a.Z)(this.__update,t):this.__update,i.addEventListener("resize",h,u)},this.setDebounce(d),Object.keys(f).length>0?(this.setSizes(f),f=void 0):this.__update(),!0===c&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===r.uX.value?e.push(p):p()}});const h=(0,o.Z)({isActive:!1,mode:!1},{__media:void 0,set(t){h.mode=t,"auto"===t?(void 0===h.__media&&(h.__media=window.matchMedia("(prefers-color-scheme: dark)"),h.__updateMedia=()=>{h.set("auto")},h.__media.addListener(h.__updateMedia)),t=h.__media.matches):void 0!==h.__media&&(h.__media.removeListener(h.__updateMedia),h.__media=void 0),h.isActive=!0===t,document.body.classList.remove("body--"+(!0===t?"light":"dark")),document.body.classList.add("body--"+(!0===t?"dark":"light"))},toggle(){h.set(!1===h.isActive)},install({$q:t,onSSRHydrated:e,ssrContext:n}){const{dark:i}=t.config;if(t.dark=this,!0===this.__installed&&void 0===i)return;this.isActive=!0===i;const o=void 0!==i&&i;if(!0===r.uX.value){const t=t=>{this.__fromSSR=t},n=this.set;this.set=t,t(o),e.push((()=>{this.set=n,this.set(this.__fromSSR)}))}else this.set(o)}});var f=h,d=n(6114),p=n(6235);function v(t,e,n=document.body){if("string"!==typeof t)throw new TypeError("Expected a string as propName");if("string"!==typeof e)throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${t}`,e)}var g=n(6809);function m(t){return!0===t.ios?"ios":!0===t.android?"android":void 0}function y({is:t,has:e,within:n},i){const r=[!0===t.desktop?"desktop":"mobile",(!1===e.touch?"no-":"")+"touch"];if(!0===t.mobile){const e=m(t);void 0!==e&&r.push("platform-"+e)}if(!0===t.nativeMobile){const e=t.nativeMobileWrapper;r.push(e),r.push("native-mobile"),!0!==t.ios||void 0!==i[e]&&!1===i[e].iosStatusBarPadding||r.push("q-ios-padding")}else!0===t.electron?r.push("electron"):!0===t.bex&&r.push("bex");return!0===n.iframe&&r.push("within-iframe"),r}function b(){const t=document.body.className;let e=t;void 0!==r.aG&&(e=e.replace("desktop","platform-ios mobile")),!0===r.Lp.has.touch&&(e=e.replace("no-touch","touch")),!0===r.Lp.within.iframe&&(e+=" within-iframe"),t!==e&&(document.body.className=e)}function _(t){for(const e in t)v(e,t[e])}var w={install(t){if(!0!==this.__installed){if(!0===r.uX.value)b();else{const{$q:e}=t;void 0!==e.config.brand&&_(e.config.brand);const n=y(r.Lp,e.config);document.body.classList.add.apply(document.body.classList,n)}!0===r.Lp.is.ios&&document.body.addEventListener("touchstart",s.ZT),window.addEventListener("keydown",g.ZK,!0)}}},x=n(1428),S=n(4300),C=n(4233),T=n(3704);const k=[r.ZP,w,f,c,d.Z,p.Z,x.Z];function O(t,e){const n=(0,i.ri)(t);n.config.globalProperties=e.config.globalProperties;const{reload:r,...o}=e._context;return Object.assign(n._context,o),n}function A(t,e){e.forEach((e=>{e.install(t),e.__installed=!0}))}function E(t,e,n){t.config.globalProperties.$q=n.$q,t.provide(S.Ng,n.$q),A(n,k),void 0!==e.components&&Object.values(e.components).forEach((e=>{!0===(0,T.Kn)(e)&&void 0!==e.name&&t.component(e.name,e)})),void 0!==e.directives&&Object.values(e.directives).forEach((e=>{!0===(0,T.Kn)(e)&&void 0!==e.name&&t.directive(e.name,e)})),void 0!==e.plugins&&A(n,Object.values(e.plugins).filter((t=>"function"===typeof t.install&&!1===k.includes(t)))),!0===r.uX.value&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach((t=>{t()})),n.$q.onSSRHydrated=()=>{}})}var F=function(t,e={}){const n={version:"2.10.1"};!1===C.Uf?(void 0!==e.config&&Object.assign(C.w6,e.config),n.config={...C.w6},(0,C.tP)()):n.config=e.config||{},E(t,e,{parentApp:t,$q:n,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})}},6235:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var i=n(4792),r={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>1===t?"1 record selected.":(0===t?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,n)=>t+"-"+e+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function o(){const t=!0===Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if("string"===typeof t)return t.split(/[-_]/).map(((t,e)=>0===e?t.toLowerCase():e>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase())).join("-")}const s=(0,i.Z)({__langPack:{}},{getLocale:o,set(t=r,e){const n={...t,rtl:!0===t.rtl,getLocale:o};{const t=document.documentElement;t.setAttribute("dir",!0===n.rtl?"rtl":"ltr"),t.setAttribute("lang",n.isoName),n.set=s.set,Object.assign(s.__langPack,n),s.props=n,s.isoName=n.isoName,s.nativeName=n.nativeName}},install({$q:t,lang:e,ssrContext:n}){t.lang=s.__langPack,!0===this.__installed?void 0!==e&&this.set(e):this.set(e||r)}});var a=s},9457:function(t,e,n){"use strict";n.d(e,{Z:function(){return V}});n(4719);var i=n(9269),r=n(6237),o=n(1682),s=n(4686),a=n(8055),l=n(3856),u=n(64),c=(0,l.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:e}){const n=(0,i.Fl)((()=>"q-card__section q-card__section--"+(!0===t.horizontal?"horiz row no-wrap":"vert")));return()=>(0,i.h)(t.tag,{class:n.value},(0,u.KR)(e.default))}}),h=n(4333),f=n(6597);const d={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},p={xs:2,sm:4,md:8,lg:16,xl:24};var v=(0,l.L)({name:"QSeparator",props:{...f.S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const e=(0,i.FN)(),n=(0,f.Z)(t,e.proxy.$q),r=(0,i.Fl)((()=>!0===t.vertical?"vertical":"horizontal")),o=(0,i.Fl)((()=>` q-separator--${r.value}`)),s=(0,i.Fl)((()=>!1!==t.inset?`${o.value}-${d[t.inset]}`:"")),a=(0,i.Fl)((()=>`q-separator${o.value}${s.value}`+(void 0!==t.color?` bg-${t.color}`:"")+(!0===n.value?" q-separator--dark":""))),l=(0,i.Fl)((()=>{const e={};if(void 0!==t.size&&(e[!0===t.vertical?"width":"height"]=t.size),!1!==t.spaced){const n=!0===t.spaced?`${p.md}px`:t.spaced in p?`${p[t.spaced]}px`:t.spaced,i=!0===t.vertical?["Left","Right"]:["Top","Bottom"];e[`margin${i[0]}`]=e[`margin${i[1]}`]=n}return e}));return()=>(0,i.h)("hr",{class:a.value,style:l.value,"aria-orientation":r.value})}}),g=n(6053),m=n(4633),y=n(505);function b(t,e){const n=(0,r.iH)(null),o=(0,i.Fl)((()=>!0===t.disable?null:(0,i.h)("span",{ref:n,class:"no-outline",tabindex:-1})));function s(t){const i=e.value;void 0!==t&&0===t.type.indexOf("key")?null!==i&&document.activeElement!==i&&!0===i.contains(document.activeElement)&&i.focus():null!==n.value&&(void 0===t||null!==i&&!0===i.contains(t.target))&&n.value.focus()}return{refocusTargetEl:o,refocusTarget:s}}var _=n(9724),w={xs:30,sm:35,md:40,lg:50,xl:60},x=n(3027);const S=(0,i.h)("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[(0,i.h)("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),(0,i.h)("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var C=(0,l.L)({name:"QRadio",props:{...f.S,...y.LU,..._.Fz,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:e,emit:n}){const{proxy:o}=(0,i.FN)(),s=(0,f.Z)(t,o.$q),a=(0,y.ZP)(t,w),l=(0,r.iH)(null),{refocusTargetEl:c,refocusTarget:h}=b(t,l),d=(0,i.Fl)((()=>(0,r.IU)(t.modelValue)===(0,r.IU)(t.val))),p=(0,i.Fl)((()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(!0===t.disable?" disabled":"")+(!0===s.value?" q-radio--dark":"")+(!0===t.dense?" q-radio--dense":"")+(!0===t.leftLabel?" reverse":""))),v=(0,i.Fl)((()=>{const e=void 0===t.color||!0!==t.keepColor&&!0!==d.value?"":` text-${t.color}`;return`q-radio__inner relative-position q-radio__inner--${!0===d.value?"truthy":"falsy"}${e}`})),g=(0,i.Fl)((()=>(!0===d.value?t.checkedIcon:t.uncheckedIcon)||null)),C=(0,i.Fl)((()=>!0===t.disable?-1:t.tabindex||0)),T=(0,i.Fl)((()=>{const e={type:"radio"};return void 0!==t.name&&Object.assign(e,{"^checked":!0===d.value?"checked":void 0,name:t.name,value:t.val}),e})),k=(0,_.eX)(T);function O(e){void 0!==e&&((0,x.NS)(e),h(e)),!0!==t.disable&&!0!==d.value&&n("update:modelValue",t.val,e)}function A(t){13!==t.keyCode&&32!==t.keyCode||(0,x.NS)(t)}function E(t){13!==t.keyCode&&32!==t.keyCode||O(t)}return Object.assign(o,{set:O}),()=>{const n=null!==g.value?[(0,i.h)("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[(0,i.h)(m.Z,{class:"q-radio__icon",name:g.value})])]:[S];!0!==t.disable&&k(n,"unshift"," q-radio__native q-ma-none q-pa-none");const r=[(0,i.h)("div",{class:v.value,style:a.value,"aria-hidden":"true"},n)];null!==c.value&&r.push(c.value);const o=void 0!==t.label?(0,u.vs)(e.default,[t.label]):(0,u.KR)(e.default);return void 0!==o&&r.push((0,i.h)("div",{class:"q-radio__label q-anchor--skip"},o)),(0,i.h)("div",{ref:l,class:p.value,tabindex:C.value,role:"radio","aria-label":t.label,"aria-checked":!0===d.value?"true":"false","aria-disabled":!0===t.disable?"true":void 0,onClick:O,onKeydown:A,onKeyup:E},r)}}});const T={...f.S,...y.LU,..._.Fz,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>"tf"===t||"ft"===t},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},k=["update:modelValue"];function O(t,e){const{props:n,slots:o,emit:s,proxy:a}=(0,i.FN)(),{$q:l}=a,c=(0,f.Z)(n,l),h=(0,r.iH)(null),{refocusTargetEl:d,refocusTarget:p}=b(n,h),v=(0,y.ZP)(n,w),g=(0,i.Fl)((()=>void 0!==n.val&&Array.isArray(n.modelValue))),m=(0,i.Fl)((()=>{const t=(0,r.IU)(n.val);return!0===g.value?n.modelValue.findIndex((e=>(0,r.IU)(e)===t)):-1})),S=(0,i.Fl)((()=>!0===g.value?m.value>-1:(0,r.IU)(n.modelValue)===(0,r.IU)(n.trueValue))),C=(0,i.Fl)((()=>!0===g.value?-1===m.value:(0,r.IU)(n.modelValue)===(0,r.IU)(n.falseValue))),T=(0,i.Fl)((()=>!1===S.value&&!1===C.value)),k=(0,i.Fl)((()=>!0===n.disable?-1:n.tabindex||0)),O=(0,i.Fl)((()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(!0===n.disable?" disabled":"")+(!0===c.value?` q-${t}--dark`:"")+(!0===n.dense?` q-${t}--dense`:"")+(!0===n.leftLabel?" reverse":""))),A=(0,i.Fl)((()=>{const e=!0===S.value?"truthy":!0===C.value?"falsy":"indet",i=void 0===n.color||!0!==n.keepColor&&("toggle"===t?!0!==S.value:!0===C.value)?"":` text-${n.color}`;return`q-${t}__inner relative-position non-selectable q-${t}__inner--${e}${i}`})),E=(0,i.Fl)((()=>{const t={type:"checkbox"};return void 0!==n.name&&Object.assign(t,{"^checked":!0===S.value?"checked":void 0,name:n.name,value:!0===g.value?n.val:n.trueValue}),t})),F=(0,_.eX)(E),M=(0,i.Fl)((()=>{const e={tabindex:k.value,role:"toggle"===t?"switch":"checkbox","aria-label":n.label,"aria-checked":!0===T.value?"mixed":!0===S.value?"true":"false"};return!0===n.disable&&(e["aria-disabled"]="true"),e}));function P(t){void 0!==t&&((0,x.NS)(t),p(t)),!0!==n.disable&&s("update:modelValue",j(),t)}function j(){if(!0===g.value){if(!0===S.value){const t=n.modelValue.slice();return t.splice(m.value,1),t}return n.modelValue.concat([n.val])}if(!0===S.value){if("ft"!==n.toggleOrder||!1===n.toggleIndeterminate)return n.falseValue}else{if(!0!==C.value)return"ft"!==n.toggleOrder?n.trueValue:n.falseValue;if("ft"===n.toggleOrder||!1===n.toggleIndeterminate)return n.trueValue}return n.indeterminateValue}function R(t){13!==t.keyCode&&32!==t.keyCode||(0,x.NS)(t)}function L(t){13!==t.keyCode&&32!==t.keyCode||P(t)}const D=e(S,T);return Object.assign(a,{toggle:P}),()=>{const e=D();!0!==n.disable&&F(e,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const r=[(0,i.h)("div",{class:A.value,style:v.value,"aria-hidden":"true"},e)];null!==d.value&&r.push(d.value);const s=void 0!==n.label?(0,u.vs)(o.default,[n.label]):(0,u.KR)(o.default);return void 0!==s&&r.push((0,i.h)("div",{class:`q-${t}__label q-anchor--skip`},s)),(0,i.h)("div",{ref:h,class:O.value,...M.value,onClick:P,onKeydown:R,onKeyup:L},r)}}const A=(0,i.h)("div",{key:"svg",class:"q-checkbox__bg absolute"},[(0,i.h)("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[(0,i.h)("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),(0,i.h)("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var E=(0,l.L)({name:"QCheckbox",props:T,emits:k,setup(t){function e(e,n){const r=(0,i.Fl)((()=>(!0===e.value?t.checkedIcon:!0===n.value?t.indeterminateIcon:t.uncheckedIcon)||null));return()=>null!==r.value?[(0,i.h)("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[(0,i.h)(m.Z,{class:"q-checkbox__icon",name:r.value})])]:[A]}return O("checkbox",e)}}),F=(0,l.L)({name:"QToggle",props:{...T,icon:String,iconColor:String},emits:k,setup(t){function e(e,n){const r=(0,i.Fl)((()=>(!0===e.value?t.checkedIcon:!0===n.value?t.indeterminateIcon:t.uncheckedIcon)||t.icon)),o=(0,i.Fl)((()=>!0===e.value?t.iconColor:null));return()=>[(0,i.h)("div",{class:"q-toggle__track"}),(0,i.h)("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},void 0!==r.value?[(0,i.h)(m.Z,{name:r.value,color:o.value})]:void 0)]}return O("toggle",e)}});const M={radio:C,checkbox:E,toggle:F},P=Object.keys(M);var j=(0,l.L)({name:"QOptionGroup",props:{...f.S,modelValue:{required:!0},options:{type:Array,validator:t=>t.every((t=>"value"in t&&"label"in t))},name:String,type:{default:"radio",validator:t=>P.includes(t)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const{proxy:{$q:r}}=(0,i.FN)(),o=Array.isArray(t.modelValue);"radio"===t.type?!0===o&&console.error("q-option-group: model should not be array"):!1===o&&console.error("q-option-group: model should be array in your case");const s=(0,f.Z)(t,r),a=(0,i.Fl)((()=>M[t.type])),l=(0,i.Fl)((()=>"q-option-group q-gutter-x-sm"+(!0===t.inline?" q-option-group--inline":""))),u=(0,i.Fl)((()=>{const e={role:"group"};return"radio"===t.type&&(e.role="radiogroup",!0===t.disable&&(e["aria-disabled"]="true")),e}));function c(t){e("update:modelValue",t)}return()=>(0,i.h)("div",{class:l.value,...u.value},t.options.map(((e,r)=>{const o=void 0!==n["label-"+r]?()=>n["label-"+r](e):void 0!==n.label?()=>n.label(e):void 0;return(0,i.h)("div",[(0,i.h)(a.value,{modelValue:t.modelValue,val:e.value,name:void 0===e.name?t.name:e.name,disable:t.disable||e.disable,label:void 0===o?e.label:null,leftLabel:void 0===e.leftLabel?t.leftLabel:e.leftLabel,color:void 0===e.color?t.color:e.color,checkedIcon:e.checkedIcon,uncheckedIcon:e.uncheckedIcon,dark:e.dark||s.value,size:void 0===e.size?t.size:e.size,dense:t.dense,keepColor:void 0===e.keepColor?t.keepColor:e.keepColor,"onUpdate:modelValue":c},o)])})))}}),R=n(2605),L=n(6809),D=n(3704),I=(0,l.L)({name:"DialogPlugin",props:{...f.S,title:String,message:String,prompt:Object,options:Object,progress:[Boolean,Object],html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:t=>["ok","cancel","none"].includes(t)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},emits:["ok","hide"],setup(t,{emit:e}){const{proxy:n}=(0,i.FN)(),{$q:l}=n,u=(0,f.Z)(t,l),d=(0,r.iH)(null),p=(0,r.iH)(void 0!==t.prompt?t.prompt.model:void 0!==t.options?t.options.model:void 0),m=(0,i.Fl)((()=>"q-dialog-plugin"+(!0===u.value?" q-dialog-plugin--dark q-dark":"")+(!1!==t.progress?" q-dialog-plugin--progress":""))),y=(0,i.Fl)((()=>t.color||(!0===u.value?"amber":"primary"))),b=(0,i.Fl)((()=>!1===t.progress?null:!0===(0,D.Kn)(t.progress)?{component:t.progress.spinner||R.Z,props:{color:t.progress.color||y.value}}:{component:R.Z,props:{color:y.value}})),_=(0,i.Fl)((()=>void 0!==t.prompt||void 0!==t.options)),w=(0,i.Fl)((()=>{if(!0!==_.value)return{};const{model:e,isValid:n,items:i,...r}=void 0!==t.prompt?t.prompt:t.options;return r})),x=(0,i.Fl)((()=>!0===(0,D.Kn)(t.ok)||!0===t.ok?l.lang.label.ok:t.ok)),S=(0,i.Fl)((()=>!0===(0,D.Kn)(t.cancel)||!0===t.cancel?l.lang.label.cancel:t.cancel)),C=(0,i.Fl)((()=>void 0!==t.prompt?void 0!==t.prompt.isValid&&!0!==t.prompt.isValid(p.value):void 0!==t.options&&(void 0!==t.options.isValid&&!0!==t.options.isValid(p.value)))),T=(0,i.Fl)((()=>({color:y.value,label:x.value,ripple:!1,disable:C.value,...!0===(0,D.Kn)(t.ok)?t.ok:{flat:!0},"data-autofocus":"ok"===t.focus&&!0!==_.value||void 0,onClick:E}))),k=(0,i.Fl)((()=>({color:y.value,label:S.value,ripple:!1,...!0===(0,D.Kn)(t.cancel)?t.cancel:{flat:!0},"data-autofocus":"cancel"===t.focus&&!0!==_.value||void 0,onClick:F})));function O(){d.value.show()}function A(){d.value.hide()}function E(){e("ok",(0,r.IU)(p.value)),A()}function F(){A()}function M(){e("hide")}function P(t){p.value=t}function I(e){!0!==C.value&&"textarea"!==t.prompt.type&&!0===(0,L.So)(e,13)&&E()}function z(e,n){return!0===t.html?(0,i.h)(c,{class:e,innerHTML:n}):(0,i.h)(c,{class:e},(()=>n))}function B(){return[(0,i.h)(g.Z,{color:y.value,dense:!0,autofocus:!0,dark:u.value,...w.value,modelValue:p.value,"onUpdate:modelValue":P,onKeyup:I})]}function q(){return[(0,i.h)(j,{color:y.value,options:t.options.items,dark:u.value,...w.value,modelValue:p.value,"onUpdate:modelValue":P})]}function H(){const e=[];return t.cancel&&e.push((0,i.h)(s.Z,k.value)),t.ok&&e.push((0,i.h)(s.Z,T.value)),(0,i.h)(h.Z,{class:!0===t.stackButtons?"items-end":"",vertical:t.stackButtons,align:"right"},(()=>e))}function V(){const e=[];return t.title&&e.push(z("q-dialog__title",t.title)),!1!==t.progress&&e.push((0,i.h)(c,{class:"q-dialog__progress"},(()=>(0,i.h)(b.value.component,b.value.props)))),t.message&&e.push(z("q-dialog__message",t.message)),void 0!==t.prompt?e.push((0,i.h)(c,{class:"scroll q-dialog-plugin__form"},B)):void 0!==t.options&&e.push((0,i.h)(v,{dark:u.value}),(0,i.h)(c,{class:"scroll q-dialog-plugin__form"},q),(0,i.h)(v,{dark:u.value})),(t.ok||t.cancel)&&e.push(H()),e}function W(){return[(0,i.h)(a.Z,{class:[m.value,t.cardClass],style:t.cardStyle,dark:u.value},V)]}return(0,i.YP)((()=>t.prompt&&t.prompt.model),P),(0,i.YP)((()=>t.options&&t.options.model),P),Object.assign(n,{show:O,hide:A}),()=>(0,i.h)(o.Z,{ref:d,onHide:M},W)}}),z=n(6120),B=n(3205);function q(t,e){for(const n in e)"spinner"!==n&&Object(e[n])===e[n]?(t[n]=Object(t[n])!==t[n]?{}:{...t[n]},q(t[n],e[n])):t[n]=e[n]}function H(t,e,n){return o=>{let s,a;const l=!0===e&&void 0!==o.component;if(!0===l){const{component:t,componentProps:e}=o;s="string"===typeof t?n.component(t):t,a=e||{}}else{const{class:e,style:n,...i}=o;s=t,a=i,void 0!==e&&(i.cardClass=e),void 0!==n&&(i.cardStyle=n)}let u,c=!1;const h=(0,r.iH)(null),f=(0,B.q_)(),d=t=>{if(null!==h.value&&void 0!==h.value[t])return void h.value[t]();const e=u.$.subTree;if(e&&e.component){if(e.component.proxy&&e.component.proxy[t])return void e.component.proxy[t]();if(e.component.subTree&&e.component.subTree.component&&e.component.subTree.component.proxy&&e.component.subTree.component.proxy[t])return void e.component.subTree.component.proxy[t]()}console.error("[Quasar] Incorrectly defined Dialog component")},p=[],v=[],g={onOk(t){return p.push(t),g},onCancel(t){return v.push(t),g},onDismiss(t){return p.push(t),v.push(t),g},hide(){return d("hide"),g},update(t){if(null!==u){if(!0===l)Object.assign(a,t);else{const{class:e,style:n,...i}=t;void 0!==e&&(i.cardClass=e),void 0!==n&&(i.cardStyle=n),q(a,i)}u.$forceUpdate()}return g}},m=t=>{c=!0,p.forEach((e=>{e(t)}))},y=()=>{b.unmount(f),(0,B.pB)(f),b=null,u=null,!0!==c&&v.forEach((t=>{t()}))};let b=(0,z.$)({name:"QGlobalDialog",setup:()=>()=>(0,i.h)(s,{...a,ref:h,onOk:m,onHide:y,onVnodeMounted(...t){"function"===typeof a.onVnodeMounted&&a.onVnodeMounted(...t),(0,i.Y3)((()=>d("show")))}})},n);return u=b.mount(f),g}}var V={install({$q:t,parentApp:e}){t.dialog=H(I,!0,e),!0!==this.__installed&&(this.create=t.dialog)}}},1013:function(t,e,n){"use strict";n.d(e,{Lp:function(){return v},aG:function(){return s},uX:function(){return o}});n(4719);var i=n(6237),r=n(3613);const o=(0,i.iH)(!1);let s,a=!1;function l(t,e){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:e[0]||""}}function u(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const c="ontouchstart"in window||window.navigator.maxTouchPoints>0;function h(t){s={is:{...t}},delete t.mac,delete t.desktop;const e=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(t,{mobile:!0,ios:!0,platform:e,[e]:!0})}function f(t){const e=t.toLowerCase(),n=u(e),i=l(e,n),r={};i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.versionNumber,10)),i.platform&&(r[i.platform]=!0);const o=r.android||r.ios||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"];return!0===o||e.indexOf("mobile")>-1?(r.mobile=!0,r.edga||r.edgios?(r.edge=!0,i.browser="edge"):r.crios?(r.chrome=!0,i.browser="chrome"):r.fxios&&(r.firefox=!0,i.browser="firefox")):r.desktop=!0,(r.ipod||r.ipad||r.iphone)&&(r.ios=!0),r["windows phone"]&&(r.winphone=!0,delete r["windows phone"]),(r.chrome||r.opr||r.safari||r.vivaldi||!0===r.mobile&&!0!==r.ios&&!0!==o)&&(r.webkit=!0),r.edg&&(i.browser="edgechromium",r.edgeChromium=!0),(r.safari&&r.blackberry||r.bb)&&(i.browser="blackberry",r.blackberry=!0),r.safari&&r.playbook&&(i.browser="playbook",r.playbook=!0),r.opr&&(i.browser="opera",r.opera=!0),r.safari&&r.android&&(i.browser="android",r.android=!0),r.safari&&r.kindle&&(i.browser="kindle",r.kindle=!0),r.safari&&r.silk&&(i.browser="silk",r.silk=!0),r.vivaldi&&(i.browser="vivaldi",r.vivaldi=!0),r.name=i.browser,r.platform=i.platform,e.indexOf("electron")>-1?r.electron=!0:document.location.href.indexOf("-extension://")>-1?r.bex=!0:(void 0!==window.Capacitor?(r.capacitor=!0,r.nativeMobile=!0,r.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(r.cordova=!0,r.nativeMobile=!0,r.nativeMobileWrapper="cordova"),!0===c&&!0===r.mac&&(!0===r.desktop&&!0===r.safari||!0===r.nativeMobile&&!0!==r.android&&!0!==r.ios&&!0!==r.ipad)&&h(r)),r}const d=navigator.userAgent||navigator.vendor||window.opera,p={has:{touch:!1,webStorage:!1},within:{iframe:!1}},v={userAgent:d,is:f(d),has:{touch:c},within:{iframe:window.self!==window.top}},g={install(t){const{$q:e}=t;!0===o.value?(t.onSSRHydrated.push((()=>{o.value=!1,Object.assign(e.platform,v),s=void 0})),e.platform=(0,i.qj)(this)):e.platform=this}};{let t;(0,r.g)(v.has,"webStorage",(()=>{if(void 0!==t)return t;try{if(window.localStorage)return t=!0,!0}catch(e){}return t=!1,!1})),a=!0===v.is.ios&&-1===window.navigator.vendor.toLowerCase().indexOf("apple"),!0===o.value?Object.assign(g,v,s,p):Object.assign(g,v)}e["ZP"]=g},7265:function(t,e,n){"use strict";function i(t,e=250,n){let i;function r(){const r=arguments,o=()=>{i=void 0,!0!==n&&t.apply(this,r)};clearTimeout(i),!0===n&&void 0===i&&t.apply(this,r),i=setTimeout(o,e)}return r.cancel=()=>{clearTimeout(i)},r}n.d(e,{Z:function(){return i}})},6145:function(t,e,n){"use strict";n.d(e,{iv:function(){return r},mY:function(){return s},sb:function(){return o}});var i=n(6237);function r(t,e){const n=t.style;for(const i in e)n[i]=e[i]}function o(t){if(void 0===t||null===t)return;if("string"===typeof t)try{return document.querySelector(t)||void 0}catch(n){return}const e=(0,i.SU)(t);return e?e.$el||e:void 0}function s(t,e){if(void 0===t||null===t||!0===t.contains(e))return!0;for(let n=t.nextElementSibling;null!==n;n=n.nextElementSibling)if(n.contains(e))return!0;return!1}},3027:function(t,e,n){"use strict";n.d(e,{AZ:function(){return a},FK:function(){return s},Jf:function(){return h},M0:function(){return f},NS:function(){return c},X$:function(){return u},ZT:function(){return r},du:function(){return o},rU:function(){return i},sT:function(){return l},ul:function(){return d}});n(4719);const i={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(i,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch(p){}function r(){}function o(t){return 0===t.button}function s(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function a(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let n=t.target;while(n){if(e.push(n),"HTML"===n.tagName)return e.push(document),e.push(window),e;n=n.parentElement}}function l(t){t.stopPropagation()}function u(t){!1!==t.cancelable&&t.preventDefault()}function c(t){!1!==t.cancelable&&t.preventDefault(),t.stopPropagation()}function h(t,e){if(void 0===t||!0===e&&!0===t.__dragPrevented)return;const n=!0===e?t=>{t.__dragPrevented=!0,t.addEventListener("dragstart",u,i.notPassiveCapture)}:t=>{delete t.__dragPrevented,t.removeEventListener("dragstart",u,i.notPassiveCapture)};t.querySelectorAll("a, img").forEach(n)}function f(t,e,n){const r=`__q_${e}_evt`;t[r]=void 0!==t[r]?t[r].concat(n):n,n.forEach((e=>{e[0].addEventListener(e[1],t[e[2]],i[e[3]])}))}function d(t,e){const n=`__q_${e}_evt`;void 0!==t[n]&&(t[n].forEach((e=>{e[0].removeEventListener(e[1],t[e[2]],i[e[3]])})),t[n]=void 0)}},7328:function(t,e,n){"use strict";n.d(e,{Uz:function(){return s},rB:function(){return r},vX:function(){return o}});const i=["B","KB","MB","GB","TB","PB"];function r(t){let e=0;while(parseInt(t,10)>=1024&&e<i.length-1)t/=1024,++e;return`${t.toFixed(1)}${i[e]}`}function o(t,e,n){return n<=e?e:Math.min(n,Math.max(e,t))}function s(t,e,n){if(n<=e)return e;const i=n-e+1;let r=e+(t-e)%i;return r<e&&(r=i+r),0===r?0:r}},3704:function(t,e,n){"use strict";n.d(e,{Kn:function(){return r},hj:function(){return o},xb:function(){return i}});n(1098);function i(t,e){if(t===e)return!0;if(null!==t&&null!==e&&"object"===typeof t&&"object"===typeof e){if(t.constructor!==e.constructor)return!1;let n,r;if(t.constructor===Array){if(n=t.length,n!==e.length)return!1;for(r=n;0!==r--;)if(!0!==i(t[r],e[r]))return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;r=t.entries().next();while(!0!==r.done){if(!0!==e.has(r.value[0]))return!1;r=r.next()}r=t.entries().next();while(!0!==r.done){if(!0!==i(r.value[1],e.get(r.value[0])))return!1;r=r.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;r=t.entries().next();while(!0!==r.done){if(!0!==e.has(r.value[0]))return!1;r=r.next()}return!0}if(null!=t.buffer&&t.buffer.constructor===ArrayBuffer){if(n=t.length,n!==e.length)return!1;for(r=n;0!==r--;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const o=Object.keys(t).filter((e=>void 0!==t[e]));if(n=o.length,n!==Object.keys(e).filter((t=>void 0!==e[t])).length)return!1;for(r=n;0!==r--;){const n=o[r];if(!0!==i(t[n],e[n]))return!1}return!0}return t!==t&&e!==e}function r(t){return null!==t&&"object"===typeof t&&!0!==Array.isArray(t)}function o(t){return"number"===typeof t&&isFinite(t)}},6118:function(t,e,n){"use strict";n.d(e,{E:function(){return l}});const i=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,r=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,o=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,s=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,a=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,l={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),email:t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),hexColor:t=>i.test(t),hexaColor:t=>r.test(t),hexOrHexaColor:t=>o.test(t),rgbColor:t=>s.test(t),rgbaColor:t=>a.test(t),rgbOrRgbaColor:t=>s.test(t)||a.test(t),hexOrRgbColor:t=>i.test(t)||s.test(t),hexaOrRgbaColor:t=>r.test(t)||a.test(t),anyColor:t=>o.test(t)||s.test(t)||a.test(t)}},3856:function(t,e,n){"use strict";n.d(e,{L:function(){return o},f:function(){return s}});var i=n(6237),r=n(9269);const o=t=>(0,i.Xl)((0,r.aZ)(t)),s=t=>(0,i.Xl)(t)},4792:function(t,e,n){"use strict";var i=n(6237),r=n(3613);e["Z"]=(t,e)=>{const n=(0,i.qj)(t);for(const i in t)(0,r.g)(e,i,(()=>n[i]),(t=>{n[i]=t}));return e}},1135:function(t,e,n){"use strict";n.d(e,{c:function(){return h},k:function(){return f}});n(4719);var i=n(1013),r=n(6809);const o=[];let s;function a(t){s=27===t.keyCode}function l(){!0===s&&(s=!1)}function u(t){!0===s&&(s=!1,!0===(0,r.So)(t,27)&&o[o.length-1](t))}function c(t){window[t]("keydown",a),window[t]("blur",l),window[t]("keyup",u),s=!1}function h(t){!0===i.Lp.is.desktop&&(o.push(t),1===o.length&&c("addEventListener"))}function f(t){const e=o.indexOf(t);e>-1&&(o.splice(e,1),0===o.length&&c("removeEventListener"))}},6146:function(t,e,n){"use strict";n.d(e,{YX:function(){return s},fP:function(){return u},jd:function(){return l},xF:function(){return a}});n(4719);let i=[],r=[];function o(t){r=r.filter((e=>e!==t))}function s(t){o(t),r.push(t)}function a(t){o(t),0===r.length&&i.length>0&&(i[i.length-1](),i=[])}function l(t){0===r.length?t():i.push(t)}function u(t){i=i.filter((e=>e!==t))}},7001:function(t,e,n){"use strict";n.d(e,{H:function(){return a},i:function(){return s}});n(4719);var i=n(1013);const r=[];function o(t){r[r.length-1](t)}function s(t){!0===i.Lp.is.desktop&&(r.push(t),1===r.length&&document.body.addEventListener("focusin",o))}function a(t){const e=r.indexOf(t);e>-1&&(r.splice(e,1),0===r.length&&document.body.removeEventListener("focusin",o))}},4233:function(t,e,n){"use strict";n.d(e,{Uf:function(){return r},tP:function(){return o},w6:function(){return i}});const i={};let r=!1;function o(){r=!0}},3205:function(t,e,n){"use strict";n.d(e,{pB:function(){return a},q_:function(){return s}});n(4719);var i=n(4233);const r=[];let o=document.body;function s(t){const e=document.createElement("div");if(void 0!==t&&(e.id=t),void 0!==i.w6.globalNodes){const t=i.w6.globalNodes["class"];void 0!==t&&(e.className=t)}return o.appendChild(e),r.push(e),e}function a(t){r.splice(r.indexOf(t),1),t.remove()}},3613:function(t,e,n){"use strict";function i(t,e,n,i){return Object.defineProperty(t,e,{get:n,set:i,enumerable:!0}),t}n.d(e,{g:function(){return i}})},6809:function(t,e,n){"use strict";n.d(e,{So:function(){return s},Wm:function(){return o},ZK:function(){return r}});let i=!1;function r(t){i=!0===t.isComposing}function o(t){return!0===i||t!==Object(t)||!0===t.isComposing||!0===t.qKeyEvent}function s(t,e){return!0!==o(t)&&[].concat(e).includes(t.keyCode)}},1761:function(t,e,n){"use strict";n.d(e,{AH:function(){return o},Q$:function(){return r}});var i=n(6380);const r=[];function o(t,e){do{if("QMenu"===t.$options.name){if(t.hide(e),!0===t.$props.separateClosePopup)return(0,i.O2)(t)}else if(!0===t.__qPortal){const n=(0,i.O2)(t);return void 0!==n&&"QPopupProxy"===n.$options.name?(t.hide(e),n):t}t=(0,i.O2)(t)}while(void 0!==t&&null!==t)}},64:function(t,e,n){"use strict";n.d(e,{Bl:function(){return o},Jl:function(){return l},KR:function(){return r},pf:function(){return a},vs:function(){return s}});var i=n(9269);function r(t,e){return void 0!==t&&t()||e}function o(t,e){if(void 0!==t){const e=t();if(void 0!==e&&null!==e)return e.slice()}return e}function s(t,e){return void 0!==t?e.concat(t()):e}function a(t,e){return void 0===t?e:void 0!==e?e.concat(t()):t()}function l(t,e,n,r,o,s){e.key=r+o;const a=(0,i.h)(t,e,n);return!0===o?(0,i.wy)(a,s()):a}},3979:function(t,e,n){"use strict";n.d(e,{e:function(){return i}});let i=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,i=t.scrollLeft>=0,t.remove()}},1307:function(t,e,n){"use strict";n.d(e,{M:function(){return r}});var i=n(1013);function r(){if(void 0!==window.getSelection){const t=window.getSelection();void 0!==t.empty?t.empty():void 0!==t.removeAllRanges&&(t.removeAllRanges(),!0!==i.ZP.is.mobile&&t.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}},4300:function(t,e,n){"use strict";n.d(e,{Nd:function(){return o},Ng:function(){return i},qO:function(){return s},vh:function(){return r}});const i="_q_",r="_q_fo_",o="_q_tabs_",s=()=>{}},4781:function(t,e,n){"use strict";n.d(e,{R:function(){return o},n:function(){return s}});const i={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},r=Object.keys(i);function o(t){const e={};for(const n of r)!0===t[n]&&(e[n]=!0);return 0===Object.keys(e).length?i:(!0===e.horizontal?e.left=e.right=!0:!0===e.left&&!0===e.right&&(e.horizontal=!0),!0===e.vertical?e.up=e.down=!0:!0===e.up&&!0===e.down&&(e.vertical=!0),!0===e.horizontal&&!0===e.vertical&&(e.all=!0),e)}function s(t,e){return void 0===e.event&&void 0!==t.target&&!0!==t.target.draggable&&"function"===typeof e.handler&&"INPUT"!==t.target.nodeName.toUpperCase()&&(void 0===t.qClonedBy||-1===t.qClonedBy.indexOf(e.uid))}i.all=!0},6380:function(t,e,n){"use strict";function i(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;while(Object(e)===e){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function r(t,e){"symbol"===typeof e.type?!0===Array.isArray(e.children)&&e.children.forEach((e=>{r(t,e)})):t.add(e)}function o(t){const e=new Set;return t.forEach((t=>{r(e,t)})),Array.from(e)}function s(t){return void 0!==t.appContext.config.globalProperties.$router}function a(t){return!0===t.isUnmounted||!0===t.isDeactivated}n.d(e,{$D:function(){return a},O2:function(){return i},Pf:function(){return o},Rb:function(){return s}})},7336:function(t,e,n){"use strict";n.d(e,{OI:function(){return a},QA:function(){return c},b0:function(){return o},np:function(){return u},u3:function(){return s}});var i=n(6145);const r=[null,document,document.body,document.scrollingElement,document.documentElement];function o(t,e){let n=(0,i.sb)(e);if(void 0===n){if(void 0===t||null===t)return window;n=t.closest(".scroll,.scroll-y,.overflow-auto")}return r.includes(n)?window:n}function s(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function a(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}let l;function u(){if(void 0!==l)return l;const t=document.createElement("p"),e=document.createElement("div");(0,i.iv)(t,{width:"100%",height:"200px"}),(0,i.iv)(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;return n===r&&(r=e.clientWidth),e.remove(),l=n-r,l}function c(t,e=!0){return!(!t||t.nodeType!==Node.ELEMENT_NODE)&&(e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"])))}},2748:function(t,e,n){"use strict";function i(t,e=250){let n,i=!1;return function(){return!1===i&&(i=!0,setTimeout((()=>{i=!1}),e),n=t.apply(this,arguments)),n}}n.d(e,{Z:function(){return i}})},1878:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});n(4913),n(8099),n(4719);let i,r=0;const o=new Array(256);for(let u=0;u<256;u++)o[u]=(u+256).toString(16).substring(1);const s=(()=>{const t="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==t){if(void 0!==t.randomBytes)return t.randomBytes;if(void 0!==t.getRandomValues)return e=>{const n=new Uint8Array(e);return t.getRandomValues(n),n}}return t=>{const e=[];for(let n=t;n>0;n--)e.push(Math.floor(256*Math.random()));return e}})(),a=4096;function l(){(void 0===i||r+16>a)&&(r=0,i=s(a));const t=Array.prototype.slice.call(i,r,r+=16);return t[6]=15&t[6]|64,t[8]=63&t[8]|128,o[t[0]]+o[t[1]]+o[t[2]]+o[t[3]]+"-"+o[t[4]]+o[t[5]]+"-"+o[t[6]]+o[t[7]]+"-"+o[t[8]]+o[t[9]]+"-"+o[t[10]]+o[t[11]]+o[t[12]]+o[t[13]]+o[t[14]]+o[t[15]]}},8029:function(t,e,n){"use strict";var i=n(6120),r=n(6235),o=n(1428);e["Z"]={version:"2.10.1",install:i.Z,lang:r.Z,iconSet:o.Z}},6237:function(t,e,n){"use strict";n.d(e,{Bj:function(){return o},Fl:function(){return Wt},IU:function(){return At},Jd:function(){return S},PG:function(){return Ct},SU:function(){return zt},Um:function(){return wt},WL:function(){return qt},X$:function(){return O},X3:function(){return Ot},Xl:function(){return Et},dq:function(){return Rt},iH:function(){return Lt},j:function(){return T},lk:function(){return C},qj:function(){return _t},qq:function(){return b},yT:function(){return kt}});var i=n(3201);let r;class o{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=r,!t&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(t){if(this.active){const e=r;try{return r=this,t()}finally{r=e}}else 0}on(){r=this}off(){r=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this.active=!1}}}function s(t,e=r){e&&e.active&&e.effects.push(t)}const a=t=>{const e=new Set(t);return e.w=0,e.n=0,e},l=t=>(t.w&p)>0,u=t=>(t.n&p)>0,c=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=p},h=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];l(r)&&!u(r)?r.delete(t):e[n++]=r,r.w&=~p,r.n&=~p}e.length=n}},f=new WeakMap;let d=0,p=1;const v=30;let g;const m=Symbol(""),y=Symbol("");class b{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,s(this,n)}run(){if(!this.active)return this.fn();let t=g,e=w;while(t){if(t===this)return;t=t.parent}try{return this.parent=g,g=this,w=!0,p=1<<++d,d<=v?c(this):_(this),this.fn()}finally{d<=v&&h(this),p=1<<--d,g=this.parent,w=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){g===this?this.deferStop=!0:this.active&&(_(this),this.onStop&&this.onStop(),this.active=!1)}}function _(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let w=!0;const x=[];function S(){x.push(w),w=!1}function C(){const t=x.pop();w=void 0===t||t}function T(t,e,n){if(w&&g){let e=f.get(t);e||f.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=a());const r=void 0;k(i,r)}}function k(t,e){let n=!1;d<=v?u(t)||(t.n|=p,n=!l(t)):n=!t.has(g),n&&(t.add(g),g.deps.push(t))}function O(t,e,n,r,o,s){const l=f.get(t);if(!l)return;let u=[];if("clear"===e)u=[...l.values()];else if("length"===n&&(0,i.kJ)(t))l.forEach(((t,e)=>{("length"===e||e>=r)&&u.push(t)}));else switch(void 0!==n&&u.push(l.get(n)),e){case"add":(0,i.kJ)(t)?(0,i.S0)(n)&&u.push(l.get("length")):(u.push(l.get(m)),(0,i._N)(t)&&u.push(l.get(y)));break;case"delete":(0,i.kJ)(t)||(u.push(l.get(m)),(0,i._N)(t)&&u.push(l.get(y)));break;case"set":(0,i._N)(t)&&u.push(l.get(m));break}if(1===u.length)u[0]&&A(u[0]);else{const t=[];for(const e of u)e&&t.push(...e);A(a(t))}}function A(t,e){const n=(0,i.kJ)(t)?t:[...t];for(const i of n)i.computed&&E(i,e);for(const i of n)i.computed||E(i,e)}function E(t,e){(t!==g||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const F=(0,i.fY)("__proto__,__v_isRef,__isVue"),M=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(i.yk)),P=I(),j=I(!1,!0),R=I(!0),L=D();function D(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=At(this);for(let e=0,r=this.length;e<r;e++)T(n,"get",e+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(At)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){S();const n=At(this)[e].apply(this,t);return C(),n}})),t}function I(t=!1,e=!1){return function(n,r,o){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_isShallow"===r)return e;if("__v_raw"===r&&o===(t?e?mt:gt:e?vt:pt).get(n))return n;const s=(0,i.kJ)(n);if(!t&&s&&(0,i.RI)(L,r))return Reflect.get(L,r,o);const a=Reflect.get(n,r,o);return((0,i.yk)(r)?M.has(r):F(r))?a:(t||T(n,"get",r),e?a:Rt(a)?s&&(0,i.S0)(r)?a:a.value:(0,i.Kn)(a)?t?xt(a):_t(a):a)}}const z=q(),B=q(!0);function q(t=!1){return function(e,n,r,o){let s=e[n];if(Tt(s)&&Rt(s)&&!Rt(r))return!1;if(!t&&(kt(r)||Tt(r)||(s=At(s),r=At(r)),!(0,i.kJ)(e)&&Rt(s)&&!Rt(r)))return s.value=r,!0;const a=(0,i.kJ)(e)&&(0,i.S0)(n)?Number(n)<e.length:(0,i.RI)(e,n),l=Reflect.set(e,n,r,o);return e===At(o)&&(a?(0,i.aU)(r,s)&&O(e,"set",n,r,s):O(e,"add",n,r)),l}}function H(t,e){const n=(0,i.RI)(t,e),r=t[e],o=Reflect.deleteProperty(t,e);return o&&n&&O(t,"delete",e,void 0,r),o}function V(t,e){const n=Reflect.has(t,e);return(0,i.yk)(e)&&M.has(e)||T(t,"has",e),n}function W(t){return T(t,"iterate",(0,i.kJ)(t)?"length":m),Reflect.ownKeys(t)}const N={get:P,set:z,deleteProperty:H,has:V,ownKeys:W},U={get:R,set(t,e){return!0},deleteProperty(t,e){return!0}},Y=(0,i.l7)({},N,{get:j,set:B}),X=t=>t,$=t=>Reflect.getPrototypeOf(t);function G(t,e,n=!1,i=!1){t=t["__v_raw"];const r=At(t),o=At(e);n||(e!==o&&T(r,"get",e),T(r,"get",o));const{has:s}=$(r),a=i?X:n?Mt:Ft;return s.call(r,e)?a(t.get(e)):s.call(r,o)?a(t.get(o)):void(t!==r&&t.get(e))}function Z(t,e=!1){const n=this["__v_raw"],i=At(n),r=At(t);return e||(t!==r&&T(i,"has",t),T(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function K(t,e=!1){return t=t["__v_raw"],!e&&T(At(t),"iterate",m),Reflect.get(t,"size",t)}function J(t){t=At(t);const e=At(this),n=$(e),i=n.has.call(e,t);return i||(e.add(t),O(e,"add",t,t)),this}function Q(t,e){e=At(e);const n=At(this),{has:r,get:o}=$(n);let s=r.call(n,t);s||(t=At(t),s=r.call(n,t));const a=o.call(n,t);return n.set(t,e),s?(0,i.aU)(e,a)&&O(n,"set",t,e,a):O(n,"add",t,e),this}function tt(t){const e=At(this),{has:n,get:i}=$(e);let r=n.call(e,t);r||(t=At(t),r=n.call(e,t));const o=i?i.call(e,t):void 0,s=e.delete(t);return r&&O(e,"delete",t,void 0,o),s}function et(){const t=At(this),e=0!==t.size,n=void 0,i=t.clear();return e&&O(t,"clear",void 0,void 0,n),i}function nt(t,e){return function(n,i){const r=this,o=r["__v_raw"],s=At(o),a=e?X:t?Mt:Ft;return!t&&T(s,"iterate",m),o.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}}function it(t,e,n){return function(...r){const o=this["__v_raw"],s=At(o),a=(0,i._N)(s),l="entries"===t||t===Symbol.iterator&&a,u="keys"===t&&a,c=o[t](...r),h=n?X:e?Mt:Ft;return!e&&T(s,"iterate",u?y:m),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:l?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function rt(t){return function(...e){return"delete"!==t&&this}}function ot(){const t={get(t){return G(this,t)},get size(){return K(this)},has:Z,add:J,set:Q,delete:tt,clear:et,forEach:nt(!1,!1)},e={get(t){return G(this,t,!1,!0)},get size(){return K(this)},has:Z,add:J,set:Q,delete:tt,clear:et,forEach:nt(!1,!0)},n={get(t){return G(this,t,!0)},get size(){return K(this,!0)},has(t){return Z.call(this,t,!0)},add:rt("add"),set:rt("set"),delete:rt("delete"),clear:rt("clear"),forEach:nt(!0,!1)},i={get(t){return G(this,t,!0,!0)},get size(){return K(this,!0)},has(t){return Z.call(this,t,!0)},add:rt("add"),set:rt("set"),delete:rt("delete"),clear:rt("clear"),forEach:nt(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{t[r]=it(r,!1,!1),n[r]=it(r,!0,!1),e[r]=it(r,!1,!0),i[r]=it(r,!0,!0)})),[t,n,e,i]}const[st,at,lt,ut]=ot();function ct(t,e){const n=e?t?ut:lt:t?at:st;return(e,r,o)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,i.RI)(n,r)&&r in e?n:e,r,o)}const ht={get:ct(!1,!1)},ft={get:ct(!1,!0)},dt={get:ct(!0,!1)};const pt=new WeakMap,vt=new WeakMap,gt=new WeakMap,mt=new WeakMap;function yt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:yt((0,i.W7)(t))}function _t(t){return Tt(t)?t:St(t,!1,N,ht,pt)}function wt(t){return St(t,!1,Y,ft,vt)}function xt(t){return St(t,!0,U,dt,gt)}function St(t,e,n,r,o){if(!(0,i.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const s=o.get(t);if(s)return s;const a=bt(t);if(0===a)return t;const l=new Proxy(t,2===a?r:n);return o.set(t,l),l}function Ct(t){return Tt(t)?Ct(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function Tt(t){return!(!t||!t["__v_isReadonly"])}function kt(t){return!(!t||!t["__v_isShallow"])}function Ot(t){return Ct(t)||Tt(t)}function At(t){const e=t&&t["__v_raw"];return e?At(e):t}function Et(t){return(0,i.Nj)(t,"__v_skip",!0),t}const Ft=t=>(0,i.Kn)(t)?_t(t):t,Mt=t=>(0,i.Kn)(t)?xt(t):t;function Pt(t){w&&g&&(t=At(t),k(t.dep||(t.dep=a())))}function jt(t,e){t=At(t),t.dep&&A(t.dep)}function Rt(t){return!(!t||!0!==t.__v_isRef)}function Lt(t){return Dt(t,!1)}function Dt(t,e){return Rt(t)?t:new It(t,e)}class It{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:At(t),this._value=e?t:Ft(t)}get value(){return Pt(this),this._value}set value(t){const e=this.__v_isShallow||kt(t)||Tt(t);t=e?t:At(t),(0,i.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Ft(t),jt(this,t))}}function zt(t){return Rt(t)?t.value:t}const Bt={get:(t,e,n)=>zt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Rt(r)&&!Rt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function qt(t){return Ct(t)?t:new Proxy(t,Bt)}var Ht;class Vt{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[Ht]=!1,this._dirty=!0,this.effect=new b(t,(()=>{this._dirty||(this._dirty=!0,jt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const t=At(this);return Pt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Wt(t,e,n=!1){let r,o;const s=(0,i.mf)(t);s?(r=t,o=i.dG):(r=t.get,o=t.set);const a=new Vt(r,o,s||!o,n);return a}Ht="__v_isReadonly"},9269:function(t,e,n){"use strict";n.d(e,{$d:function(){return s},Ah:function(){return Ot},FN:function(){return Cn},Fl:function(){return qn},HY:function(){return We},JJ:function(){return N},Jd:function(){return kt},Ko:function(){return Vt},LL:function(){return zt},Ob:function(){return ft},P$:function(){return et},Q2:function(){return Bt},Q6:function(){return at},U2:function(){return it},Us:function(){return Fe},WI:function(){return Wt},Wm:function(){return un},Xn:function(){return Ct},Y3:function(){return y},Y8:function(){return J},YP:function(){return X},_:function(){return ln},aZ:function(){return lt},bv:function(){return St},dG:function(){return yn},dl:function(){return pt},f3:function(){return U},h:function(){return Hn},iD:function(){return tn},ic:function(){return Tt},j4:function(){return en},kq:function(){return pn},lR:function(){return Ve},nK:function(){return st},se:function(){return vt},up:function(){return Dt},w5:function(){return L},wF:function(){return xt},wg:function(){return Ge},wy:function(){return Pt}});var i=n(6237),r=n(3201);function o(t,e,n,i){let r;try{r=i?t(...i):t()}catch(o){a(o,e,n)}return r}function s(t,e,n,i){if((0,r.mf)(t)){const s=o(t,e,n,i);return s&&(0,r.tI)(s)&&s.catch((t=>{a(t,e,n)})),s}const l=[];for(let r=0;r<t.length;r++)l.push(s(t[r],e,n,i));return l}function a(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const r=e.proxy,s=n;while(i){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,s))return;i=i.parent}const a=e.appContext.config.errorHandler;if(a)return void o(a,null,10,[t,r,s])}l(t,n,r,i)}function l(t,e,n,i=!0){console.error(t)}let u=!1,c=!1;const h=[];let f=0;const d=[];let p=null,v=0;const g=Promise.resolve();let m=null;function y(t){const e=m||g;return t?e.then(this?t.bind(this):t):e}function b(t){let e=f+1,n=h.length;while(e<n){const i=e+n>>>1,r=k(h[i]);r<t?e=i+1:n=i}return e}function _(t){h.length&&h.includes(t,u&&t.allowRecurse?f+1:f)||(null==t.id?h.push(t):h.splice(b(t.id),0,t),w())}function w(){u||c||(c=!0,m=g.then(A))}function x(t){const e=h.indexOf(t);e>f&&h.splice(e,1)}function S(t){(0,r.kJ)(t)?d.push(...t):p&&p.includes(t,t.allowRecurse?v+1:v)||d.push(t),w()}function C(t,e=(u?f+1:0)){for(0;e<h.length;e++){const t=h[e];t&&t.pre&&(h.splice(e,1),e--,t())}}function T(t){if(d.length){const t=[...new Set(d)];if(d.length=0,p)return void p.push(...t);for(p=t,p.sort(((t,e)=>k(t)-k(e))),v=0;v<p.length;v++)p[v]();p=null,v=0}}const k=t=>null==t.id?1/0:t.id,O=(t,e)=>{const n=k(t)-k(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function A(t){c=!1,u=!0,h.sort(O);r.dG;try{for(f=0;f<h.length;f++){const t=h[f];t&&!1!==t.active&&o(t,null,14)}}finally{f=0,h.length=0,T(t),u=!1,m=null,(h.length||d.length)&&A(t)}}new Set;new Map;function E(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||r.kT;let o=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in i){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:s}=i[t]||r.kT;s&&(o=n.map((t=>t.trim()))),e&&(o=n.map(r.He))}let u;let c=i[u=(0,r.hR)(e)]||i[u=(0,r.hR)((0,r._A)(e))];!c&&a&&(c=i[u=(0,r.hR)((0,r.rs)(e))]),c&&s(c,t,6,o);const h=i[u+"Once"];if(h){if(t.emitted){if(t.emitted[u])return}else t.emitted={};t.emitted[u]=!0,s(h,t,6,o)}}function F(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(void 0!==o)return o;const s=t.emits;let a={},l=!1;if(!(0,r.mf)(t)){const i=t=>{const n=F(t,e,!0);n&&(l=!0,(0,r.l7)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return s||l?((0,r.kJ)(s)?s.forEach((t=>a[t]=null)):(0,r.l7)(a,s),(0,r.Kn)(t)&&i.set(t,a),a):((0,r.Kn)(t)&&i.set(t,null),null)}function M(t,e){return!(!t||!(0,r.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,r.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,r.RI)(t,(0,r.rs)(e))||(0,r.RI)(t,e))}let P=null,j=null;function R(t){const e=P;return P=t,j=t&&t.type.__scopeId||null,e}function L(t,e=P,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&Je(-1);const r=R(e);let o;try{o=t(...n)}finally{R(r),i._d&&Je(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function D(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[l],slots:u,attrs:c,emit:h,render:f,renderCache:d,data:p,setupState:v,ctx:g,inheritAttrs:m}=t;let y,b;const _=R(t);try{if(4&n.shapeFlag){const t=o||i;y=vn(f.call(t,t,d,s,v,p,g)),b=c}else{const t=e;0,y=vn(t.length>1?t(s,{attrs:c,slots:u,emit:h}):t(s,null)),b=e.props?c:I(c)}}catch(x){Xe.length=0,a(x,t,1),y=un(Ue)}let w=y;if(b&&!1!==m){const t=Object.keys(b),{shapeFlag:e}=w;t.length&&7&e&&(l&&t.some(r.tR)&&(b=z(b,l)),w=fn(w,b))}return n.dirs&&(w=fn(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),y=w,R(_),y}const I=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,r.F7)(n))&&((e||(e={}))[n]=t[n]);return e},z=(t,e)=>{const n={};for(const i in t)(0,r.tR)(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function B(t,e,n){const{props:i,children:r,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||q(i,s,u):!!s);if(1024&l)return!0;if(16&l)return i?q(i,s,u):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==i[n]&&!M(u,n))return!0}}return!1}function q(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==t[o]&&!M(n,o))return!0}return!1}function H({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const V=t=>t.__isSuspense;function W(t,e){e&&e.pendingBranch?(0,r.kJ)(t)?e.effects.push(...t):e.effects.push(t):S(t)}function N(t,e){if(Sn){let n=Sn.provides;const i=Sn.parent&&Sn.parent.provides;i===n&&(n=Sn.provides=Object.create(i)),n[t]=e}else 0}function U(t,e,n=!1){const i=Sn||P;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&(0,r.mf)(e)?e.call(i.proxy):e}else 0}const Y={};function X(t,e,n){return $(t,e,n)}function $(t,e,{immediate:n,deep:a,flush:l,onTrack:u,onTrigger:c}=r.kT){const h=Sn;let f,d,p=!1,v=!1;if((0,i.dq)(t)?(f=()=>t.value,p=(0,i.yT)(t)):(0,i.PG)(t)?(f=()=>t,a=!0):(0,r.kJ)(t)?(v=!0,p=t.some((t=>(0,i.PG)(t)||(0,i.yT)(t))),f=()=>t.map((t=>(0,i.dq)(t)?t.value:(0,i.PG)(t)?K(t):(0,r.mf)(t)?o(t,h,2):void 0))):f=(0,r.mf)(t)?e?()=>o(t,h,2):()=>{if(!h||!h.isUnmounted)return d&&d(),s(t,h,3,[g])}:r.dG,e&&a){const t=f;f=()=>K(t())}let g=t=>{d=w.onStop=()=>{o(t,h,4)}};if(Fn)return g=r.dG,e?n&&s(e,h,3,[f(),v?[]:void 0,g]):f(),r.dG;let m=v?[]:Y;const y=()=>{if(w.active)if(e){const t=w.run();(a||p||(v?t.some(((t,e)=>(0,r.aU)(t,m[e]))):(0,r.aU)(t,m)))&&(d&&d(),s(e,h,3,[t,m===Y?void 0:m,g]),m=t)}else w.run()};let b;y.allowRecurse=!!e,"sync"===l?b=y:"post"===l?b=()=>Ee(y,h&&h.suspense):(y.pre=!0,h&&(y.id=h.uid),b=()=>_(y));const w=new i.qq(f,b);return e?n?y():m=w.run():"post"===l?Ee(w.run.bind(w),h&&h.suspense):w.run(),()=>{w.stop(),h&&h.scope&&(0,r.Od)(h.scope.effects,w)}}function G(t,e,n){const i=this.proxy,o=(0,r.HD)(t)?t.includes(".")?Z(i,t):()=>i[t]:t.bind(i,i);let s;(0,r.mf)(e)?s=e:(s=e.handler,n=e);const a=Sn;Tn(this);const l=$(o,s.bind(i),n);return a?Tn(a):kn(),l}function Z(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function K(t,e){if(!(0,r.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,i.dq)(t))K(t.value,e);else if((0,r.kJ)(t))for(let n=0;n<t.length;n++)K(t[n],e);else if((0,r.DM)(t)||(0,r._N)(t))t.forEach((t=>{K(t,e)}));else if((0,r.PO)(t))for(const n in t)K(t[n],e);return t}function J(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return St((()=>{t.isMounted=!0})),kt((()=>{t.isUnmounting=!0})),t}const Q=[Function,Array],tt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Q,onEnter:Q,onAfterEnter:Q,onEnterCancelled:Q,onBeforeLeave:Q,onLeave:Q,onAfterLeave:Q,onLeaveCancelled:Q,onBeforeAppear:Q,onAppear:Q,onAfterAppear:Q,onAppearCancelled:Q},setup(t,{slots:e}){const n=Cn(),r=J();let o;return()=>{const s=e.default&&at(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let t=!1;for(const e of s)if(e.type!==Ue){0,a=e,t=!0;break}}const l=(0,i.IU)(t),{mode:u}=l;if(r.isLeaving)return rt(a);const c=ot(a);if(!c)return rt(a);const h=it(c,l,r,n);st(c,h);const f=n.subTree,d=f&&ot(f);let p=!1;const{getTransitionKey:v}=c.type;if(v){const t=v();void 0===o?o=t:t!==o&&(o=t,p=!0)}if(d&&d.type!==Ue&&(!rn(c,d)||p)){const t=it(d,l,r,n);if(st(d,t),"out-in"===u)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,n.update()},rt(a);"in-out"===u&&c.type!==Ue&&(t.delayLeave=(t,e,n)=>{const i=nt(r,d);i[String(d.key)]=d,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},et=tt;function nt(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function it(t,e,n,i){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:v,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:b,onAppearCancelled:_}=e,w=String(t.key),x=nt(n,t),S=(t,e)=>{t&&s(t,i,9,e)},C=(t,e)=>{const n=e[1];S(t,e),(0,r.kJ)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},T={mode:a,persisted:l,beforeEnter(e){let i=u;if(!n.isMounted){if(!o)return;i=m||u}e._leaveCb&&e._leaveCb(!0);const r=x[w];r&&rn(t,r)&&r.el._leaveCb&&r.el._leaveCb(),S(i,[e])},enter(t){let e=c,i=h,r=f;if(!n.isMounted){if(!o)return;e=y||c,i=b||h,r=_||f}let s=!1;const a=t._enterCb=e=>{s||(s=!0,S(e?r:i,[t]),T.delayedLeave&&T.delayedLeave(),t._enterCb=void 0)};e?C(e,[t,a]):a()},leave(e,i){const r=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();S(d,[e]);let o=!1;const s=e._leaveCb=n=>{o||(o=!0,i(),S(n?g:v,[e]),e._leaveCb=void 0,x[r]===t&&delete x[r])};x[r]=t,p?C(p,[e,s]):s()},clone(t){return it(t,e,n,i)}};return T}function rt(t){if(ct(t))return t=fn(t),t.children=null,t}function ot(t){return ct(t)?t.children?t.children[0]:void 0:t}function st(t,e){6&t.shapeFlag&&t.component?st(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function at(t,e=!1,n){let i=[],r=0;for(let o=0;o<t.length;o++){let s=t[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===We?(128&s.patchFlag&&r++,i=i.concat(at(s.children,e,a))):(e||s.type!==Ue)&&i.push(null!=a?fn(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function lt(t){return(0,r.mf)(t)?{setup:t,name:t.name}:t}const ut=t=>!!t.type.__asyncLoader;const ct=t=>t.type.__isKeepAlive,ht={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Cn(),i=n.ctx;if(!i.renderer)return()=>{const t=e.default&&e.default();return t&&1===t.length?t[0]:t};const o=new Map,s=new Set;let a=null;const l=n.suspense,{renderer:{p:u,m:c,um:h,o:{createElement:f}}}=i,d=f("div");function p(t){yt(t),h(t,n,l,!0)}function v(t){o.forEach(((e,n)=>{const i=zn(e.type);!i||t&&t(i)||g(n)}))}function g(t){const e=o.get(t);a&&e.type===a.type?a&&yt(a):p(e),o.delete(t),s.delete(t)}i.activate=(t,e,n,i,o)=>{const s=t.component;c(t,e,n,0,l),u(s.vnode,t,e,n,s,l,i,t.slotScopeIds,o),Ee((()=>{s.isDeactivated=!1,s.a&&(0,r.ir)(s.a);const e=t.props&&t.props.onVnodeMounted;e&&bn(e,s.parent,t)}),l)},i.deactivate=t=>{const e=t.component;c(t,d,null,1,l),Ee((()=>{e.da&&(0,r.ir)(e.da);const n=t.props&&t.props.onVnodeUnmounted;n&&bn(n,e.parent,t),e.isDeactivated=!0}),l)},X((()=>[t.include,t.exclude]),(([t,e])=>{t&&v((e=>dt(t,e))),e&&v((t=>!dt(e,t)))}),{flush:"post",deep:!0});let m=null;const y=()=>{null!=m&&o.set(m,bt(n.subTree))};return St(y),Tt(y),kt((()=>{o.forEach((t=>{const{subTree:e,suspense:i}=n,r=bt(e);if(t.type!==r.type)p(t);else{yt(r);const t=r.component.da;t&&Ee(t,i)}}))})),()=>{if(m=null,!e.default)return null;const n=e.default(),i=n[0];if(n.length>1)return a=null,n;if(!nn(i)||!(4&i.shapeFlag)&&!(128&i.shapeFlag))return a=null,i;let r=bt(i);const l=r.type,u=zn(ut(r)?r.type.__asyncResolved||{}:l),{include:c,exclude:h,max:f}=t;if(c&&(!u||!dt(c,u))||h&&u&&dt(h,u))return a=r,i;const d=null==r.key?l:r.key,p=o.get(d);return r.el&&(r=fn(r),128&i.shapeFlag&&(i.ssContent=r)),m=d,p?(r.el=p.el,r.component=p.component,r.transition&&st(r,r.transition),r.shapeFlag|=512,s.delete(d),s.add(d)):(s.add(d),f&&s.size>parseInt(f,10)&&g(s.values().next().value)),r.shapeFlag|=256,a=r,V(i.type)?i:r}}},ft=ht;function dt(t,e){return(0,r.kJ)(t)?t.some((t=>dt(t,e))):(0,r.HD)(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function pt(t,e){gt(t,"a",e)}function vt(t,e){gt(t,"da",e)}function gt(t,e,n=Sn){const i=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(_t(e,i,n),n){let t=n.parent;while(t&&t.parent)ct(t.parent.vnode)&&mt(i,e,n,t),t=t.parent}}function mt(t,e,n,i){const o=_t(e,t,i,!0);Ot((()=>{(0,r.Od)(i[e],o)}),n)}function yt(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function bt(t){return 128&t.shapeFlag?t.ssContent:t}function _t(t,e,n=Sn,r=!1){if(n){const o=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.Jd)(),Tn(n);const o=s(e,n,t,r);return kn(),(0,i.lk)(),o});return r?o.unshift(a):o.push(a),a}}const wt=t=>(e,n=Sn)=>(!Fn||"sp"===t)&&_t(t,((...t)=>e(...t)),n),xt=wt("bm"),St=wt("m"),Ct=wt("bu"),Tt=wt("u"),kt=wt("bum"),Ot=wt("um"),At=wt("sp"),Et=wt("rtg"),Ft=wt("rtc");function Mt(t,e=Sn){_t("ec",t,e)}function Pt(t,e){const n=P;if(null===n)return t;const i=In(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[t,n,a,l=r.kT]=e[s];(0,r.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&K(n),o.push({dir:t,instance:i,value:n,oldValue:void 0,arg:a,modifiers:l})}return t}function jt(t,e,n,r){const o=t.dirs,a=e&&e.dirs;for(let l=0;l<o.length;l++){const u=o[l];a&&(u.oldValue=a[l].value);let c=u.dir[r];c&&((0,i.Jd)(),s(c,n,8,[t.el,u,t,e]),(0,i.lk)())}}const Rt="components",Lt="directives";function Dt(t,e){return qt(Rt,t,!0,e)||t}const It=Symbol();function zt(t){return(0,r.HD)(t)?qt(Rt,t,!1)||t:t||It}function Bt(t){return qt(Lt,t)}function qt(t,e,n=!0,i=!1){const o=P||Sn;if(o){const n=o.type;if(t===Rt){const t=zn(n,!1);if(t&&(t===e||t===(0,r._A)(e)||t===(0,r.kC)((0,r._A)(e))))return n}const s=Ht(o[t]||n[t],e)||Ht(o.appContext[t],e);return!s&&i?n:s}}function Ht(t,e){return t&&(t[e]||t[(0,r._A)(e)]||t[(0,r.kC)((0,r._A)(e))])}function Vt(t,e,n,i){let o;const s=n&&n[i];if((0,r.kJ)(t)||(0,r.HD)(t)){o=new Array(t.length);for(let n=0,i=t.length;n<i;n++)o[n]=e(t[n],n,void 0,s&&s[n])}else if("number"===typeof t){0,o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,s&&s[n])}else if((0,r.Kn)(t))if(t[Symbol.iterator])o=Array.from(t,((t,n)=>e(t,n,void 0,s&&s[n])));else{const n=Object.keys(t);o=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];o[i]=e(t[r],r,i,s&&s[i])}}else o=[];return n&&(n[i]=o),o}function Wt(t,e,n={},i,r){if(P.isCE||P.parent&&ut(P.parent)&&P.parent.isCE)return un("slot","default"===e?null:{name:e},i&&i());let o=t[e];o&&o._c&&(o._d=!1),Ge();const s=o&&Nt(o(n)),a=en(We,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&1===t._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Nt(t){return t.some((t=>!nn(t)||t.type!==Ue&&!(t.type===We&&!Nt(t.children))))?t:null}const Ut=t=>t?On(t)?In(t)||t.proxy:Ut(t.parent):null,Yt=(0,r.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ut(t.parent),$root:t=>Ut(t.root),$emit:t=>t.emit,$options:t=>Qt(t),$forceUpdate:t=>t.f||(t.f=()=>_(t.update)),$nextTick:t=>t.n||(t.n=y.bind(t.proxy)),$watch:t=>G.bind(t)}),Xt={get({_:t},e){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:u,appContext:c}=t;let h;if("$"!==e[0]){const i=l[e];if(void 0!==i)switch(i){case 1:return o[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(o!==r.kT&&(0,r.RI)(o,e))return l[e]=1,o[e];if(s!==r.kT&&(0,r.RI)(s,e))return l[e]=2,s[e];if((h=t.propsOptions[0])&&(0,r.RI)(h,e))return l[e]=3,a[e];if(n!==r.kT&&(0,r.RI)(n,e))return l[e]=4,n[e];$t&&(l[e]=0)}}const f=Yt[e];let d,p;return f?("$attrs"===e&&(0,i.j)(t,"get",e),f(t)):(d=u.__cssModules)&&(d=d[e])?d:n!==r.kT&&(0,r.RI)(n,e)?(l[e]=4,n[e]):(p=c.config.globalProperties,(0,r.RI)(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:i,setupState:o,ctx:s}=t;return o!==r.kT&&(0,r.RI)(o,e)?(o[e]=n,!0):i!==r.kT&&(0,r.RI)(i,e)?(i[e]=n,!0):!(0,r.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||t!==r.kT&&(0,r.RI)(t,a)||e!==r.kT&&(0,r.RI)(e,a)||(l=s[0])&&(0,r.RI)(l,a)||(0,r.RI)(i,a)||(0,r.RI)(Yt,a)||(0,r.RI)(o.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,r.RI)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let $t=!0;function Gt(t){const e=Qt(t),n=t.proxy,o=t.ctx;$t=!1,e.beforeCreate&&Kt(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:u,provide:c,inject:h,created:f,beforeMount:d,mounted:p,beforeUpdate:v,updated:g,activated:m,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:x,render:S,renderTracked:C,renderTriggered:T,errorCaptured:k,serverPrefetch:O,expose:A,inheritAttrs:E,components:F,directives:M,filters:P}=e,j=null;if(h&&Zt(h,o,j,t.appContext.config.unwrapInjectedRef),l)for(const i in l){const t=l[i];(0,r.mf)(t)&&(o[i]=t.bind(n))}if(s){0;const e=s.call(n,n);0,(0,r.Kn)(e)&&(t.data=(0,i.qj)(e))}if($t=!0,a)for(const i in a){const t=a[i],e=(0,r.mf)(t)?t.bind(n,n):(0,r.mf)(t.get)?t.get.bind(n,n):r.dG;0;const s=!(0,r.mf)(t)&&(0,r.mf)(t.set)?t.set.bind(n):r.dG,l=qn({get:e,set:s});Object.defineProperty(o,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(u)for(const i in u)Jt(u[i],o,n,i);if(c){const t=(0,r.mf)(c)?c.call(n):c;Reflect.ownKeys(t).forEach((e=>{N(e,t[e])}))}function R(t,e){(0,r.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(f&&Kt(f,t,"c"),R(xt,d),R(St,p),R(Ct,v),R(Tt,g),R(pt,m),R(vt,y),R(Mt,k),R(Ft,C),R(Et,T),R(kt,_),R(Ot,x),R(At,O),(0,r.kJ)(A))if(A.length){const e=t.exposed||(t.exposed={});A.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===r.dG&&(t.render=S),null!=E&&(t.inheritAttrs=E),F&&(t.components=F),M&&(t.directives=M)}function Zt(t,e,n=r.dG,o=!1){(0,r.kJ)(t)&&(t=re(t));for(const s in t){const n=t[s];let a;a=(0,r.Kn)(n)?"default"in n?U(n.from||s,n.default,!0):U(n.from||s):U(n),(0,i.dq)(a)&&o?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[s]=a}}function Kt(t,e,n){s((0,r.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Jt(t,e,n,i){const o=i.includes(".")?Z(n,i):()=>n[i];if((0,r.HD)(t)){const n=e[t];(0,r.mf)(n)&&X(o,n)}else if((0,r.mf)(t))X(o,t.bind(n));else if((0,r.Kn)(t))if((0,r.kJ)(t))t.forEach((t=>Jt(t,e,n,i)));else{const i=(0,r.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,r.mf)(i)&&X(o,i,t)}else 0}function Qt(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,l=s.get(e);let u;return l?u=l:o.length||n||i?(u={},o.length&&o.forEach((t=>te(u,t,a,!0))),te(u,e,a)):u=e,(0,r.Kn)(e)&&s.set(e,u),u}function te(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&te(t,o,n,!0),r&&r.forEach((e=>te(t,e,n,!0)));for(const s in e)if(i&&"expose"===s);else{const i=ee[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const ee={data:ne,props:se,emits:se,methods:se,computed:se,beforeCreate:oe,created:oe,beforeMount:oe,mounted:oe,beforeUpdate:oe,updated:oe,beforeDestroy:oe,beforeUnmount:oe,destroyed:oe,unmounted:oe,activated:oe,deactivated:oe,errorCaptured:oe,serverPrefetch:oe,components:se,directives:se,watch:ae,provide:ne,inject:ie};function ne(t,e){return e?t?function(){return(0,r.l7)((0,r.mf)(t)?t.call(this,this):t,(0,r.mf)(e)?e.call(this,this):e)}:e:t}function ie(t,e){return se(re(t),re(e))}function re(t){if((0,r.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function oe(t,e){return t?[...new Set([].concat(t,e))]:e}function se(t,e){return t?(0,r.l7)((0,r.l7)(Object.create(null),t),e):e}function ae(t,e){if(!t)return e;if(!e)return t;const n=(0,r.l7)(Object.create(null),t);for(const i in e)n[i]=oe(t[i],e[i]);return n}function le(t,e,n,o=!1){const s={},a={};(0,r.Nj)(a,on,1),t.propsDefaults=Object.create(null),ce(t,e,s,a);for(const i in t.propsOptions[0])i in s||(s[i]=void 0);n?t.props=o?s:(0,i.Um)(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function ue(t,e,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,u=(0,i.IU)(s),[c]=t.propsOptions;let h=!1;if(!(o||l>0)||16&l){let i;ce(t,e,s,a)&&(h=!0);for(const o in u)e&&((0,r.RI)(e,o)||(i=(0,r.rs)(o))!==o&&(0,r.RI)(e,i))||(c?!n||void 0===n[o]&&void 0===n[i]||(s[o]=he(c,u,o,void 0,t,!0)):delete s[o]);if(a!==u)for(const t in a)e&&(0,r.RI)(e,t)||(delete a[t],h=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];if(M(t.emitsOptions,o))continue;const l=e[o];if(c)if((0,r.RI)(a,o))l!==a[o]&&(a[o]=l,h=!0);else{const e=(0,r._A)(o);s[e]=he(c,u,e,l,t,!1)}else l!==a[o]&&(a[o]=l,h=!0)}}h&&(0,i.X$)(t,"set","$attrs")}function ce(t,e,n,o){const[s,a]=t.propsOptions;let l,u=!1;if(e)for(let i in e){if((0,r.Gg)(i))continue;const c=e[i];let h;s&&(0,r.RI)(s,h=(0,r._A)(i))?a&&a.includes(h)?(l||(l={}))[h]=c:n[h]=c:M(t.emitsOptions,i)||i in o&&c===o[i]||(o[i]=c,u=!0)}if(a){const e=(0,i.IU)(n),o=l||r.kT;for(let i=0;i<a.length;i++){const l=a[i];n[l]=he(s,e,l,o[l],t,!(0,r.RI)(o,l))}}return u}function he(t,e,n,i,o,s){const a=t[n];if(null!=a){const t=(0,r.RI)(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&(0,r.mf)(t)){const{propsDefaults:r}=o;n in r?i=r[n]:(Tn(o),i=r[n]=t.call(null,e),kn())}else i=t}a[0]&&(s&&!t?i=!1:!a[1]||""!==i&&i!==(0,r.rs)(n)||(i=!0))}return i}function fe(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const s=t.props,a={},l=[];let u=!1;if(!(0,r.mf)(t)){const i=t=>{u=!0;const[n,i]=fe(t,e,!0);(0,r.l7)(a,n),i&&l.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!s&&!u)return(0,r.Kn)(t)&&i.set(t,r.Z6),r.Z6;if((0,r.kJ)(s))for(let h=0;h<s.length;h++){0;const t=(0,r._A)(s[h]);de(t)&&(a[t]=r.kT)}else if(s){0;for(const t in s){const e=(0,r._A)(t);if(de(e)){const n=s[t],i=a[e]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:n;if(i){const t=ge(Boolean,i.type),n=ge(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||(0,r.RI)(i,"default"))&&l.push(e)}}}}const c=[a,l];return(0,r.Kn)(t)&&i.set(t,c),c}function de(t){return"$"!==t[0]}function pe(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function ve(t,e){return pe(t)===pe(e)}function ge(t,e){return(0,r.kJ)(e)?e.findIndex((e=>ve(e,t))):(0,r.mf)(e)&&ve(e,t)?0:-1}const me=t=>"_"===t[0]||"$stable"===t,ye=t=>(0,r.kJ)(t)?t.map(vn):[vn(t)],be=(t,e,n)=>{if(e._n)return e;const i=L(((...t)=>ye(e(...t))),n);return i._c=!1,i},_e=(t,e,n)=>{const i=t._ctx;for(const o in t){if(me(o))continue;const n=t[o];if((0,r.mf)(n))e[o]=be(o,n,i);else if(null!=n){0;const t=ye(n);e[o]=()=>t}}},we=(t,e)=>{const n=ye(e);t.slots.default=()=>n},xe=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,i.IU)(e),(0,r.Nj)(e,"_",n)):_e(e,t.slots={})}else t.slots={},e&&we(t,e);(0,r.Nj)(t.slots,on,1)},Se=(t,e,n)=>{const{vnode:i,slots:o}=t;let s=!0,a=r.kT;if(32&i.shapeFlag){const t=e._;t?n&&1===t?s=!1:((0,r.l7)(o,e),n||1!==t||delete o._):(s=!e.$stable,_e(e,o)),a=e}else e&&(we(t,e),a={default:1});if(s)for(const r in o)me(r)||r in a||delete o[r]};function Ce(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Te=0;function ke(t,e){return function(n,i=null){(0,r.mf)(n)||(n=Object.assign({},n)),null==i||(0,r.Kn)(i)||(i=null);const o=Ce(),s=new Set;let a=!1;const l=o.app={_uid:Te++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Vn,get config(){return o.config},set config(t){0},use(t,...e){return s.has(t)||(t&&(0,r.mf)(t.install)?(s.add(t),t.install(l,...e)):(0,r.mf)(t)&&(s.add(t),t(l,...e))),l},mixin(t){return o.mixins.includes(t)||o.mixins.push(t),l},component(t,e){return e?(o.components[t]=e,l):o.components[t]},directive(t,e){return e?(o.directives[t]=e,l):o.directives[t]},mount(r,s,u){if(!a){0;const c=un(n,i);return c.appContext=o,s&&e?e(c,r):t(c,r,u),a=!0,l._container=r,r.__vue_app__=l,In(c.component)||c.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return o.provides[t]=e,l}};return l}}function Oe(t,e,n,s,a=!1){if((0,r.kJ)(t))return void t.forEach(((t,i)=>Oe(t,e&&((0,r.kJ)(e)?e[i]:e),n,s,a)));if(ut(s)&&!a)return;const l=4&s.shapeFlag?In(s.component)||s.component.proxy:s.el,u=a?null:l,{i:c,r:h}=t;const f=e&&e.r,d=c.refs===r.kT?c.refs={}:c.refs,p=c.setupState;if(null!=f&&f!==h&&((0,r.HD)(f)?(d[f]=null,(0,r.RI)(p,f)&&(p[f]=null)):(0,i.dq)(f)&&(f.value=null)),(0,r.mf)(h))o(h,c,12,[u,d]);else{const e=(0,r.HD)(h),o=(0,i.dq)(h);if(e||o){const i=()=>{if(t.f){const n=e?(0,r.RI)(p,h)?p[h]:d[h]:h.value;a?(0,r.kJ)(n)&&(0,r.Od)(n,l):(0,r.kJ)(n)?n.includes(l)||n.push(l):e?(d[h]=[l],(0,r.RI)(p,h)&&(p[h]=d[h])):(h.value=[l],t.k&&(d[t.k]=h.value))}else e?(d[h]=u,(0,r.RI)(p,h)&&(p[h]=u)):o&&(h.value=u,t.k&&(d[t.k]=u))};u?(i.id=-1,Ee(i,n)):i()}else 0}}function Ae(){}const Ee=W;function Fe(t){return Me(t)}function Me(t,e){Ae();const n=(0,r.E9)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:u,createComment:c,setText:h,setElementText:f,parentNode:d,nextSibling:p,setScopeId:v=r.dG,insertStaticContent:g}=t,m=(t,e,n,i=null,r=null,o=null,s=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!rn(t,e)&&(i=J(t),X(t,r,o,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:u,ref:c,shapeFlag:h}=e;switch(u){case Ne:y(t,e,n,i);break;case Ue:b(t,e,n,i);break;case Ye:null==t&&w(e,n,i,s);break;case We:R(t,e,n,i,r,o,s,a,l);break;default:1&h?O(t,e,n,i,r,o,s,a,l):6&h?L(t,e,n,i,r,o,s,a,l):(64&h||128&h)&&u.process(t,e,n,i,r,o,s,a,l,tt)}null!=c&&r&&Oe(c,t&&t.ref,o,e||t,!e)},y=(t,e,n,i)=>{if(null==t)o(e.el=u(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},b=(t,e,n,i)=>{null==t?o(e.el=c(e.children||""),n,i):e.el=t.el},w=(t,e,n,i)=>{[t.el,t.anchor]=g(t.children,e,n,i,t.el,t.anchor)},S=({el:t,anchor:e},n,i)=>{let r;while(t&&t!==e)r=p(t),o(t,n,i),t=r;o(e,n,i)},k=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=p(t),s(t),t=n;s(e)},O=(t,e,n,i,r,o,s,a,l)=>{s=s||"svg"===e.type,null==t?A(e,n,i,r,o,s,a,l):M(t,e,r,o,s,a,l)},A=(t,e,n,i,s,u,c,h)=>{let d,p;const{type:v,props:g,shapeFlag:m,transition:y,dirs:b}=t;if(d=t.el=l(t.type,u,g&&g.is,g),8&m?f(d,t.children):16&m&&F(t.children,d,null,i,s,u&&"foreignObject"!==v,c,h),b&&jt(t,null,i,"created"),g){for(const e in g)"value"===e||(0,r.Gg)(e)||a(d,e,null,g[e],u,t.children,i,s,K);"value"in g&&a(d,"value",null,g.value),(p=g.onVnodeBeforeMount)&&bn(p,i,t)}E(d,t,t.scopeId,c,i),b&&jt(t,null,i,"beforeMount");const _=(!s||s&&!s.pendingBranch)&&y&&!y.persisted;_&&y.beforeEnter(d),o(d,e,n),((p=g&&g.onVnodeMounted)||_||b)&&Ee((()=>{p&&bn(p,i,t),_&&y.enter(d),b&&jt(t,null,i,"mounted")}),s)},E=(t,e,n,i,r)=>{if(n&&v(t,n),i)for(let o=0;o<i.length;o++)v(t,i[o]);if(r){let n=r.subTree;if(e===n){const e=r.vnode;E(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},F=(t,e,n,i,r,o,s,a,l=0)=>{for(let u=l;u<t.length;u++){const l=t[u]=a?gn(t[u]):vn(t[u]);m(null,l,e,n,i,r,o,s,a)}},M=(t,e,n,i,o,s,l)=>{const u=e.el=t.el;let{patchFlag:c,dynamicChildren:h,dirs:d}=e;c|=16&t.patchFlag;const p=t.props||r.kT,v=e.props||r.kT;let g;n&&Pe(n,!1),(g=v.onVnodeBeforeUpdate)&&bn(g,n,e,t),d&&jt(e,t,n,"beforeUpdate"),n&&Pe(n,!0);const m=o&&"foreignObject"!==e.type;if(h?P(t.dynamicChildren,h,u,n,i,m,s):l||W(t,e,u,null,n,i,m,s,!1),c>0){if(16&c)j(u,e,p,v,n,i,o);else if(2&c&&p.class!==v.class&&a(u,"class",null,v.class,o),4&c&&a(u,"style",p.style,v.style,o),8&c){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const s=r[e],l=p[s],c=v[s];c===l&&"value"!==s||a(u,s,l,c,o,t.children,n,i,K)}}1&c&&t.children!==e.children&&f(u,e.children)}else l||null!=h||j(u,e,p,v,n,i,o);((g=v.onVnodeUpdated)||d)&&Ee((()=>{g&&bn(g,n,e,t),d&&jt(e,t,n,"updated")}),i)},P=(t,e,n,i,r,o,s)=>{for(let a=0;a<e.length;a++){const l=t[a],u=e[a],c=l.el&&(l.type===We||!rn(l,u)||70&l.shapeFlag)?d(l.el):n;m(l,u,c,null,i,r,o,s,!0)}},j=(t,e,n,i,o,s,l)=>{if(n!==i){if(n!==r.kT)for(const u in n)(0,r.Gg)(u)||u in i||a(t,u,n[u],null,l,e.children,o,s,K);for(const u in i){if((0,r.Gg)(u))continue;const c=i[u],h=n[u];c!==h&&"value"!==u&&a(t,u,h,c,l,e.children,o,s,K)}"value"in i&&a(t,"value",n.value,i.value)}},R=(t,e,n,i,r,s,a,l,c)=>{const h=e.el=t?t.el:u(""),f=e.anchor=t?t.anchor:u("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:v}=e;v&&(l=l?l.concat(v):v),null==t?(o(h,n,i),o(f,n,i),F(e.children,n,f,r,s,a,l,c)):d>0&&64&d&&p&&t.dynamicChildren?(P(t.dynamicChildren,p,n,r,s,a,l),(null!=e.key||r&&e===r.subTree)&&je(t,e,!0)):W(t,e,n,f,r,s,a,l,c)},L=(t,e,n,i,r,o,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,n,i,s,l):I(e,n,i,r,o,s,l):z(t,e,l)},I=(t,e,n,i,r,o,s)=>{const a=t.component=xn(t,i,r);if(ct(t)&&(a.ctx.renderer=tt),Mn(a),a.asyncDep){if(r&&r.registerDep(a,q),!t.el){const t=a.subTree=un(Ue);b(null,t,e,n)}}else q(a,t,e,n,r,o,s)},z=(t,e,n)=>{const i=e.component=t.component;if(B(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void V(i,e,n);i.next=e,x(i.update),i.update()}else e.el=t.el,i.vnode=e},q=(t,e,n,o,s,a,l)=>{const u=()=>{if(t.isMounted){let e,{next:n,bu:i,u:o,parent:u,vnode:c}=t,h=n;0,Pe(t,!1),n?(n.el=c.el,V(t,n,l)):n=c,i&&(0,r.ir)(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&bn(e,u,n,c),Pe(t,!0);const f=D(t);0;const p=t.subTree;t.subTree=f,m(p,f,d(p.el),J(p),t,s,a),n.el=f.el,null===h&&H(t,f.el),o&&Ee(o,s),(e=n.props&&n.props.onVnodeUpdated)&&Ee((()=>bn(e,u,n,c)),s)}else{let i;const{el:l,props:u}=e,{bm:c,m:h,parent:f}=t,d=ut(e);if(Pe(t,!1),c&&(0,r.ir)(c),!d&&(i=u&&u.onVnodeBeforeMount)&&bn(i,f,e),Pe(t,!0),l&&nt){const n=()=>{t.subTree=D(t),nt(l,t.subTree,t,s,null)};d?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const i=t.subTree=D(t);0,m(null,i,n,o,t,s,a),e.el=i.el}if(h&&Ee(h,s),!d&&(i=u&&u.onVnodeMounted)){const t=e;Ee((()=>bn(i,f,t)),s)}(256&e.shapeFlag||f&&ut(f.vnode)&&256&f.vnode.shapeFlag)&&t.a&&Ee(t.a,s),t.isMounted=!0,e=n=o=null}},c=t.effect=new i.qq(u,(()=>_(h)),t.scope),h=t.update=()=>c.run();h.id=t.uid,Pe(t,!0),h()},V=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,ue(t,e.props,r,n),Se(t,e.children,n),(0,i.Jd)(),C(),(0,i.lk)()},W=(t,e,n,i,r,o,s,a,l=!1)=>{const u=t&&t.children,c=t?t.shapeFlag:0,h=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void U(u,h,n,i,r,o,s,a,l);if(256&d)return void N(u,h,n,i,r,o,s,a,l)}8&p?(16&c&&K(u,r,o),h!==u&&f(n,h)):16&c?16&p?U(u,h,n,i,r,o,s,a,l):K(u,r,o,!0):(8&c&&f(n,""),16&p&&F(h,n,i,r,o,s,a,l))},N=(t,e,n,i,o,s,a,l,u)=>{t=t||r.Z6,e=e||r.Z6;const c=t.length,h=e.length,f=Math.min(c,h);let d;for(d=0;d<f;d++){const i=e[d]=u?gn(e[d]):vn(e[d]);m(t[d],i,n,null,o,s,a,l,u)}c>h?K(t,o,s,!0,!1,f):F(e,n,i,o,s,a,l,u,f)},U=(t,e,n,i,o,s,a,l,u)=>{let c=0;const h=e.length;let f=t.length-1,d=h-1;while(c<=f&&c<=d){const i=t[c],r=e[c]=u?gn(e[c]):vn(e[c]);if(!rn(i,r))break;m(i,r,n,null,o,s,a,l,u),c++}while(c<=f&&c<=d){const i=t[f],r=e[d]=u?gn(e[d]):vn(e[d]);if(!rn(i,r))break;m(i,r,n,null,o,s,a,l,u),f--,d--}if(c>f){if(c<=d){const t=d+1,r=t<h?e[t].el:i;while(c<=d)m(null,e[c]=u?gn(e[c]):vn(e[c]),n,r,o,s,a,l,u),c++}}else if(c>d)while(c<=f)X(t[c],o,s,!0),c++;else{const p=c,v=c,g=new Map;for(c=v;c<=d;c++){const t=e[c]=u?gn(e[c]):vn(e[c]);null!=t.key&&g.set(t.key,c)}let y,b=0;const _=d-v+1;let w=!1,x=0;const S=new Array(_);for(c=0;c<_;c++)S[c]=0;for(c=p;c<=f;c++){const i=t[c];if(b>=_){X(i,o,s,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(y=v;y<=d;y++)if(0===S[y-v]&&rn(i,e[y])){r=y;break}void 0===r?X(i,o,s,!0):(S[r-v]=c+1,r>=x?x=r:w=!0,m(i,e[r],n,null,o,s,a,l,u),b++)}const C=w?Re(S):r.Z6;for(y=C.length-1,c=_-1;c>=0;c--){const t=v+c,r=e[t],f=t+1<h?e[t+1].el:i;0===S[c]?m(null,r,n,f,o,s,a,l,u):w&&(y<0||c!==C[y]?Y(r,n,f,2):y--)}}},Y=(t,e,n,i,r=null)=>{const{el:s,type:a,transition:l,children:u,shapeFlag:c}=t;if(6&c)return void Y(t.component.subTree,e,n,i);if(128&c)return void t.suspense.move(e,n,i);if(64&c)return void a.move(t,e,n,tt);if(a===We){o(s,e,n);for(let t=0;t<u.length;t++)Y(u[t],e,n,i);return void o(t.anchor,e,n)}if(a===Ye)return void S(t,e,n);const h=2!==i&&1&c&&l;if(h)if(0===i)l.beforeEnter(s),o(s,e,n),Ee((()=>l.enter(s)),r);else{const{leave:t,delayLeave:i,afterLeave:r}=l,a=()=>o(s,e,n),u=()=>{t(s,(()=>{a(),r&&r()}))};i?i(s,a,u):u()}else o(s,e,n)},X=(t,e,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:h,dirs:f}=t;if(null!=a&&Oe(a,null,n,t,!0),256&c)return void e.ctx.deactivate(t);const d=1&c&&f,p=!ut(t);let v;if(p&&(v=s&&s.onVnodeBeforeUnmount)&&bn(v,e,t),6&c)Z(t.component,n,i);else{if(128&c)return void t.suspense.unmount(n,i);d&&jt(t,null,e,"beforeUnmount"),64&c?t.type.remove(t,e,n,r,tt,i):u&&(o!==We||h>0&&64&h)?K(u,e,n,!1,!0):(o===We&&384&h||!r&&16&c)&&K(l,e,n),i&&$(t)}(p&&(v=s&&s.onVnodeUnmounted)||d)&&Ee((()=>{v&&bn(v,e,t),d&&jt(t,null,e,"unmounted")}),n)},$=t=>{const{type:e,el:n,anchor:i,transition:r}=t;if(e===We)return void G(n,i);if(e===Ye)return void k(t);const o=()=>{s(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:i}=r,s=()=>e(n,o);i?i(t.el,o,s):s()}else o()},G=(t,e)=>{let n;while(t!==e)n=p(t),s(t),t=n;s(e)},Z=(t,e,n)=>{const{bum:i,scope:o,update:s,subTree:a,um:l}=t;i&&(0,r.ir)(i),o.stop(),s&&(s.active=!1,X(a,t,e,n)),l&&Ee(l,e),Ee((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},K=(t,e,n,i=!1,r=!1,o=0)=>{for(let s=o;s<t.length;s++)X(t[s],e,n,i,r)},J=t=>6&t.shapeFlag?J(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el),Q=(t,e,n)=>{null==t?e._vnode&&X(e._vnode,null,null,!0):m(e._vnode||null,t,e,null,null,null,n),C(),T(),e._vnode=t},tt={p:m,um:X,m:Y,r:$,mt:I,mc:F,pc:W,pbc:P,n:J,o:t};let et,nt;return e&&([et,nt]=e(tt)),{render:Q,hydrate:et,createApp:ke(Q,et)}}function Pe({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function je(t,e,n=!1){const i=t.children,o=e.children;if((0,r.kJ)(i)&&(0,r.kJ)(o))for(let r=0;r<i.length;r++){const t=i[r];let e=o[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[r]=gn(o[r]),e.el=t.el),n||je(t,e))}}function Re(t){const e=t.slice(),n=[0];let i,r,o,s,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(r=n[n.length-1],t[r]<l){e[i]=r,n.push(i);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,t[n[a]]<l?o=a+1:s=a;l<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=e[s];return n}const Le=t=>t.__isTeleport,De=t=>t&&(t.disabled||""===t.disabled),Ie=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,ze=(t,e)=>{const n=t&&t.to;if((0,r.HD)(n)){if(e){const t=e(n);return t}return null}return n},Be={__isTeleport:!0,process(t,e,n,i,r,o,s,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:v,createComment:g}}=u,m=De(e.props);let{shapeFlag:y,children:b,dynamicChildren:_}=e;if(null==t){const t=e.el=v(""),u=e.anchor=v("");d(t,n,i),d(u,n,i);const h=e.target=ze(e.props,p),f=e.targetAnchor=v("");h&&(d(f,h),s=s||Ie(h));const g=(t,e)=>{16&y&&c(b,t,e,r,o,s,a,l)};m?g(n,u):h&&g(h,f)}else{e.el=t.el;const i=e.anchor=t.anchor,c=e.target=t.target,d=e.targetAnchor=t.targetAnchor,v=De(t.props),g=v?n:c,y=v?i:d;if(s=s||Ie(c),_?(f(t.dynamicChildren,_,g,r,o,s,a),je(t,e,!0)):l||h(t,e,g,y,r,o,s,a,!1),m)v||qe(e,n,i,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=ze(e.props,p);t&&qe(e,t,null,u,0)}else v&&qe(e,c,d,u,1)}},remove(t,e,n,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:h,props:f}=t;if(h&&o(c),(s||!De(f))&&(o(u),16&a))for(let d=0;d<l.length;d++){const t=l[d];r(t,e,n,!0,!!t.dynamicChildren)}},move:qe,hydrate:He};function qe(t,e,n,{o:{insert:i},m:r},o=2){0===o&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=t,h=2===o;if(h&&i(s,e,n),(!h||De(c))&&16&l)for(let f=0;f<u.length;f++)r(u[f],e,n,2);h&&i(a,e,n)}function He(t,e,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=e.target=ze(e.props,l);if(c){const l=c._lpa||c.firstChild;if(16&e.shapeFlag)if(De(e.props))e.anchor=u(s(t),e,a(t),n,i,r,o),e.targetAnchor=l;else{e.anchor=s(t);let a=l;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,c._lpa=e.targetAnchor&&s(e.targetAnchor);break}u(l,e,c,n,i,r,o)}}return e.anchor&&s(e.anchor)}const Ve=Be,We=Symbol(void 0),Ne=Symbol(void 0),Ue=Symbol(void 0),Ye=Symbol(void 0),Xe=[];let $e=null;function Ge(t=!1){Xe.push($e=t?null:[])}function Ze(){Xe.pop(),$e=Xe[Xe.length-1]||null}let Ke=1;function Je(t){Ke+=t}function Qe(t){return t.dynamicChildren=Ke>0?$e||r.Z6:null,Ze(),Ke>0&&$e&&$e.push(t),t}function tn(t,e,n,i,r,o){return Qe(ln(t,e,n,i,r,o,!0))}function en(t,e,n,i,r){return Qe(un(t,e,n,i,r,!0))}function nn(t){return!!t&&!0===t.__v_isVNode}function rn(t,e){return t.type===e.type&&t.key===e.key}const on="__vInternal",sn=({key:t})=>null!=t?t:null,an=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,r.HD)(t)||(0,i.dq)(t)||(0,r.mf)(t)?{i:P,r:t,k:e,f:!!n}:t:null;function ln(t,e=null,n=null,i=0,o=null,s=(t===We?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sn(e),ref:e&&an(e),scopeId:j,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(mn(u,n),128&s&&t.normalize(u)):n&&(u.shapeFlag|=(0,r.HD)(n)?8:16),Ke>0&&!a&&$e&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&$e.push(u),u}const un=cn;function cn(t,e=null,n=null,o=0,s=null,a=!1){if(t&&t!==It||(t=Ue),nn(t)){const i=fn(t,e,!0);return n&&mn(i,n),Ke>0&&!a&&$e&&(6&i.shapeFlag?$e[$e.indexOf(t)]=i:$e.push(i)),i.patchFlag|=-2,i}if(Bn(t)&&(t=t.__vccOpts),e){e=hn(e);let{class:t,style:n}=e;t&&!(0,r.HD)(t)&&(e.class=(0,r.C_)(t)),(0,r.Kn)(n)&&((0,i.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),e.style=(0,r.j5)(n))}const l=(0,r.HD)(t)?1:V(t)?128:Le(t)?64:(0,r.Kn)(t)?4:(0,r.mf)(t)?2:0;return ln(t,e,n,o,s,l,a,!0)}function hn(t){return t?(0,i.X3)(t)||on in t?(0,r.l7)({},t):t:null}function fn(t,e,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=t,l=e?yn(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&sn(l),ref:e&&e.ref?n&&o?(0,r.kJ)(o)?o.concat(an(e)):[o,an(e)]:an(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&fn(t.ssContent),ssFallback:t.ssFallback&&fn(t.ssFallback),el:t.el,anchor:t.anchor};return u}function dn(t=" ",e=0){return un(Ne,null,t,e)}function pn(t="",e=!1){return e?(Ge(),en(Ue,null,t)):un(Ue,null,t)}function vn(t){return null==t||"boolean"===typeof t?un(Ue):(0,r.kJ)(t)?un(We,null,t.slice()):"object"===typeof t?gn(t):un(Ne,null,String(t))}function gn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:fn(t)}function mn(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if((0,r.kJ)(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),mn(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||on in e?3===i&&P&&(1===P.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=P}}else(0,r.mf)(e)?(e={default:e,_ctx:P},n=32):(e=String(e),64&i?(n=16,e=[dn(e)]):n=8);t.children=e,t.shapeFlag|=n}function yn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=(0,r.C_)([e.class,i.class]));else if("style"===t)e.style=(0,r.j5)([e.style,i.style]);else if((0,r.F7)(t)){const n=e[t],o=i[t];!o||n===o||(0,r.kJ)(n)&&n.includes(o)||(e[t]=n?[].concat(n,o):o)}else""!==t&&(e[t]=i[t])}return e}function bn(t,e,n,i=null){s(t,e,7,[n,i])}const _n=Ce();let wn=0;function xn(t,e,n){const o=t.type,s=(e?e.appContext:t.appContext)||_n,a={uid:wn++,vnode:t,type:o,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fe(o,s),emitsOptions:F(o,s),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:o.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=E.bind(null,a),t.ce&&t.ce(a),a}let Sn=null;const Cn=()=>Sn||P,Tn=t=>{Sn=t,t.scope.on()},kn=()=>{Sn&&Sn.scope.off(),Sn=null};function On(t){return 4&t.vnode.shapeFlag}let An,En,Fn=!1;function Mn(t,e=!1){Fn=e;const{props:n,children:i}=t.vnode,r=On(t);le(t,n,r,e),xe(t,i);const o=r?Pn(t,e):void 0;return Fn=!1,o}function Pn(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,i.Xl)(new Proxy(t.ctx,Xt));const{setup:s}=n;if(s){const n=t.setupContext=s.length>1?Dn(t):null;Tn(t),(0,i.Jd)();const l=o(s,t,0,[t.props,n]);if((0,i.lk)(),kn(),(0,r.tI)(l)){if(l.then(kn,kn),e)return l.then((n=>{jn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=l}else jn(t,l,e)}else Rn(t,e)}function jn(t,e,n){(0,r.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,r.Kn)(e)&&(t.setupState=(0,i.WL)(e)),Rn(t,n)}function Rn(t,e,n){const o=t.type;if(!t.render){if(!e&&An&&!o.render){const e=o.template||Qt(t).template;if(e){0;const{isCustomElement:n,compilerOptions:i}=t.appContext.config,{delimiters:s,compilerOptions:a}=o,l=(0,r.l7)((0,r.l7)({isCustomElement:n,delimiters:s},i),a);o.render=An(e,l)}}t.render=o.render||r.dG,En&&En(t)}Tn(t),(0,i.Jd)(),Gt(t),(0,i.lk)(),kn()}function Ln(t){return new Proxy(t.attrs,{get(e,n){return(0,i.j)(t,"get","$attrs"),e[n]}})}function Dn(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=Ln(t))},slots:t.slots,emit:t.emit,expose:e}}function In(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(t.exposed)),{get(e,n){return n in e?e[n]:n in Yt?Yt[n](t):void 0}}))}function zn(t,e=!0){return(0,r.mf)(t)?t.displayName||t.name:t.name||e&&t.__name}function Bn(t){return(0,r.mf)(t)&&"__vccOpts"in t}const qn=(t,e)=>(0,i.Fl)(t,e,Fn);function Hn(t,e,n){const i=arguments.length;return 2===i?(0,r.Kn)(e)&&!(0,r.kJ)(e)?nn(e)?un(t,null,[e]):un(t,e):un(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&nn(n)&&(n=[n]),un(t,e,n))}Symbol("");const Vn="3.2.41"},5102:function(t,e,n){"use strict";n.d(e,{F8:function(){return Q},iM:function(){return J},ri:function(){return rt},uT:function(){return R}});var i=n(3201),r=n(9269);n(6237);const o="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,a=s&&s.createElement("template"),l={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?s.createElementNS(o,t):s.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:t=>s.createTextNode(t),createComment:t=>s.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>s.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,o){const s=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),n),r===o||!(r=r.nextSibling))break}else{a.innerHTML=i?`<svg>${t}</svg>`:t;const r=a.content;if(i){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function u(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function c(t,e,n){const r=t.style,o=(0,i.HD)(n);if(n&&!o){for(const t in n)f(r,t,n[t]);if(e&&!(0,i.HD)(e))for(const t in e)null==n[t]&&f(r,t,"")}else{const i=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const h=/\s*!important$/;function f(t,e,n){if((0,i.kJ)(n))n.forEach((n=>f(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=v(t,e);h.test(n)?t.setProperty((0,i.rs)(r),n.replace(h,""),"important"):t[r]=n}}const d=["Webkit","Moz","ms"],p={};function v(t,e){const n=p[e];if(n)return n;let r=(0,i._A)(e);if("filter"!==r&&r in t)return p[e]=r;r=(0,i.kC)(r);for(let i=0;i<d.length;i++){const n=d[i]+r;if(n in t)return p[e]=n}return e}const g="http://www.w3.org/1999/xlink";function m(t,e,n,r,o){if(r&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(g,e.slice(6,e.length)):t.setAttributeNS(g,e,n);else{const r=(0,i.Pq)(e);null==n||r&&!(0,i.yA)(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function y(t,e,n,r,o,s,a){if("innerHTML"===e||"textContent"===e)return r&&a(r,o,s),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const i=null==n?"":n;return t.value===i&&"OPTION"!==t.tagName||(t.value=i),void(null==n&&t.removeAttribute(e))}let l=!1;if(""===n||null==n){const r=typeof t[e];"boolean"===r?n=(0,i.yA)(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{t[e]=n}catch(u){0}l&&t.removeAttribute(e)}function b(t,e,n,i){t.addEventListener(e,n,i)}function _(t,e,n,i){t.removeEventListener(e,n,i)}function w(t,e,n,i,r=null){const o=t._vei||(t._vei={}),s=o[e];if(i&&s)s.value=i;else{const[n,a]=S(e);if(i){const s=o[e]=O(i,r);b(t,n,s,a)}else s&&(_(t,n,s,a),o[e]=void 0)}}const x=/(?:Once|Passive|Capture)$/;function S(t){let e;if(x.test(t)){let n;e={};while(n=t.match(x))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,i.rs)(t.slice(2));return[n,e]}let C=0;const T=Promise.resolve(),k=()=>C||(T.then((()=>C=0)),C=Date.now());function O(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,r.$d)(A(t,n.value),e,5,[t])};return n.value=t,n.attached=k(),n}function A(t,e){if((0,i.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const E=/^on[a-z]/,F=(t,e,n,r,o=!1,s,a,l,h)=>{"class"===e?u(t,r,o):"style"===e?c(t,n,r):(0,i.F7)(e)?(0,i.tR)(e)||w(t,e,n,r,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):M(t,e,r,o))?y(t,e,r,s,a,l,h):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),m(t,e,r,o))};function M(t,e,n,r){return r?"innerHTML"===e||"textContent"===e||!!(e in t&&E.test(e)&&(0,i.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!E.test(e)||!(0,i.HD)(n))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const P="transition",j="animation",R=(t,{slots:e})=>(0,r.h)(r.P$,z(t),e);R.displayName="Transition";const L={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},D=(R.props=(0,i.l7)({},r.P$.props,L),(t,e=[])=>{(0,i.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)}),I=t=>!!t&&((0,i.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function z(t){const e={};for(const i in t)i in L||(e[i]=t[i]);if(!1===t.css)return e;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:h=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,v=B(o),g=v&&v[0],m=v&&v[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:x,onBeforeAppear:S=y,onAppear:C=b,onAppearCancelled:T=_}=e,k=(t,e,n)=>{V(t,e?h:l),V(t,e?c:a),n&&n()},O=(t,e)=>{t._isLeaving=!1,V(t,f),V(t,p),V(t,d),e&&e()},A=t=>(e,n)=>{const i=t?C:b,o=()=>k(e,t,n);D(i,[e,o]),W((()=>{V(e,t?u:s),H(e,t?h:l),I(i)||U(e,r,g,o)}))};return(0,i.l7)(e,{onBeforeEnter(t){D(y,[t]),H(t,s),H(t,a)},onBeforeAppear(t){D(S,[t]),H(t,u),H(t,c)},onEnter:A(!1),onAppear:A(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>O(t,e);H(t,f),G(),H(t,d),W((()=>{t._isLeaving&&(V(t,f),H(t,p),I(w)||U(t,r,m,n))})),D(w,[t,n])},onEnterCancelled(t){k(t,!1),D(_,[t])},onAppearCancelled(t){k(t,!0),D(T,[t])},onLeaveCancelled(t){O(t),D(x,[t])}})}function B(t){if(null==t)return null;if((0,i.Kn)(t))return[q(t.enter),q(t.leave)];{const e=q(t);return[e,e]}}function q(t){const e=(0,i.He)(t);return e}function H(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function V(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function W(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let N=0;function U(t,e,n,i){const r=t._endId=++N,o=()=>{r===t._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=Y(t,e);if(!s)return i();const u=s+"end";let c=0;const h=()=>{t.removeEventListener(u,f),o()},f=e=>{e.target===t&&++c>=l&&h()};setTimeout((()=>{c<l&&h()}),a+1),t.addEventListener(u,f)}function Y(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),r=i(P+"Delay"),o=i(P+"Duration"),s=X(r,o),a=i(j+"Delay"),l=i(j+"Duration"),u=X(a,l);let c=null,h=0,f=0;e===P?s>0&&(c=P,h=s,f=o.length):e===j?u>0&&(c=j,h=u,f=l.length):(h=Math.max(s,u),c=h>0?s>u?P:j:null,f=c?c===P?o.length:l.length:0);const d=c===P&&/\b(transform|all)(,|$)/.test(n[P+"Property"]);return{type:c,timeout:h,propCount:f,hasTransform:d}}function X(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>$(e)+$(t[n]))))}function $(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function G(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Z=["ctrl","shift","alt","meta"],K={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Z.some((n=>t[`${n}Key`]&&!e.includes(n)))},J=(t,e)=>(n,...i)=>{for(let t=0;t<e.length;t++){const i=K[e[t]];if(i&&i(n,e))return}return t(n,...i)},Q={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):tt(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!==!n&&(i?e?(i.beforeEnter(t),tt(t,!0),i.enter(t)):i.leave(t,(()=>{tt(t,!1)})):tt(t,e))},beforeUnmount(t,{value:e}){tt(t,e)}};function tt(t,e){t.style.display=e?t._vod:"none"}const et=(0,i.l7)({patchProp:F},l);let nt;function it(){return nt||(nt=(0,r.Us)(et))}const rt=(...t)=>{const e=it().createApp(...t);const{mount:n}=e;return e.mount=t=>{const r=ot(t);if(!r)return;const o=e._component;(0,i.mf)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function ot(t){if((0,i.HD)(t)){const e=document.querySelector(t);return e}return t}},3201:function(t,e,n){"use strict";function i(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{C_:function(){return d},DM:function(){return F},E9:function(){return et},F7:function(){return x},Gg:function(){return V},HD:function(){return j},He:function(){return Q},Kn:function(){return L},NO:function(){return _},Nj:function(){return J},Od:function(){return T},PO:function(){return q},Pq:function(){return a},RI:function(){return O},S0:function(){return H},W7:function(){return B},WV:function(){return v},Z6:function(){return y},_A:function(){return U},_N:function(){return E},aU:function(){return Z},dG:function(){return b},e1:function(){return o},fY:function(){return i},hR:function(){return G},hq:function(){return g},ir:function(){return K},j5:function(){return u},kC:function(){return $},kJ:function(){return A},kT:function(){return m},l7:function(){return C},mf:function(){return P},rs:function(){return X},tI:function(){return D},tR:function(){return S},yA:function(){return l},yk:function(){return R}});const r="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=i(r);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=i(s);function l(t){return!!t||""===t}function u(t){if(A(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=j(i)?f(i):u(i);if(r)for(const t in r)e[t]=r[t]}return e}return j(t)||L(t)?t:void 0}const c=/;(?![^(]*\))/g,h=/:(.+)/;function f(t){const e={};return t.split(c).forEach((t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function d(t){let e="";if(j(t))e=t;else if(A(t))for(let n=0;n<t.length;n++){const i=d(t[n]);i&&(e+=i+" ")}else if(L(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function p(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=v(t[i],e[i]);return n}function v(t,e){if(t===e)return!0;let n=M(t),i=M(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=R(t),i=R(e),n||i)return t===e;if(n=A(t),i=A(e),n||i)return!(!n||!i)&&p(t,e);if(n=L(t),i=L(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const n in t){const i=t.hasOwnProperty(n),r=e.hasOwnProperty(n);if(i&&!r||!i&&r||!v(t[n],e[n]))return!1}}return String(t)===String(e)}function g(t,e){return t.findIndex((t=>v(t,e)))}const m={},y=[],b=()=>{},_=()=>!1,w=/^on[^a-z]/,x=t=>w.test(t),S=t=>t.startsWith("onUpdate:"),C=Object.assign,T=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},k=Object.prototype.hasOwnProperty,O=(t,e)=>k.call(t,e),A=Array.isArray,E=t=>"[object Map]"===z(t),F=t=>"[object Set]"===z(t),M=t=>"[object Date]"===z(t),P=t=>"function"===typeof t,j=t=>"string"===typeof t,R=t=>"symbol"===typeof t,L=t=>null!==t&&"object"===typeof t,D=t=>L(t)&&P(t.then)&&P(t.catch),I=Object.prototype.toString,z=t=>I.call(t),B=t=>z(t).slice(8,-1),q=t=>"[object Object]"===z(t),H=t=>j(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,V=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),W=t=>{const e=Object.create(null);return n=>{const i=e[n];return i||(e[n]=t(n))}},N=/-(\w)/g,U=W((t=>t.replace(N,((t,e)=>e?e.toUpperCase():"")))),Y=/\B([A-Z])/g,X=W((t=>t.replace(Y,"-$1").toLowerCase())),$=W((t=>t.charAt(0).toUpperCase()+t.slice(1))),G=W((t=>t?`on${$(t)}`:"")),Z=(t,e)=>!Object.is(t,e),K=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},J=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Q=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let tt;const et=()=>tt||(tt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},8004:function(t,e,n){var i=n(2035),r=n(3971),o=TypeError;t.exports=function(t){if(i(t))return t;throw o(r(t)+" is not a function")}},701:function(t,e,n){var i=n(2035),r=String,o=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw o("Can't set "+r(t)+" as a prototype")}},9981:function(t,e,n){var i=n(9345),r=String,o=TypeError;t.exports=function(t){if(i(t))return t;throw o(r(t)+" is not an object")}},8188:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},326:function(t,e,n){"use strict";var i,r,o,s=n(8188),a=n(3233),l=n(5424),u=n(2035),c=n(9345),h=n(7728),f=n(6240),d=n(3971),p=n(9214),v=n(2853),g=n(2561).f,m=n(4266),y=n(758),b=n(94),_=n(1655),w=n(3360),x=n(2044),S=x.enforce,C=x.get,T=l.Int8Array,k=T&&T.prototype,O=l.Uint8ClampedArray,A=O&&O.prototype,E=T&&y(T),F=k&&y(k),M=Object.prototype,P=l.TypeError,j=_("toStringTag"),R=w("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",D=s&&!!b&&"Opera"!==f(l.opera),I=!1,z={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},q=function(t){if(!c(t))return!1;var e=f(t);return"DataView"===e||h(z,e)||h(B,e)},H=function(t){var e=y(t);if(c(e)){var n=C(e);return n&&h(n,L)?n[L]:H(e)}},V=function(t){if(!c(t))return!1;var e=f(t);return h(z,e)||h(B,e)},W=function(t){if(V(t))return t;throw P("Target is not a typed array")},N=function(t){if(u(t)&&(!b||m(E,t)))return t;throw P(d(t)+" is not a typed array constructor")},U=function(t,e,n,i){if(a){if(n)for(var r in z){var o=l[r];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(s){try{o.prototype[t]=e}catch(u){}}}F[t]&&!n||v(F,t,n?e:D&&k[t]||e,i)}},Y=function(t,e,n){var i,r;if(a){if(b){if(n)for(i in z)if(r=l[i],r&&h(r,t))try{delete r[t]}catch(o){}if(E[t]&&!n)return;try{return v(E,t,n?e:D&&E[t]||e)}catch(o){}}for(i in z)r=l[i],!r||r[t]&&!n||v(r,t,e)}};for(i in z)r=l[i],o=r&&r.prototype,o?S(o)[L]=r:D=!1;for(i in B)r=l[i],o=r&&r.prototype,o&&(S(o)[L]=r);if((!D||!u(E)||E===Function.prototype)&&(E=function(){throw P("Incorrect invocation")},D))for(i in z)l[i]&&b(l[i],E);if((!D||!F||F===M)&&(F=E.prototype,D))for(i in z)l[i]&&b(l[i].prototype,F);if(D&&y(A)!==F&&b(A,F),a&&!h(F,j))for(i in I=!0,g(F,j,{get:function(){return c(this)?this[R]:void 0}}),z)l[i]&&p(l[i],R,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:I&&R,aTypedArray:W,aTypedArrayConstructor:N,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:H,isView:q,isTypedArray:V,TypedArray:E,TypedArrayPrototype:F}},2851:function(t,e,n){var i=n(9849),r=n(255),o=n(7494),s=function(t){return function(e,n,s){var a,l=i(e),u=o(l),c=r(s,u);if(t&&n!=n){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2730:function(t,e,n){var i=n(3407),r=n(5535),o=n(6812),s=n(7494),a=function(t){var e=1==t;return function(n,a,l){var u,c,h=o(n),f=r(h),d=i(a,l),p=s(f);while(p-- >0)if(u=f[p],c=d(u,p,h),c)switch(t){case 0:return u;case 1:return p}return e?-1:void 0}};t.exports={findLast:a(0),findLastIndex:a(1)}},6913:function(t,e,n){"use strict";var i=n(3233),r=n(5271),o=TypeError,s=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!s(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},2846:function(t,e,n){var i=n(997),r=i({}.toString),o=i("".slice);t.exports=function(t){return o(r(t),8,-1)}},6240:function(t,e,n){var i=n(8102),r=n(2035),o=n(2846),s=n(1655),a=s("toStringTag"),l=Object,u="Arguments"==o(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=i?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=l(t),a))?n:u?o(e):"Object"==(i=o(e))&&r(e.callee)?"Arguments":i}},1591:function(t,e,n){var i=n(7728),r=n(807),o=n(1220),s=n(2561);t.exports=function(t,e,n){for(var a=r(e),l=s.f,u=o.f,c=0;c<a.length;c++){var h=a[c];i(t,h)||n&&i(n,h)||l(t,h,u(e,h))}}},9354:function(t,e,n){var i=n(201);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9214:function(t,e,n){var i=n(3233),r=n(2561),o=n(9115);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9115:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7508:function(t,e,n){var i=n(2179),r=n(2561);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},2853:function(t,e,n){var i=n(2035),r=n(2561),o=n(2179),s=n(8514);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:e;if(i(n)&&o(n,u,a),a.global)l?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(c){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},8514:function(t,e,n){var i=n(5424),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},766:function(t,e,n){"use strict";var i=n(3971),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw r("Cannot delete property "+i(e)+" of "+i(t))}},3233:function(t,e,n){var i=n(201);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},455:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},3722:function(t,e,n){var i=n(5424),r=n(9345),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},7407:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},1735:function(t,e,n){var i=n(6458);t.exports=i("navigator","userAgent")||""},3604:function(t,e,n){var i,r,o=n(5424),s=n(1735),a=o.process,l=o.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(i=c.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},6669:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4118:function(t,e,n){var i=n(5424),r=n(1220).f,o=n(9214),s=n(2853),a=n(8514),l=n(1591),u=n(8874);t.exports=function(t,e){var n,c,h,f,d,p,v=t.target,g=t.global,m=t.stat;if(c=g?i:m?i[v]||a(v,{}):(i[v]||{}).prototype,c)for(h in e){if(d=e[h],t.dontCallGetSet?(p=r(c,h),f=p&&p.value):f=c[h],n=u(g?h:v+(m?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof d==typeof f)continue;l(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),s(c,h,d,t)}}},201:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},3407:function(t,e,n){var i=n(8517),r=n(8004),o=n(3020),s=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},3020:function(t,e,n){var i=n(201);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6139:function(t,e,n){var i=n(3020),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},5794:function(t,e,n){var i=n(3233),r=n(7728),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&"something"===function(){}.name,u=a&&(!i||i&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},997:function(t,e,n){var i=n(3020),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);t.exports=i?s:function(t){return function(){return o.apply(t,arguments)}}},8517:function(t,e,n){var i=n(2846),r=n(997);t.exports=function(t){if("Function"===i(t))return r(t)}},6458:function(t,e,n){var i=n(5424),r=n(2035),o=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t]):i[t]&&i[t][e]}},2518:function(t,e,n){var i=n(8004),r=n(650);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},5424:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},7728:function(t,e,n){var i=n(8517),r=n(6812),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},4979:function(t){t.exports={}},4041:function(t,e,n){var i=n(3233),r=n(201),o=n(3722);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5535:function(t,e,n){var i=n(8517),r=n(201),o=n(2846),s=Object,a=i("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?a(t,""):s(t)}:s},3064:function(t,e,n){var i=n(8517),r=n(2035),o=n(9372),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},2044:function(t,e,n){var i,r,o,s=n(2767),a=n(5424),l=n(9345),u=n(9214),c=n(7728),h=n(9372),f=n(408),d=n(4979),p="Object already initialized",v=a.TypeError,g=a.WeakMap,m=function(t){return o(t)?r(t):i(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}};if(s||h.state){var b=h.state||(h.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,i=function(t,e){if(b.has(t))throw v(p);return e.facade=t,b.set(t,e),e},r=function(t){return b.get(t)||{}},o=function(t){return b.has(t)}}else{var _=f("state");d[_]=!0,i=function(t,e){if(c(t,_))throw v(p);return e.facade=t,u(t,_,e),e},r=function(t){return c(t,_)?t[_]:{}},o=function(t){return c(t,_)}}t.exports={set:i,get:r,has:o,enforce:m,getterFor:y}},5271:function(t,e,n){var i=n(2846);t.exports=Array.isArray||function(t){return"Array"==i(t)}},2035:function(t,e,n){var i=n(455),r=i.all;t.exports=i.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},8874:function(t,e,n){var i=n(201),r=n(2035),o=/#|\.prototype\./,s=function(t,e){var n=l[a(t)];return n==c||n!=u&&(r(e)?i(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";t.exports=s},650:function(t){t.exports=function(t){return null===t||void 0===t}},9345:function(t,e,n){var i=n(2035),r=n(455),o=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:i(t)||t===o}:function(t){return"object"==typeof t?null!==t:i(t)}},5630:function(t){t.exports=!1},489:function(t,e,n){var i=n(6458),r=n(2035),o=n(4266),s=n(814),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&o(e.prototype,a(t))}},7494:function(t,e,n){var i=n(8768);t.exports=function(t){return i(t.length)}},2179:function(t,e,n){var i=n(201),r=n(2035),o=n(7728),s=n(3233),a=n(5794).CONFIGURABLE,l=n(3064),u=n(2044),c=u.enforce,h=u.get,f=Object.defineProperty,d=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),p=String(String).split("String"),v=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||a&&t.name!==e)&&(s?f(t,"name",{value:e,configurable:!0}):t.name=e),d&&n&&o(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=c(t);return o(i,"source")||(i.source=p.join("string"==typeof e?e:"")),t};Function.prototype.toString=v((function(){return r(this)&&h(this).source||l(this)}),"toString")},3113:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},2561:function(t,e,n){var i=n(3233),r=n(4041),o=n(6101),s=n(9981),a=n(1493),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";e.f=i?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var i=c(t,e);i&&i[d]&&(t[e]=n.value,n={configurable:f in n?n[f]:i[f],enumerable:h in n?n[h]:i[h],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(s(t),e=a(e),s(n),r)try{return u(t,e,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1220:function(t,e,n){var i=n(3233),r=n(6139),o=n(9828),s=n(9115),a=n(9849),l=n(1493),u=n(7728),c=n(4041),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=l(e),c)try{return h(t,e)}catch(n){}if(u(t,e))return s(!r(o.f,t,e),t[e])}},9753:function(t,e,n){var i=n(811),r=n(6669),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},2881:function(t,e){e.f=Object.getOwnPropertySymbols},758:function(t,e,n){var i=n(7728),r=n(2035),o=n(6812),s=n(408),a=n(9354),l=s("IE_PROTO"),u=Object,c=u.prototype;t.exports=a?u.getPrototypeOf:function(t){var e=o(t);if(i(e,l))return e[l];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof u?c:null}},4266:function(t,e,n){var i=n(8517);t.exports=i({}.isPrototypeOf)},811:function(t,e,n){var i=n(8517),r=n(7728),o=n(9849),s=n(2851).indexOf,a=n(4979),l=i([].push);t.exports=function(t,e){var n,i=o(t),u=0,c=[];for(n in i)!r(a,n)&&r(i,n)&&l(c,n);while(e.length>u)r(i,n=e[u++])&&(~s(c,n)||l(c,n));return c}},9828:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},94:function(t,e,n){var i=n(8517),r=n(9981),o=n(701);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(s){}return function(n,i){return r(n),o(i),e?t(n,i):n.__proto__=i,n}}():void 0)},6727:function(t,e,n){var i=n(6139),r=n(2035),o=n(9345),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!o(a=i(n,t)))return a;if(r(n=t.valueOf)&&!o(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!o(a=i(n,t)))return a;throw s("Can't convert object to primitive value")}},807:function(t,e,n){var i=n(6458),r=n(8517),o=n(9753),s=n(2881),a=n(9981),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?l(e,n(t)):e}},1198:function(t,e,n){"use strict";var i=n(9981);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7274:function(t,e,n){var i=n(650),r=TypeError;t.exports=function(t){if(i(t))throw r("Can't call method on "+t);return t}},408:function(t,e,n){var i=n(2576),r=n(3360),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},9372:function(t,e,n){var i=n(5424),r=n(8514),o="__core-js_shared__",s=i[o]||r(o,{});t.exports=s},2576:function(t,e,n){var i=n(5630),r=n(9372);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.0",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5723:function(t,e,n){var i=n(3604),r=n(201);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},255:function(t,e,n){var i=n(7321),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},9849:function(t,e,n){var i=n(5535),r=n(7274);t.exports=function(t){return i(r(t))}},7321:function(t,e,n){var i=n(3113);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},8768:function(t,e,n){var i=n(7321),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},6812:function(t,e,n){var i=n(7274),r=Object;t.exports=function(t){return r(i(t))}},6122:function(t,e,n){var i=n(6139),r=n(9345),o=n(489),s=n(2518),a=n(6727),l=n(1655),u=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,l=s(t,c);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},1493:function(t,e,n){var i=n(6122),r=n(489);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},8102:function(t,e,n){var i=n(1655),r=i("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},3971:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3360:function(t,e,n){var i=n(8517),r=0,o=Math.random(),s=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+o,36)}},814:function(t,e,n){var i=n(5723);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6101:function(t,e,n){var i=n(3233),r=n(201);t.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2767:function(t,e,n){var i=n(5424),r=n(2035),o=i.WeakMap;t.exports=r(o)&&/native code/.test(String(o))},1655:function(t,e,n){var i=n(5424),r=n(2576),o=n(7728),s=n(3360),a=n(5723),l=n(814),u=r("wks"),c=i.Symbol,h=c&&c["for"],f=l?c:c&&c.withoutSetter||s;t.exports=function(t){if(!o(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&o(c,t)?u[t]=c[t]:u[t]=l&&h?h(e):f(e)}return u[t]}},4719:function(t,e,n){"use strict";var i=n(4118),r=n(6812),o=n(7494),s=n(6913),a=n(7407),l=n(201),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:u||c},{push:function(t){var e=r(this),n=o(e),i=arguments.length;a(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return s(e,n),n}})},3352:function(t,e,n){"use strict";var i=n(4118),r=n(6812),o=n(7494),s=n(6913),a=n(766),l=n(7407),u=1!==[].unshift(0),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:u||c},{unshift:function(t){var e=r(this),n=o(e),i=arguments.length;if(i){l(n+i);var u=n;while(u--){var c=u+i;u in e?e[c]=e[u]:a(e,c)}for(var h=0;h<i;h++)e[h]=arguments[h]}return s(e,n+i)}})},1098:function(t,e,n){var i=n(5424),r=n(3233),o=n(7508),s=n(1198),a=n(201),l=i.RegExp,u=l.prototype,c=r&&a((function(){var t=!0;try{l(".","d")}catch(c){t=!1}var e={},n="",i=t?"dgimsy":"gimsy",r=function(t,i){Object.defineProperty(e,t,{get:function(){return n+=i,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(o.hasIndices="d"),o)r(s,o[s]);var a=Object.getOwnPropertyDescriptor(u,"flags").get.call(e);return a!==i||n!==i}));c&&o(u,"flags",{configurable:!0,get:s})},8099:function(t,e,n){"use strict";var i=n(326),r=n(2730).findLastIndex,o=i.aTypedArray,s=i.exportTypedArrayMethod;s("findLastIndex",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},4913:function(t,e,n){"use strict";var i=n(326),r=n(2730).findLast,o=i.aTypedArray,s=i.exportTypedArrayMethod;s("findLast",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},2903:function(){fabric.Canvas.prototype.initialize=function(t){return function(...e){return t.call(this,...e),this._historyInit(),this}}(fabric.Canvas.prototype.initialize),fabric.Canvas.prototype.dispose=function(t){return function(...e){return t.call(this,...e),this._historyDispose(),this}}(fabric.Canvas.prototype.dispose),fabric.Canvas.prototype._historyNext=function(){return JSON.stringify(this.toDatalessJSON(this.extraProps))},fabric.Canvas.prototype._historyEvents=function(){return{"object:added":this._historySaveAction,"object:removed":this._historySaveAction,"object:modified":this._historySaveAction,"object:skewing":this._historySaveAction}},fabric.Canvas.prototype._historyInit=function(){this.historyUndo=[],this.historyRedo=[],this.extraProps=["selectable","editable"],this.historyNextState=this._historyNext(),this.on(this._historyEvents())},fabric.Canvas.prototype._historyDispose=function(){this.off(this._historyEvents())},fabric.Canvas.prototype._historySaveAction=function(){if(this.historyProcessing)return;const t=this.historyNextState;this.historyUndo.push(t),this.historyNextState=this._historyNext(),this.fire("history:append",{json:t})},fabric.Canvas.prototype.undo=function(t){this.historyProcessing=!0;const e=this.historyUndo.pop();e?(this.historyRedo.push(this._historyNext()),this.historyNextState=e,this._loadHistory(e,"history:undo",t)):this.historyProcessing=!1},fabric.Canvas.prototype.redo=function(t){this.historyProcessing=!0;const e=this.historyRedo.pop();e?(this.historyUndo.push(this._historyNext()),this.historyNextState=e,this._loadHistory(e,"history:redo",t)):this.historyProcessing=!1},fabric.Canvas.prototype._loadHistory=function(t,e,n){var i=this;this.loadFromJSON(t,(function(){i.renderAll(),i.fire(e),i.historyProcessing=!1,n&&"function"==typeof n&&n()}))},fabric.Canvas.prototype.clearHistory=function(){this.historyUndo=[],this.historyRedo=[],this.fire("history:clear")},fabric.Canvas.prototype.onHistory=function(){this.historyProcessing=!1,this._historySaveAction()},fabric.Canvas.prototype.offHistory=function(){this.historyProcessing=!0}},8237:function(t,e,n){
/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */
var i=i||{version:"5.2.4"};if(e.fabric=i,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?i.document=document:i.document=document.implementation.createHTMLDocument(""),i.window=window;else{var r=n(4960),o=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;i.document=o.document,i.jsdomImplForWrapper=n(6759).implForWrapper,i.nodeCanvas=n(6272).Canvas,i.window=o,DOMParser=i.window.DOMParser}function s(t){var e=t.targetCanvas,n=e.width,i=e.height,r=t.destinationWidth,o=t.destinationHeight;n===r&&i===o||(e.width=r,e.height=o)}function a(t,e){var n=t.canvas,i=e.targetCanvas,r=i.getContext("2d");r.translate(0,i.height),r.scale(1,-1);var o=n.height-i.height;r.drawImage(n,0,o,i.width,i.height,0,0,i.width,i.height)}function l(t,e){var n=e.targetCanvas,i=n.getContext("2d"),r=e.destinationWidth,o=e.destinationHeight,s=r*o*4,a=new Uint8Array(this.imageBuffer,0,s),l=new Uint8ClampedArray(this.imageBuffer,0,s);t.readPixels(0,0,r,o,t.RGBA,t.UNSIGNED_BYTE,a);var u=new ImageData(l,r,o);i.putImageData(u,0,0)}i.isTouchSupported="ontouchstart"in i.window||"ontouchstart"in i.document||i.window&&i.window.navigator&&i.window.navigator.maxTouchPoints>0,i.isLikelyNode="undefined"!==typeof Buffer&&"undefined"===typeof window,i.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],i.DPI=96,i.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",i.commaWsp="(?:\\s+,?\\s*|,\\s*)",i.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,i.reNonWord=/[ \n\.,;!\?\-]/,i.fontPaths={},i.iMatrix=[1,0,0,1,0,0],i.svgNS="http://www.w3.org/2000/svg",i.perfLimitSizeTotal=2097152,i.maxCacheSideLimit=4096,i.minCacheSideLimit=256,i.charWidthsCache={},i.textureSize=2048,i.disableStyleCopyPaste=!1,i.enableGLFiltering=!0,i.devicePixelRatio=i.window.devicePixelRatio||i.window.webkitDevicePixelRatio||i.window.mozDevicePixelRatio||1,i.browserShadowBlurConstant=1,i.arcToSegmentsCache={},i.boundsOfCurveCache={},i.cachesBoundsOfCurve=!0,i.forceGLPutImageData=!1,i.initFilterBackend=function(){return i.enableGLFiltering&&i.isWebglSupported&&i.isWebglSupported(i.textureSize)?(console.log("max texture size: "+i.maxTextureSize),new i.WebglFilterBackend({tileSize:i.textureSize})):i.Canvas2dFilterBackend?new i.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=i),function(){function t(t,e){if(this.__eventListeners[t]){var n=this.__eventListeners[t];e?n[n.indexOf(e)]=!1:i.util.array.fill(n,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function n(t,e){var n=function(){e.apply(this,arguments),this.off(t,n)}.bind(this);this.on(t,n)}function r(t,e){if(1===arguments.length)for(var i in t)n.call(this,i,t[i]);else n.call(this,t,e);return this}function o(e,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"===typeof arguments[0])for(var i in e)t.call(this,i,e[i]);else t.call(this,e,n);return this}function s(t,e){if(!this.__eventListeners)return this;var n=this.__eventListeners[t];if(!n)return this;for(var i=0,r=n.length;i<r;i++)n[i]&&n[i].call(this,e||{});return this.__eventListeners[t]=n.filter((function(t){return!1!==t})),this}i.Observable={fire:s,on:e,once:r,off:o}}(),i.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,n){var i=this._objects;return n?i[e]=t:i.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,n=!1,i=0,r=arguments.length;i<r;i++)t=e.indexOf(arguments[i]),-1!==t&&(n=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);return this},getObjects:function(t){return"undefined"===typeof t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t,e){return this._objects.indexOf(t)>-1||!!e&&this._objects.some((function(e){return"function"===typeof e.contains&&e.contains(t,!0)}))},complexity:function(){return this._objects.reduce((function(t,e){return t+=e.complexity?e.complexity():0,t}),0)}},i.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof i.Gradient||this.set(e,new i.Gradient(t))},_initPattern:function(t,e,n){!t||!t.source||t instanceof i.Pattern?n&&n():this.set(e,new i.Pattern(t,n))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"===typeof t?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"===typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},function(t){var e=Math.sqrt,n=Math.atan2,r=Math.pow,o=Math.PI/180,s=Math.PI/2;i.util={cos:function(t){if(0===t)return 1;t<0&&(t=-t);var e=t/s;switch(e){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=t/s,n=1;switch(t<0&&(n=-1),e){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(t)},removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*o},radiansToDegrees:function(t){return t/o},rotatePoint:function(t,e,n){var r=new i.Point(t.x-e.x,t.y-e.y),o=i.util.rotateVector(r,n);return new i.Point(o.x,o.y).addEquals(e)},rotateVector:function(t,e){var n=i.util.sin(e),r=i.util.cos(e),o=t.x*r-t.y*n,s=t.x*n+t.y*r;return{x:o,y:s}},createVector:function(t,e){return new i.Point(e.x-t.x,e.y-t.y)},calcAngleBetweenVectors:function(t,e){return Math.acos((t.x*e.x+t.y*e.y)/(Math.hypot(t.x,t.y)*Math.hypot(e.x,e.y)))},getHatVector:function(t){return new i.Point(t.x,t.y).multiply(1/Math.hypot(t.x,t.y))},getBisector:function(t,e,n){var r=i.util.createVector(t,e),o=i.util.createVector(t,n),s=i.util.calcAngleBetweenVectors(r,o),a=i.util.calcAngleBetweenVectors(i.util.rotateVector(r,s),o),l=s*(0===a?1:-1)/2;return{vector:i.util.getHatVector(i.util.rotateVector(r,l)),angle:s}},projectStrokeOnPoints:function(t,e,n){var r=[],o=e.strokeWidth/2,s=e.strokeUniform?new i.Point(1/e.scaleX,1/e.scaleY):new i.Point(1,1),a=function(t){var e=o/Math.hypot(t.x,t.y);return new i.Point(t.x*e*s.x,t.y*e*s.y)};return t.length<=1||t.forEach((function(l,u){var c,h,f=new i.Point(l.x,l.y);0===u?(h=t[u+1],c=n?a(i.util.createVector(h,f)).addEquals(f):t[t.length-1]):u===t.length-1?(c=t[u-1],h=n?a(i.util.createVector(c,f)).addEquals(f):t[0]):(c=t[u-1],h=t[u+1]);var d,p,v=i.util.getBisector(f,c,h),g=v.vector,m=v.angle;if("miter"===e.strokeLineJoin&&(d=-o/Math.sin(m/2),p=new i.Point(g.x*d*s.x,g.y*d*s.y),Math.hypot(p.x,p.y)/o<=e.strokeMiterLimit))return r.push(f.add(p)),void r.push(f.subtract(p));d=-o*Math.SQRT2,p=new i.Point(g.x*d*s.x,g.y*d*s.y),r.push(f.add(p)),r.push(f.subtract(p))})),r},transformPoint:function(t,e,n){return n?new i.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new i.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var n=0;n<t.length;n++)t[n]=i.util.transformPoint(t[n],e);var r=[t[0].x,t[1].x,t[2].x,t[3].x],o=i.util.array.min(r),s=i.util.array.max(r),a=s-o,l=[t[0].y,t[1].y,t[2].y,t[3].y],u=i.util.array.min(l),c=i.util.array.max(l),h=c-u;return{left:o,top:u,width:a,height:h}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=i.util.transformPoint({x:t[4],y:t[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=i.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*i.DPI/25.4;case"cm":return r*i.DPI/2.54;case"in":return r*i.DPI;case"pt":return r*i.DPI/72;case"pc":return r*i.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=i.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),i.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"]);break}return e},resolveNamespace:function(e){if(!e)return i;var n,r=e.split("."),o=r.length,s=t||i.window;for(n=0;n<o;++n)s=s[r[n]];return s},loadImage:function(t,e,n,r){if(t){var o=i.util.createImage(),s=function(){e&&e.call(n,o,!1),o=o.onload=o.onerror=null};o.onload=s,o.onerror=function(){i.log("Error loading "+o.src),e&&e.call(n,null,!0),o=o.onload=o.onerror=null},0!==t.indexOf("data")&&void 0!==r&&null!==r&&(o.crossOrigin=r),"data:image/svg"===t.substring(0,14)&&(o.onload=null,i.util.loadImageInDom(o,s)),o.src=t}else e&&e.call(n,t)},loadImageInDom:function(t,e){var n=i.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(t),i.document.querySelector("body").appendChild(n),t.onload=function(){e(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(t,e,n,r){t=t||[];var o=[],s=0,a=t.length;function l(){++s===a&&e&&e(o.filter((function(t){return t})))}a?t.forEach((function(t,e){if(t&&t.type){var s=i.util.getKlass(t.type,n);s.fromObject(t,(function(n,i){i||(o[e]=n),r&&r(t,n,i),l()}))}else l()})):e&&e(o)},enlivenObjectEnlivables:function(t,e,n){var r=i.Object.ENLIVEN_PROPS.filter((function(e){return!!t[e]}));i.util.enlivenObjects(r.map((function(e){return t[e]})),(function(t){var i={};r.forEach((function(n,r){i[n]=t[r],e&&(e[n]=t[r])})),n&&n(i)}))},enlivenPatterns:function(t,e){function n(){++o===s&&e&&e(r)}t=t||[];var r=[],o=0,s=t.length;s?t.forEach((function(t,e){t&&t.source?new i.Pattern(t,(function(t){r[e]=t,n()})):(r[e]=t,n())})):e&&e(r)},groupSVGElements:function(t,e,n){var r;return t&&1===t.length?("undefined"!==typeof n&&(t[0].sourcePath=n),t[0]):(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),r=new i.Group(t,e),"undefined"!==typeof n&&(r.sourcePath=n),r)},populateWithProperties:function(t,e,n){if(n&&Array.isArray(n))for(var i=0,r=n.length;i<r;i++)n[i]in t&&(e[n[i]]=t[n[i]])},createCanvasElement:function(){return i.document.createElement("canvas")},copyCanvasElement:function(t){var e=i.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,n){return t.toDataURL("image/"+e,n)},createImage:function(){return i.document.createElement("img")},multiplyTransformMatrices:function(t,e,n){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var i=n(t[1],t[0]),s=r(t[0],2)+r(t[1],2),a=e(s),l=(t[0]*t[3]-t[2]*t[1])/a,u=n(t[0]*t[2]+t[1]*t[3],s);return{angle:i/o,scaleX:a,scaleY:l,skewX:u/o,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return i.iMatrix.concat();var e=i.util.degreesToRadians(t.angle),n=i.util.cos(e),r=i.util.sin(e);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(t){var e="undefined"===typeof t.scaleX?1:t.scaleX,n="undefined"===typeof t.scaleY?1:t.scaleY,r=[t.flipX?-e:e,0,0,t.flipY?-n:n,0,0],o=i.util.multiplyTransformMatrices,s=i.util.degreesToRadians;return t.skewX&&(r=o(r,[1,0,Math.tan(s(t.skewX)),1],!0)),t.skewY&&(r=o(r,[1,Math.tan(s(t.skewY)),0,1],!0)),r},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],n=i.util.multiplyTransformMatrices;return t.angle&&(e=n(e,i.util.calcRotateMatrix(t))),(1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=n(e,i.util.calcDimensionsMatrix(t))),e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,n,i){i>0&&(e>i?e-=i:e=0,n>i?n-=i:n=0);var r,o,s=!0,a=t.getImageData(e,n,2*i||1,2*i||1),l=a.data.length;for(r=3;r<l;r+=4)if(o=a.data[r],s=o<=0,!1===s)break;return a=null,s},parsePreserveAspectRatioAttribute:function(t){var e,n="meet",i="Mid",r="Mid",o=t.split(" ");return o&&o.length&&(n=o.pop(),"meet"!==n&&"slice"!==n?(e=n,n="meet"):o.length&&(e=o.pop())),i="none"!==e?e.slice(1,4):"none",r="none"!==e?e.slice(5,8):"none",{meetOrSlice:n,alignX:i,alignY:r}},clearFabricFontCache:function(t){t=(t||"").toLowerCase(),t?i.charWidthsCache[t]&&delete i.charWidthsCache[t]:i.charWidthsCache={}},limitDimsByArea:function(t,e){var n=Math.sqrt(e*t),i=Math.floor(e/n);return{x:Math.floor(n),y:i}},capValue:function(t,e,n){return Math.max(t,Math.min(e,n))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return i.util.toFixed(t,i.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(t,e){var n=i.util.invertTransform(e),r=i.util.multiplyTransformMatrices(n,t.calcOwnMatrix());i.util.applyTransformToObject(t,r)},addTransformToObject:function(t,e){i.util.applyTransformToObject(t,i.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var n=i.util.qrDecompose(e),r=new i.Point(n.translateX,n.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",n.scaleX),t.set("scaleY",n.scaleY),t.skewX=n.skewX,t.skewY=n.skewY,t.angle=n.angle,t.setPositionByOrigin(r,"center","center")},sizeAfterTransform:function(t,e,n){var r=t/2,o=e/2,s=[{x:-r,y:-o},{x:r,y:-o},{x:-r,y:o},{x:r,y:o}],a=i.util.calcDimensionsMatrix(n),l=i.util.makeBoundingBoxFromPoints(s,a);return{x:l.width,y:l.height}},mergeClipPaths:function(t,e){var n=t,r=e;n.inverted&&!r.inverted&&(n=e,r=t),i.util.applyTransformToObject(r,i.util.multiplyTransformMatrices(i.util.invertTransform(n.calcTransformMatrix()),r.calcTransformMatrix()));var o=n.inverted&&r.inverted;return o&&(n.inverted=r.inverted=!1),new i.Group([n],{clipPath:r,inverted:o})},hasStyleChanged:function(t,e,n){return n=n||!1,t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY||n&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},stylesToArray:function(t,e){t=i.util.object.clone(t,!0);for(var n=e.split("\n"),r=-1,o={},s=[],a=0;a<n.length;a++)if(t[a])for(var l=0;l<n[a].length;l++){r++;var u=t[a][l];if(u){var c=i.util.hasStyleChanged(o,u,!0);c?s.push({start:r,end:r+1,style:u}):s[s.length-1].end++}o=u||{}}else r+=n[a].length;return s},stylesFromArray:function(t,e){if(!Array.isArray(t))return t;for(var n=e.split("\n"),i=-1,r=0,o={},s=0;s<n.length;s++)for(var a=0;a<n[s].length;a++)i++,t[r]&&t[r].start<=i&&i<t[r].end&&(o[s]=o[s]||{},o[s][a]=Object.assign({},t[r].style),i===t[r].end-1&&r++);return o}}}(e),function(){var t=Array.prototype.join,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function r(t,e,n,r,o,s,a,l,u,c,h){var f=i.util.cos(t),d=i.util.sin(t),p=i.util.cos(e),v=i.util.sin(e),g=n*o*p-r*s*v+a,m=r*o*p+n*s*v+l,y=c+u*(-n*o*d-r*s*f),b=h+u*(-r*o*d+n*s*f),_=g+u*(n*o*v+r*s*p),w=m+u*(r*o*v-n*s*p);return["C",y,b,_,w,g,m]}function o(t,e,n,o,a,l,u){var c=Math.PI,h=u*c/180,f=i.util.sin(h),d=i.util.cos(h),p=0,v=0;n=Math.abs(n),o=Math.abs(o);var g=-d*t*.5-f*e*.5,m=-d*e*.5+f*t*.5,y=n*n,b=o*o,_=m*m,w=g*g,x=y*b-y*_-b*w,S=0;if(x<0){var C=Math.sqrt(1-x/(y*b));n*=C,o*=C}else S=(a===l?-1:1)*Math.sqrt(x/(y*_+b*w));var T=S*n*m/o,k=-S*o*g/n,O=d*T-f*k+.5*t,A=f*T+d*k+.5*e,E=s(1,0,(g-T)/n,(m-k)/o),F=s((g-T)/n,(m-k)/o,(-g-T)/n,(-m-k)/o);0===l&&F>0?F-=2*c:1===l&&F<0&&(F+=2*c);for(var M=Math.ceil(Math.abs(F/c*2)),P=[],j=F/M,R=8/3*Math.sin(j/4)*Math.sin(j/4)/Math.sin(j/2),L=E+j,D=0;D<M;D++)P[D]=r(E,L,d,f,n,o,O,A,R,p,v),p=P[D][5],v=P[D][6],E=L,L+=j;return P}function s(t,e,n,i){var r=Math.atan2(e,t),o=Math.atan2(i,n);return o>=r?o-r:2*Math.PI-(r-o)}function a(e,n,r,o,s,a,l,u){var c;if(i.cachesBoundsOfCurve&&(c=t.call(arguments),i.boundsOfCurveCache[c]))return i.boundsOfCurveCache[c];var h,f,d,p,v,g,m,y,b=Math.sqrt,_=Math.min,w=Math.max,x=Math.abs,S=[],C=[[],[]];f=6*e-12*r+6*s,h=-3*e+9*r-9*s+3*l,d=3*r-3*e;for(var T=0;T<2;++T)if(T>0&&(f=6*n-12*o+6*a,h=-3*n+9*o-9*a+3*u,d=3*o-3*n),x(h)<1e-12){if(x(f)<1e-12)continue;p=-d/f,0<p&&p<1&&S.push(p)}else m=f*f-4*d*h,m<0||(y=b(m),v=(-f+y)/(2*h),0<v&&v<1&&S.push(v),g=(-f-y)/(2*h),0<g&&g<1&&S.push(g));var k,O,A,E=S.length,F=E;while(E--)p=S[E],A=1-p,k=A*A*A*e+3*A*A*p*r+3*A*p*p*s+p*p*p*l,C[0][E]=k,O=A*A*A*n+3*A*A*p*o+3*A*p*p*a+p*p*p*u,C[1][E]=O;C[0][F]=e,C[1][F]=n,C[0][F+1]=l,C[1][F+1]=u;var M=[{x:_.apply(null,C[0]),y:_.apply(null,C[1])},{x:w.apply(null,C[0]),y:w.apply(null,C[1])}];return i.cachesBoundsOfCurve&&(i.boundsOfCurveCache[c]=M),M}function l(t,e,n){for(var i=n[1],r=n[2],s=n[3],a=n[4],l=n[5],u=n[6],c=n[7],h=o(u-t,c-e,i,r,a,l,s),f=0,d=h.length;f<d;f++)h[f][1]+=t,h[f][2]+=e,h[f][3]+=t,h[f][4]+=e,h[f][5]+=t,h[f][6]+=e;return h}function u(t){var e,n,i,r,o,s,a=0,u=0,c=t.length,h=0,f=0,d=[];for(n=0;n<c;++n){switch(i=!1,e=t[n].slice(0),e[0]){case"l":e[0]="L",e[1]+=a,e[2]+=u;case"L":a=e[1],u=e[2];break;case"h":e[1]+=a;case"H":e[0]="L",e[2]=u,a=e[1];break;case"v":e[1]+=u;case"V":e[0]="L",u=e[1],e[1]=a,e[2]=u;break;case"m":e[0]="M",e[1]+=a,e[2]+=u;case"M":a=e[1],u=e[2],h=e[1],f=e[2];break;case"c":e[0]="C",e[1]+=a,e[2]+=u,e[3]+=a,e[4]+=u,e[5]+=a,e[6]+=u;case"C":o=e[3],s=e[4],a=e[5],u=e[6];break;case"s":e[0]="S",e[1]+=a,e[2]+=u,e[3]+=a,e[4]+=u;case"S":"C"===r?(o=2*a-o,s=2*u-s):(o=a,s=u),a=e[3],u=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=o,e[2]=s,o=e[3],s=e[4];break;case"q":e[0]="Q",e[1]+=a,e[2]+=u,e[3]+=a,e[4]+=u;case"Q":o=e[1],s=e[2],a=e[3],u=e[4];break;case"t":e[0]="T",e[1]+=a,e[2]+=u;case"T":"Q"===r?(o=2*a-o,s=2*u-s):(o=a,s=u),e[0]="Q",a=e[1],u=e[2],e[1]=o,e[2]=s,e[3]=a,e[4]=u;break;case"a":e[0]="A",e[6]+=a,e[7]+=u;case"A":i=!0,d=d.concat(l(a,u,e)),a=e[6],u=e[7];break;case"z":case"Z":a=h,u=f;break;default:}i||d.push(e),r=e[0]}return d}function c(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))}function h(t){return t*t*t}function f(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function p(t){return(1-t)*(1-t)*(1-t)}function v(t,e,n,i,r,o,s,a){return function(l){var u=h(l),c=f(l),v=d(l),g=p(l);return{x:s*u+r*c+n*v+t*g,y:a*u+o*c+i*v+e*g}}}function g(t,e,n,i,r,o,s,a){return function(l){var u=1-l,c=3*u*u*(n-t)+6*u*l*(r-n)+3*l*l*(s-r),h=3*u*u*(i-e)+6*u*l*(o-i)+3*l*l*(a-o);return Math.atan2(h,c)}}function m(t){return t*t}function y(t){return 2*t*(1-t)}function b(t){return(1-t)*(1-t)}function _(t,e,n,i,r,o){return function(s){var a=m(s),l=y(s),u=b(s);return{x:r*a+n*l+t*u,y:o*a+i*l+e*u}}}function w(t,e,n,i,r,o){return function(s){var a=1-s,l=2*a*(n-t)+2*s*(r-n),u=2*a*(i-e)+2*s*(o-i);return Math.atan2(u,l)}}function x(t,e,n){var i,r,o={x:e,y:n},s=0;for(r=1;r<=100;r+=1)i=t(r/100),s+=c(o.x,o.y,i.x,i.y),o=i;return s}function S(t,e){var n,i,r,o=0,s=0,a=t.iterator,l={x:t.x,y:t.y},u=.01,h=t.angleFinder;while(s<e&&u>1e-4)n=a(o),r=o,i=c(l.x,l.y,n.x,n.y),i+s>e?(o-=u,u/=2):(l=n,o+=u,s+=i);return n.angle=h(r),n}function C(t){for(var e,n,i,r,o=0,s=t.length,a=0,l=0,u=0,h=0,f=[],d=0;d<s;d++){switch(e=t[d],i={x:a,y:l,command:e[0]},e[0]){case"M":i.length=0,u=a=e[1],h=l=e[2];break;case"L":i.length=c(a,l,e[1],e[2]),a=e[1],l=e[2];break;case"C":n=v(a,l,e[1],e[2],e[3],e[4],e[5],e[6]),r=g(a,l,e[1],e[2],e[3],e[4],e[5],e[6]),i.iterator=n,i.angleFinder=r,i.length=x(n,a,l),a=e[5],l=e[6];break;case"Q":n=_(a,l,e[1],e[2],e[3],e[4]),r=w(a,l,e[1],e[2],e[3],e[4]),i.iterator=n,i.angleFinder=r,i.length=x(n,a,l),a=e[3],l=e[4];break;case"Z":case"z":i.destX=u,i.destY=h,i.length=c(a,l,u,h),a=u,l=h;break}o+=i.length,f.push(i)}return f.push({length:o,x:a,y:l}),f}function T(t,e,n){n||(n=C(t));var r=0;while(e-n[r].length>0&&r<n.length-2)e-=n[r].length,r++;var o,s=n[r],a=e/s.length,l=s.command,u=t[r];switch(l){case"M":return{x:s.x,y:s.y,angle:0};case"Z":case"z":return o=new i.Point(s.x,s.y).lerp(new i.Point(s.destX,s.destY),a),o.angle=Math.atan2(s.destY-s.y,s.destX-s.x),o;case"L":return o=new i.Point(s.x,s.y).lerp(new i.Point(u[1],u[2]),a),o.angle=Math.atan2(u[2]-s.y,u[1]-s.x),o;case"C":return S(s,e);case"Q":return S(s,e)}}function k(t){var r,o,s,a,l,u=[],c=[],h=i.rePathCommand,f="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",d="("+f+")"+i.commaWsp,p="([01])"+i.commaWsp+"?",v=d+"?"+d+"?"+d+p+p+d+"?("+f+")",g=new RegExp(v,"g");if(!t||!t.match)return u;l=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var m,y=0,b=l.length;y<b;y++){r=l[y],a=r.slice(1).trim(),c.length=0;var _=r.charAt(0);if(m=[_],"a"===_.toLowerCase())for(var w;w=g.exec(a);)for(var x=1;x<w.length;x++)c.push(w[x]);else while(s=h.exec(a))c.push(s[0]);x=0;for(var S=c.length;x<S;x++)o=parseFloat(c[x]),isNaN(o)||m.push(o);var C=e[_.toLowerCase()],T=n[_]||_;if(m.length-1>C)for(var k=1,O=m.length;k<O;k+=C)u.push([_].concat(m.slice(k,k+C))),_=T;else u.push(m)}return u}function O(t,e){var n,r=[],o=new i.Point(t[0].x,t[0].y),s=new i.Point(t[1].x,t[1].y),a=t.length,l=1,u=0,c=a>2;for(e=e||0,c&&(l=t[2].x<s.x?-1:t[2].x===s.x?0:1,u=t[2].y<s.y?-1:t[2].y===s.y?0:1),r.push(["M",o.x-l*e,o.y-u*e]),n=1;n<a;n++){if(!o.eq(s)){var h=o.midPointFrom(s);r.push(["Q",o.x,o.y,h.x,h.y])}o=t[n],n+1<t.length&&(s=t[n+1])}return c&&(l=o.x>t[n-2].x?1:o.x===t[n-2].x?0:-1,u=o.y>t[n-2].y?1:o.y===t[n-2].y?0:-1),r.push(["L",o.x+l*e,o.y+u*e]),r}function A(t,e,n){return n&&(e=i.util.multiplyTransformMatrices(e,[1,0,0,1,-n.x,-n.y])),t.map((function(t){for(var n=t.slice(0),r={},o=1;o<t.length-1;o+=2)r.x=t[o],r.y=t[o+1],r=i.util.transformPoint(r,e),n[o]=r.x,n[o+1]=r.y;return n}))}i.util.joinPath=function(t){return t.map((function(t){return t.join(" ")})).join(" ")},i.util.parsePath=k,i.util.makePathSimpler=u,i.util.getSmoothPathFromPoints=O,i.util.getPathSegmentsInfo=C,i.util.getBoundsOfCurve=a,i.util.getPointOnPath=T,i.util.transformPath=A}(),function(){var t=Array.prototype.slice;function e(e,n){for(var i=t.call(arguments,2),r=[],o=0,s=e.length;o<s;o++)r[o]=i.length?e[o][n].apply(e[o],i):e[o][n].call(e[o]);return r}function n(t,e){return s(t,e,(function(t,e){return t>=e}))}function r(t,e){return s(t,e,(function(t,e){return t<e}))}function o(t,e){var n=t.length;while(n--)t[n]=e;return t}function s(t,e,n){if(t&&0!==t.length){var i=t.length-1,r=e?t[i][e]:t[i];if(e)while(i--)n(t[i][e],r)&&(r=t[i][e]);else while(i--)n(t[i],r)&&(r=t[i]);return r}}i.util.array={fill:o,invoke:e,min:r,max:n}}(),function(){function t(e,n,r){if(r)if(!i.isLikelyNode&&n instanceof Element)e=n;else if(n instanceof Array){e=[];for(var o=0,s=n.length;o<s;o++)e[o]=t({},n[o],r)}else if(n&&"object"===typeof n)for(var a in n)"canvas"===a||"group"===a?e[a]=null:n.hasOwnProperty(a)&&(e[a]=t({},n[a],r));else e=n;else for(var a in n)e[a]=n[a];return e}function e(e,n){return t({},e,n)}i.util.object={extend:t,clone:e},i.util.object.extend(i.util,i.Observable)}(),function(){function t(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))}function e(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())}function n(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(t){var e,n=0,i=[];for(n=0,e;n<t.length;n++)!1!==(e=o(t,n))&&i.push(e);return i}function o(t,e){var n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}i.util.string={camelize:t,capitalize:e,escapeXml:n,graphemeSplit:r}}(),function(){var t=Array.prototype.slice,e=function(){},n=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),r=function(t,e,i){for(var r in e)r in t.prototype&&"function"===typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?t.prototype[r]=function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=i;var r=e[t].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==t)return r}}(r):t.prototype[r]=e[r],n&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function o(){}function s(e){var n=null,i=this;while(i.constructor.superclass){var r=i.constructor.superclass.prototype[e];if(i[e]!==r){n=r;break}i=i.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,t.call(arguments,1)):n.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}function a(){var n=null,i=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"===typeof i[0]&&(n=i.shift()),a.superclass=n,a.subclasses=[],n&&(o.prototype=n.prototype,a.prototype=new o,n.subclasses.push(a));for(var l=0,u=i.length;l<u;l++)r(a,i[l],n);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=s,a}i.util.createClass=a}(),function(){var t=!!i.document.createElement("div").attachEvent,e=["touchstart","touchmove","touchend"];function n(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}i.util.addListener=function(e,n,i,r){e&&e.addEventListener(n,i,!t&&r)},i.util.removeListener=function(e,n,i,r){e&&e.removeEventListener(n,i,!t&&r)},i.util.getPointer=function(t){var e=t.target,r=i.util.getScrollLeftTop(e),o=n(t);return{x:o.clientX+r.left,y:o.clientY+r.top}},i.util.isTouchEvent=function(t){return e.indexOf(t.type)>-1||"touch"===t.pointerType}}(),function(){function t(t,e){var n=t.style;if(!n)return t;if("string"===typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?s(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var i in e)if("opacity"===i)s(t,e[i]);else{var r="float"===i||"cssFloat"===i?"undefined"===typeof n.styleFloat?"cssFloat":"styleFloat":i;n.setProperty(r,e[i])}return t}var e=i.document.createElement("div"),n="string"===typeof e.style.opacity,r="string"===typeof e.style.filter,o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,s=function(t){return t};n?s=function(t,e){return t.style.opacity=e,t}:r&&(s=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),o.test(n.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",n.filter=n.filter.replace(o,e)):n.filter+=" alpha(opacity="+100*e+")",t}),i.util.setStyle=t}(),function(){var t=Array.prototype.slice;function e(t){return"string"===typeof t?i.document.getElementById(t):t}var n,r,o=function(e){return t.call(e,0)};try{n=o(i.document.childNodes)instanceof Array}catch(p){}function s(t,e){var n=i.document.createElement(t);for(var r in e)"class"===r?n.className=e[r]:"for"===r?n.htmlFor=e[r]:n.setAttribute(r,e[r]);return n}function a(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)}function l(t,e,n){return"string"===typeof e&&(e=s(e,n)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e}function u(t){var e=0,n=0,r=i.document.documentElement,o=i.document.body||{scrollLeft:0,scrollTop:0};while(t&&(t.parentNode||t.host))if(t=t.parentNode||t.host,t===i.document?(e=o.scrollLeft||r.scrollLeft||0,n=o.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,n+=t.scrollTop||0),1===t.nodeType&&"fixed"===t.style.position)break;return{left:e,top:n}}function c(t){var e,n,i=t&&t.ownerDocument,o={left:0,top:0},s={left:0,top:0},a={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return s;for(var l in a)s[a[l]]+=parseInt(r(t,l),10)||0;return e=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(o=t.getBoundingClientRect()),n=u(t),{left:o.left+n.left-(e.clientLeft||0)+s.left,top:o.top+n.top-(e.clientTop||0)+s.top}}function h(t){var e=i.jsdomImplForWrapper(t);return e._canvas||e._image}function f(t){if(i.isLikelyNode){var e=i.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}function d(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e}n||(o=function(t){var e=new Array(t.length),n=t.length;while(n--)e[n]=t[n];return e}),r=i.document.defaultView&&i.document.defaultView.getComputedStyle?function(t,e){var n=i.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},function(){var t=i.document.documentElement.style,e="userSelect"in t?"userSelect":"MozUserSelect"in t?"MozUserSelect":"WebkitUserSelect"in t?"WebkitUserSelect":"KhtmlUserSelect"in t?"KhtmlUserSelect":"";function n(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=i.util.falseFunction),e?t.style[e]="none":"string"===typeof t.unselectable&&(t.unselectable="on"),t}function r(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=null),e?t.style[e]="":"string"===typeof t.unselectable&&(t.unselectable=""),t}i.util.makeElementUnselectable=n,i.util.makeElementSelectable=r}(),i.util.setImageSmoothing=d,i.util.getById=e,i.util.toArray=o,i.util.addClass=a,i.util.makeElement=s,i.util.wrapElement=l,i.util.getScrollLeftTop=u,i.util.getElementOffset=c,i.util.getNodeCanvas=h,i.util.cleanUpJsdomNode=f}(),function(){function t(t,e){return t+(/\?/.test(t)?"&":"?")+e}function e(){}function n(n,r){r||(r={});var o=r.method?r.method.toUpperCase():"GET",s=r.onComplete||function(){},a=new i.window.XMLHttpRequest,l=r.body||r.parameters;return a.onreadystatechange=function(){4===a.readyState&&(s(a),a.onreadystatechange=e)},"GET"===o&&(l=null,"string"===typeof r.parameters&&(n=t(n,r.parameters))),a.open(o,n,!0),"POST"!==o&&"PUT"!==o||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(l),a}i.util.request=n}(),i.log=console.log,i.warn=console.warn,function(){var t=i.util.object.extend,e=i.util.object.clone,n=[];function r(){return!1}function o(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e}function s(n){n||(n={});var s,a=!1,l=function(){var t=i.runningAnimations.indexOf(s);return t>-1&&i.runningAnimations.splice(t,1)[0]};return s=t(e(n),{cancel:function(){return a=!0,l()},currentValue:"startValue"in n?n.startValue:0,completionRate:0,durationRate:0}),i.runningAnimations.push(s),u((function(t){var e,i=t||+new Date,c=n.duration||500,h=i+c,f=n.onChange||r,d=n.abort||r,p=n.onComplete||r,v=n.easing||o,g="startValue"in n&&n.startValue.length>0,m="startValue"in n?n.startValue:0,y="endValue"in n?n.endValue:100,b=n.byValue||(g?m.map((function(t,e){return y[e]-m[e]})):y-m);n.onStart&&n.onStart(),function t(n){e=n||+new Date;var r=e>h?c:e-i,o=r/c,_=g?m.map((function(t,e){return v(r,m[e],b[e],c)})):v(r,m,b,c),w=g?Math.abs((_[0]-m[0])/b[0]):Math.abs((_-m)/b);if(s.currentValue=g?_.slice():_,s.completionRate=w,s.durationRate=o,!a){if(!d(_,w,o))return e>h?(s.currentValue=g?y.slice():y,s.completionRate=1,s.durationRate=1,f(g?y.slice():y,1,1),p(y,1,1),void l()):(f(_,w,o),void u(t));l()}}(i)})),s.cancel}i.util.object.extend(n,{cancelAll:function(){var t=this.splice(0);return t.forEach((function(t){t.cancel()})),t},cancelByCanvas:function(t){if(!t)return[];var e=this.filter((function(e){return"object"===typeof e.target&&e.target.canvas===t}));return e.forEach((function(t){t.cancel()})),e},cancelByTarget:function(t){var e=this.findAnimationsByTarget(t);return e.forEach((function(t){t.cancel()})),e},findAnimationIndex:function(t){return this.indexOf(this.findAnimation(t))},findAnimation:function(t){return this.find((function(e){return e.cancel===t}))},findAnimationsByTarget:function(t){return t?this.filter((function(e){return e.target===t})):[]}});var a=i.window.requestAnimationFrame||i.window.webkitRequestAnimationFrame||i.window.mozRequestAnimationFrame||i.window.oRequestAnimationFrame||i.window.msRequestAnimationFrame||function(t){return i.window.setTimeout(t,1e3/60)},l=i.window.cancelAnimationFrame||i.window.clearTimeout;function u(){return a.apply(i.window,arguments)}function c(){return l.apply(i.window,arguments)}i.util.animate=s,i.util.requestAnimFrame=u,i.util.cancelAnimFrame=c,i.runningAnimations=n}(),function(){function t(t,e,n){var i="rgba("+parseInt(t[0]+n*(e[0]-t[0]),10)+","+parseInt(t[1]+n*(e[1]-t[1]),10)+","+parseInt(t[2]+n*(e[2]-t[2]),10);return i+=","+(t&&e?parseFloat(t[3]+n*(e[3]-t[3])):1),i+=")",i}function e(e,n,r,o){var s=new i.Color(e).getSource(),a=new i.Color(n).getSource(),l=o.onComplete,u=o.onChange;return o=o||{},i.util.animate(i.util.object.extend(o,{duration:r||500,startValue:s,endValue:a,byValue:a,easing:function(e,n,i,r){var s=o.colorEasing?o.colorEasing(e,r):1-Math.cos(e/r*(Math.PI/2));return t(n,i,s)},onComplete:function(e,n,i){if(l)return l(t(a,a,0),n,i)},onChange:function(e,n,i){if(u){if(Array.isArray(e))return u(t(e,e,0),n,i);u(e,n,i)}}}))}i.util.animateColor=e}(),function(){function t(t,e,n,i){return t<Math.abs(e)?(t=e,i=n/4):i=0===e&&0===t?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:i}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*n-t.s)*(2*Math.PI)/t.p)}function n(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function r(t,e,n,i){return t/=i/2,t<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}function o(t,e,n,i){return n*(t/=i)*t*t*t+e}function s(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e}function a(t,e,n,i){return t/=i/2,t<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}function l(t,e,n,i){return n*(t/=i)*t*t*t*t+e}function u(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e}function c(t,e,n,i){return t/=i/2,t<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}function h(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e}function f(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e}function d(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}function p(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e}function v(t,e,n,i){return t===i?e+n:n*(1-Math.pow(2,-10*t/i))+e}function g(t,e,n,i){return 0===t?e:t===i?e+n:(t/=i/2,t<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e)}function m(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e}function y(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e}function b(t,e,n,i){return t/=i/2,t<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function _(n,i,r,o){var s=1.70158,a=0,l=r;if(0===n)return i;if(n/=o,1===n)return i+r;a||(a=.3*o);var u=t(l,r,a,s);return-e(u,n,o)+i}function w(e,n,i,r){var o=1.70158,s=0,a=i;if(0===e)return n;if(e/=r,1===e)return n+i;s||(s=.3*r);var l=t(a,i,s,o);return l.a*Math.pow(2,-10*e)*Math.sin((e*r-l.s)*(2*Math.PI)/l.p)+l.c+n}function x(n,i,r,o){var s=1.70158,a=0,l=r;if(0===n)return i;if(n/=o/2,2===n)return i+r;a||(a=o*(.3*1.5));var u=t(l,r,a,s);return n<1?-.5*e(u,n,o)+i:u.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-u.s)*(2*Math.PI)/u.p)*.5+u.c+i}function S(t,e,n,i,r){return void 0===r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e}function C(t,e,n,i,r){return void 0===r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e}function T(t,e,n,i,r){return void 0===r&&(r=1.70158),t/=i/2,t<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e}function k(t,e,n,i){return n-O(i-t,0,n,i)+e}function O(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function A(t,e,n,i){return t<i/2?.5*k(2*t,0,n,i)+e:.5*O(2*t-i,0,n,i)+.5*n+e}i.util.ease={easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return t/=i/2,t<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:n,easeInOutCubic:r,easeInQuart:o,easeOutQuart:s,easeInOutQuart:a,easeInQuint:l,easeOutQuint:u,easeInOutQuint:c,easeInSine:h,easeOutSine:f,easeInOutSine:d,easeInExpo:p,easeOutExpo:v,easeInOutExpo:g,easeInCirc:m,easeOutCirc:y,easeInOutCirc:b,easeInElastic:_,easeOutElastic:w,easeInOutElastic:x,easeInBack:S,easeOutBack:C,easeInOutBack:T,easeInBounce:k,easeOutBounce:O,easeInOutBounce:A}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r=e.util.toFixed,o=e.util.parseUnit,s=e.util.multiplyTransformMatrices,a=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],l=["symbol","image","marker","pattern","view","svg"],u=["pattern","defs","symbol","metadata","clipPath","mask","desc"],c=["symbol","g","a","svg","clipPath","defs"],h={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},f={stroke:"strokeOpacity",fill:"fillOpacity"},d="font-size",p="clip-path";function v(t){return t in h?h[t]:t}function g(t,n,i,r){var a,l=Array.isArray(n);if("fill"!==t&&"stroke"!==t||"none"!==n){if("strokeUniform"===t)return"non-scaling-stroke"===n;if("strokeDashArray"===t)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)n=i&&i.transformMatrix?s(i.transformMatrix,e.parseTransformAttribute(n)):e.parseTransformAttribute(n);else if("visible"===t)n="none"!==n&&"hidden"!==n,i&&!1===i.visible&&(n=!1);else if("opacity"===t)n=parseFloat(n),i&&"undefined"!==typeof i.opacity&&(n*=i.opacity);else if("textAnchor"===t)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===t)a=o(n,r)/r*1e3;else if("paintFirst"===t){var u=n.indexOf("fill"),c=n.indexOf("stroke");n="fill";(u>-1&&c>-1&&c<u||-1===u&&c>-1)&&(n="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return n;if("imageSmoothing"===t)return"optimizeQuality"===n;a=l?n.map(o):o(n,r)}}else n="";return!l&&isNaN(a)?n:a}function m(t){return new RegExp("^("+t.join("|")+")\\b","i")}function y(t){for(var n in f)if("undefined"!==typeof t[f[n]]&&""!==t[n]){if("undefined"===typeof t[n]){if(!e.Object.prototype[n])continue;t[n]=e.Object.prototype[n]}if(0!==t[n].indexOf("url(")){var i=new e.Color(t[n]);t[n]=i.setAlpha(r(i.getAlpha()*t[f[n]],2)).toRgba()}}return t}function b(t,e){var n,i,r,o,s=[];for(r=0,o=e.length;r<o;r++)n=e[r],i=t.getElementsByTagName(n),s=s.concat(Array.prototype.slice.call(i));return s}function _(t,e){var n,i;t.replace(/;\s*$/,"").split(";").forEach((function(t){var r=t.split(":");n=r[0].trim().toLowerCase(),i=r[1].trim(),e[n]=i}))}function w(t,e){var n,i;for(var r in t)"undefined"!==typeof t[r]&&(n=r.toLowerCase(),i=t[r],e[n]=i)}function x(t,n){var i={};for(var r in e.cssRules[n])if(S(t,r.split(" ")))for(var o in e.cssRules[n][r])i[o]=e.cssRules[n][r][o];return i}function S(t,e){var n,i=!0;return n=T(t,e.pop()),n&&e.length&&(i=C(t,e)),n&&i&&0===e.length}function C(t,e){var n,i=!0;while(t.parentNode&&1===t.parentNode.nodeType&&e.length)i&&(n=e.pop()),t=t.parentNode,i=T(t,n);return 0===e.length}function T(t,e){var n,i,r=t.nodeName,o=t.getAttribute("class"),s=t.getAttribute("id");if(n=new RegExp("^"+r,"i"),e=e.replace(n,""),s&&e.length&&(n=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),o&&e.length)for(o=o.split(" "),i=o.length;i--;)n=new RegExp("\\."+o[i]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"");return 0===e.length}function k(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var i,r,o,s=t.getElementsByTagName("*");for(r=0,o=s.length;r<o;r++)if(i=s[r],e===i.getAttribute("id"))return i}function O(t){var n=b(t,["use","svg:use"]),i=0;while(n.length&&i<n.length){var r=n[i],o=r.getAttribute("xlink:href")||r.getAttribute("href");if(null===o)return;var s,a,l,u,c,h=o.slice(1),f=r.getAttribute("x")||0,d=r.getAttribute("y")||0,p=k(t,h).cloneNode(!0),v=(p.getAttribute("transform")||"")+" translate("+f+", "+d+")",g=n.length,m=e.svgNS;if(E(p),/^svg$/i.test(p.nodeName)){var y=p.ownerDocument.createElementNS(m,"g");for(l=0,u=p.attributes,c=u.length;l<c;l++)a=u.item(l),y.setAttributeNS(m,a.nodeName,a.nodeValue);while(p.firstChild)y.appendChild(p.firstChild);p=y}for(l=0,u=r.attributes,c=u.length;l<c;l++)a=u.item(l),"x"!==a.nodeName&&"y"!==a.nodeName&&"xlink:href"!==a.nodeName&&"href"!==a.nodeName&&("transform"===a.nodeName?v=a.nodeValue+" "+v:p.setAttribute(a.nodeName,a.nodeValue));p.setAttribute("transform",v),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),s=r.parentNode,s.replaceChild(p,r),n.length===g&&i++}}e.svgValidTagNamesRegEx=m(a),e.svgViewBoxElementsRegEx=m(l),e.svgInvalidAncestorsRegEx=m(u),e.svgValidParentsRegEx=m(c),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,n){var i=e.util.cos(n[0]),r=e.util.sin(n[0]),o=0,s=0;3===n.length&&(o=n[1],s=n[2]),t[0]=i,t[1]=r,t[2]=-r,t[3]=i,t[4]=o-(i*o-r*s),t[5]=s-(r*o+i*s)}function n(t,e){var n=e[0],i=2===e.length?e[1]:e[0];t[0]=n,t[3]=i}function i(t,n,i){t[i]=Math.tan(e.util.degreesToRadians(n[0]))}function r(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}var o=e.iMatrix,s=e.reNum,a=e.commaWsp,l="(?:(skewX)\\s*\\(\\s*("+s+")\\s*\\))",u="(?:(skewY)\\s*\\(\\s*("+s+")\\s*\\))",c="(?:(rotate)\\s*\\(\\s*("+s+")(?:"+a+"("+s+")"+a+"("+s+"))?\\s*\\))",h="(?:(scale)\\s*\\(\\s*("+s+")(?:"+a+"("+s+"))?\\s*\\))",f="(?:(translate)\\s*\\(\\s*("+s+")(?:"+a+"("+s+"))?\\s*\\))",d="(?:(matrix)\\s*\\(\\s*("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")"+a+"("+s+")\\s*\\))",p="(?:"+d+"|"+f+"|"+h+"|"+c+"|"+l+"|"+u+")",v="(?:"+p+"(?:"+a+"*"+p+")*)",g="^\\s*(?:"+v+"?)\\s*$",m=new RegExp(g),y=new RegExp(p,"g");return function(s){var a=o.concat(),l=[];if(!s||s&&!m.test(s))return a;s.replace(y,(function(s){var u=new RegExp(p).exec(s).filter((function(t){return!!t})),c=u[1],h=u.slice(2).map(parseFloat);switch(c){case"translate":r(a,h);break;case"rotate":h[0]=e.util.degreesToRadians(h[0]),t(a,h);break;case"scale":n(a,h);break;case"skewX":i(a,h,2);break;case"skewY":i(a,h,1);break;case"matrix":a=h;break}l.push(a.concat()),a=o.concat()}));var u=l[0];while(l.length>1)l.shift(),u=e.util.multiplyTransformMatrices(u,l[0]);return u}}();var A=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function E(t){if(!e.svgViewBoxElementsRegEx.test(t.nodeName))return{};var n,i,r,s,a=t.getAttribute("viewBox"),l=1,u=1,c=0,h=0,f=t.getAttribute("width"),d=t.getAttribute("height"),p=t.getAttribute("x")||0,v=t.getAttribute("y")||0,g=t.getAttribute("preserveAspectRatio")||"",m=!a||!(a=a.match(A)),y=!f||!d||"100%"===f||"100%"===d,b=m&&y,_={},w="",x=0,S=0;if(_.width=0,_.height=0,_.toBeParsed=b,m&&(p||v)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(w=" translate("+o(p)+" "+o(v)+") ",r=(t.getAttribute("transform")||"")+w,t.setAttribute("transform",r),t.removeAttribute("x"),t.removeAttribute("y")),b)return _;if(m)return _.width=o(f),_.height=o(d),_;if(c=-parseFloat(a[1]),h=-parseFloat(a[2]),n=parseFloat(a[3]),i=parseFloat(a[4]),_.minX=c,_.minY=h,_.viewBoxWidth=n,_.viewBoxHeight=i,y?(_.width=n,_.height=i):(_.width=o(f),_.height=o(d),l=_.width/n,u=_.height/i),g=e.util.parsePreserveAspectRatioAttribute(g),"none"!==g.alignX&&("meet"===g.meetOrSlice&&(u=l=l>u?u:l),"slice"===g.meetOrSlice&&(u=l=l>u?l:u),x=_.width-n*l,S=_.height-i*l,"Mid"===g.alignX&&(x/=2),"Mid"===g.alignY&&(S/=2),"Min"===g.alignX&&(x=0),"Min"===g.alignY&&(S=0)),1===l&&1===u&&0===c&&0===h&&0===p&&0===v)return _;if((p||v)&&"#document"!==t.parentNode.nodeName&&(w=" translate("+o(p)+" "+o(v)+") "),r=w+" matrix("+l+" 0 0 "+u+" "+(c*l+x)+" "+(h*u+S)+") ","svg"===t.nodeName){s=t.ownerDocument.createElementNS(e.svgNS,"g");while(t.firstChild)s.appendChild(t.firstChild);t.appendChild(s)}else s=t,s.removeAttribute("x"),s.removeAttribute("y"),r=s.getAttribute("transform")+r;return s.setAttribute("transform",r),_}function F(t,e){while(t&&(t=t.parentNode))if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}function M(t,e){var n=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],i="xlink:href",r=e.getAttribute(i).slice(1),o=k(t,r);if(o&&o.getAttribute(i)&&M(t,o),n.forEach((function(t){o&&!e.hasAttribute(t)&&o.hasAttribute(t)&&e.setAttribute(t,o.getAttribute(t))})),!e.children.length){var s=o.cloneNode(!0);while(s.firstChild)e.appendChild(s.firstChild)}e.removeAttribute(i)}e.parseSVGDocument=function(t,n,r,o){if(t){O(t);var s,a,l=e.Object.__uid++,u=E(t),c=e.util.toArray(t.getElementsByTagName("*"));if(u.crossOrigin=o&&o.crossOrigin,u.svgUid=l,0===c.length&&e.isLikelyNode){c=t.selectNodes('//*[name(.)!="svg"]');var h=[];for(s=0,a=c.length;s<a;s++)h[s]=c[s];c=h}var f=c.filter((function(t){return E(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!F(t,e.svgInvalidAncestorsRegEx)}));if(!f||f&&!f.length)n&&n([],{});else{var d={};c.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var n=t.getAttribute("id");d[n]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[l]=e.getGradientDefs(t),e.cssRules[l]=e.getCSSRules(t),e.clipPaths[l]=d,e.parseElements(f,(function(t,i){n&&(n(t,u,i,c),delete e.gradientDefs[l],delete e.cssRules[l],delete e.clipPaths[l])}),i(u),r,o)}}};var P=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");n(e,{parseFontDeclaration:function(t,e){var n=t.match(P);if(n){var i=n[1],r=n[3],s=n[4],a=n[5],l=n[6];i&&(e.fontStyle=i),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(e.fontSize=o(s)),l&&(e.fontFamily=l),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,n=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],i=b(t,n),r=0,o={};r=i.length;while(r--)e=i[r],e.getAttribute("xlink:href")&&M(t,e),o[e.getAttribute("id")]=e;return o},parseAttributes:function(t,i,r){if(t){var s,a,l,u={};"undefined"===typeof r&&(r=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(u=e.parseAttributes(t.parentNode,i,r));var c=i.reduce((function(e,n){return s=t.getAttribute(n),s&&(e[n]=s),e}),{}),h=n(x(t,r),e.parseStyleAttribute(t));c=n(c,h),h[p]&&t.setAttribute(p,h[p]),a=l=u.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,c[d]&&(c[d]=a=o(c[d],l));var f,m,b={};for(var _ in c)f=v(_),m=g(f,c[_],u,a),b[f]=m;b&&b.font&&e.parseFontDeclaration(b.font,b);var w=n(u,b);return e.svgValidParentsRegEx.test(t.nodeName)?w:y(w)}},parseElements:function(t,n,i,r,o){new e.ElementsParser(t,n,i,r,o).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"===typeof n?_(n,e):w(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;t=t.replace(/,/g," ").trim(),t=t.split(/\s+/);var e,n,i=[];for(e=0,n=t.length;e<n;e+=2)i.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return i},getCSSRules:function(t){var n,i,r,o=t.getElementsByTagName("style"),s={};for(n=0,i=o.length;n<i;n++){var a=o[n].textContent;a=a.replace(/\/\*[\s\S]*?\*\//g,""),""!==a.trim()&&(r=a.split("}"),r=r.filter((function(t){return t.trim()})),r.forEach((function(t){var r=t.split("{"),o={},a=r[1].trim(),l=a.split(";").filter((function(t){return t.trim()}));for(n=0,i=l.length;n<i;n++){var u=l[n].split(":"),c=u[0].trim(),h=u[1].trim();o[c]=h}t=r[0].trim(),t.split(",").forEach((function(t){t=t.replace(/^svg/i,"").trim(),""!==t&&(s[t]?e.util.object.extend(s[t],o):s[t]=e.util.object.clone(o))}))})))}return s},loadSVGFromURL:function(t,n,i,r){function o(t){var o=t.responseXML;if(!o||!o.documentElement)return n&&n(null),!1;e.parseSVGDocument(o.documentElement,(function(t,e,i,r){n&&n(t,e,i,r)}),i,r)}t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:o})},loadSVGFromString:function(t,n,i,r){var o=new e.window.DOMParser,s=o.parseFromString(t.trim(),"text/xml");e.parseSVGDocument(s.documentElement,(function(t,e,i,r){n(t,e,i,r)}),i,r)}})}(e),i.ElementsParser=function(t,e,n,i,r,o){this.elements=t,this.callback=e,this.options=n,this.reviver=i,this.svgUid=n&&n.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},function(t){t.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},t.createObjects=function(){var t=this;this.elements.forEach((function(e,n){e.setAttribute("svgUid",t.svgUid),t.createObject(e,n)}))},t.findTag=function(t){return i[i.util.string.capitalize(t.tagName.replace("svg:",""))]},t.createObject=function(t,e){var n=this.findTag(t);if(n&&n.fromElement)try{n.fromElement(t,this.createCallback(e,t),this.options)}catch(r){i.log(r)}else this.checkIfDone()},t.createCallback=function(t,e){var n=this;return function(r){var o;n.resolveGradient(r,e,"fill"),n.resolveGradient(r,e,"stroke"),r instanceof i.Image&&r._originalElement&&(o=r.parsePreserveAspectRatioAttribute(e)),r._removeTransformMatrix(o),n.resolveClipPath(r,e),n.reviver&&n.reviver(e,r),n.instances[t]=r,n.checkIfDone()}},t.extractPropertyDefinition=function(t,e,n){var r=t[e],o=this.regexUrl;if(o.test(r)){o.lastIndex=0;var s=o.exec(r)[1];return o.lastIndex=0,i[n][this.svgUid][s]}},t.resolveGradient=function(t,e,n){var r=this.extractPropertyDefinition(t,n,"gradientDefs");if(r){var o=e.getAttribute(n+"-opacity"),s=i.Gradient.fromElement(r,t,o,this.options);t.set(n,s)}},t.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},t.resolveClipPath=function(t,e){var n,r,o,s,a,l=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(l){s=[],o=i.util.invertTransform(t.calcTransformMatrix());var u=l[0].parentNode,c=e;while(c.parentNode&&c.getAttribute("clip-path")!==t.clipPath)c=c.parentNode;c.parentNode.appendChild(u);for(var h=0;h<l.length;h++)n=l[h],r=this.findTag(n),r.fromElement(n,this.createClipPathCallback(t,s),this.options);l=1===s.length?s[0]:new i.Group(s),a=i.util.multiplyTransformMatrices(o,l.calcTransformMatrix()),l.clipPath&&this.resolveClipPath(l,c);var f=i.util.qrDecompose(a);l.flipX=!1,l.flipY=!1,l.set("scaleX",f.scaleX),l.set("scaleY",f.scaleY),l.angle=f.angle,l.skewX=f.skewX,l.skewY=0,l.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),t.clipPath=l}else delete t.clipPath},t.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))}}(i.ElementsParser.prototype),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=n,n.prototype={type:"point",constructor:n,add:function(t){return new n(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new n(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new n(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new n(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new n(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new n(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return"undefined"===typeof e&&(e=.5),e=Math.max(Math.min(1,e),0),new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new n(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new n(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n},clone:function(){return new n(this.x,this.y)}})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=n,e.Intersection.prototype={constructor:n,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,i,r,o){var s,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),l=(i.x-t.x)*(t.y-r.y)-(i.y-t.y)*(t.x-r.x),u=(o.y-r.y)*(i.x-t.x)-(o.x-r.x)*(i.y-t.y);if(0!==u){var c=a/u,h=l/u;0<=c&&c<=1&&0<=h&&h<=1?(s=new n("Intersection"),s.appendPoint(new e.Point(t.x+c*(i.x-t.x),t.y+c*(i.y-t.y)))):s=new n}else s=new n(0===a||0===l?"Coincident":"Parallel");return s},e.Intersection.intersectLinePolygon=function(t,e,i){var r,o,s,a,l=new n,u=i.length;for(a=0;a<u;a++)r=i[a],o=i[(a+1)%u],s=n.intersectLineLine(t,e,r,o),l.appendPoints(s.points);return l.points.length>0&&(l.status="Intersection"),l},e.Intersection.intersectPolygonPolygon=function(t,e){var i,r=new n,o=t.length;for(i=0;i<o;i++){var s=t[i],a=t[(i+1)%o],l=n.intersectLinePolygon(s,a,e);r.appendPoints(l.points)}return r.points.length>0&&(r.status="Intersection"),r},e.Intersection.intersectPolygonRectangle=function(t,i,r){var o=i.min(r),s=i.max(r),a=new e.Point(s.x,o.y),l=new e.Point(o.x,s.y),u=n.intersectLinePolygon(o,a,t),c=n.intersectLinePolygon(a,s,t),h=n.intersectLinePolygon(s,l,t),f=n.intersectLinePolygon(l,o,t),d=new n;return d.appendPoints(u.points),d.appendPoints(c.points),d.appendPoints(h.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=n,e.Color.prototype={_tryParsingColor:function(t){var e;t in n.colorNameMap&&(t=n.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=n.sourceFromHex(t)),e||(e=n.sourceFromRgb(t)),e||(e=n.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,n,i){t/=255,n/=255,i/=255;var r,o,s,a=e.util.array.max([t,n,i]),l=e.util.array.min([t,n,i]);if(s=(a+l)/2,a===l)r=o=0;else{var u=a-l;switch(o=s>.5?u/(2-a-l):u/(a+l),a){case t:r=(n-i)/u+(n<i?6:0);break;case n:r=(i-t)/u+2;break;case i:r=(t-n)/u+4;break}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,i=this.getSource();return t=i[0].toString(16),t=1===t.length?"0"+t:t,e=i[1].toString(16),e=1===e.length?"0"+e:e,n=i[2].toString(16),n=1===n.length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=Math.round(255*e[3]),t=t.toString(16),t=1===t.length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),n=t[3];return this.setSource([e,e,e,n]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),i=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,i]),this},overlayWith:function(t){t instanceof n||(t=new n(t));var e,i=[],r=this.getAlpha(),o=.5,s=this.getSource(),a=t.getSource();for(e=0;e<3;e++)i.push(Math.round(s[e]*(1-o)+a[e]*o));return i[3]=r,this.setSource(i),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return n.fromSource(n.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(n.reRGBa);if(e){var i=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),r=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(i,10),parseInt(r,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=n.fromRgb,e.Color.fromHsl=function(t){return n.fromSource(n.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(n.reHSLa);if(e){var r,o,s,a=(parseFloat(e[1])%360+360)%360/360,l=parseFloat(e[2])/(/%$/.test(e[2])?100:1),u=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===l)r=o=s=u;else{var c=u<=.5?u*(l+1):u+l-u*l,h=2*u-c;r=i(h,c,a+1/3),o=i(h,c,a),s=i(h,c,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=n.fromHsl,e.Color.fromHex=function(t){return n.fromSource(n.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(n.reHex)){var e=t.slice(t.indexOf("#")+1),i=3===e.length||4===e.length,r=8===e.length||4===e.length,o=i?e.charAt(0)+e.charAt(0):e.substring(0,2),s=i?e.charAt(1)+e.charAt(1):e.substring(2,4),a=i?e.charAt(2)+e.charAt(2):e.substring(4,6),l=r?i?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new n;return e.setSource(t),e})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],i=["ns","nesw","ew","nwse"],r={},o="left",s="top",a="right",l="bottom",u="center",c={top:l,bottom:s,left:a,right:o,center:u},h=e.util.radiansToDegrees,f=Math.sign||function(t){return(t>0)-(t<0)||+t};function d(t,e){var n=t.angle+h(Math.atan2(e.y,e.x))+360;return Math.round(n%360/45)}function p(t,n){var i=n.transform.target,r=i.canvas,o=e.util.object.clone(n);o.target=i,r&&r.fire("object:"+t,o),i.fire(t,n)}function v(t,e){var n=e.canvas,i=n.uniScaleKey,r=t[i];return n.uniformScaling&&!r||!n.uniformScaling&&r}function g(t){return t.originX===u&&t.originY===u}function m(t,e,n){var i=t.lockScalingX,r=t.lockScalingY;return!(!i||!r)||(!(e||!i&&!r||!n)||(!(!i||"x"!==e)||!(!r||"y"!==e)))}function y(t,e,i){var r="not-allowed",o=v(t,i),s="";if(0!==e.x&&0===e.y?s="x":0===e.x&&0!==e.y&&(s="y"),m(i,s,o))return r;var a=d(i,e);return n[a]+"-resize"}function b(t,e,n){var r="not-allowed";if(0!==e.x&&n.lockSkewingY)return r;if(0!==e.y&&n.lockSkewingX)return r;var o=d(n,e)%4;return i[o]+"-resize"}function _(t,e,n){return t[n.canvas.altActionKey]?r.skewCursorStyleHandler(t,e,n):r.scaleCursorStyleHandler(t,e,n)}function w(t,e,n){var i=t[n.canvas.altActionKey];return 0===e.x?i?"skewX":"scaleY":0===e.y?i?"skewY":"scaleX":void 0}function x(t,e,n){return n.lockRotation?"not-allowed":e.cursorStyle}function S(t,e,n,i){return{e:t,transform:e,pointer:{x:n,y:i}}}function C(t){return function(e,n,i,r){var o=n.target,s=o.getCenterPoint(),a=o.translateToOriginPoint(s,n.originX,n.originY),l=t(e,n,i,r);return o.setPositionByOrigin(a,n.originX,n.originY),l}}function T(t,e){return function(n,i,r,o){var s=e(n,i,r,o);return s&&p(t,S(n,i,r,o)),s}}function k(t,n,i,r,o){var s=t.target,a=s.controls[t.corner],l=s.canvas.getZoom(),u=s.padding/l,c=s.toLocalPoint(new e.Point(r,o),n,i);return c.x>=u&&(c.x-=u),c.x<=-u&&(c.x+=u),c.y>=u&&(c.y-=u),c.y<=u&&(c.y+=u),c.x-=a.offsetX,c.y-=a.offsetY,c}function O(t){return t.flipX!==t.flipY}function A(t,e,n,i,r){if(0!==t[e]){var o=t._getTransformedDimensions()[i],s=r/o*t[n];t.set(n,s)}}function E(t,e,n,i){var r,u=e.target,c=u._getTransformedDimensions(0,u.skewY),f=k(e,e.originX,e.originY,n,i),d=Math.abs(2*f.x)-c.x,p=u.skewX;d<2?r=0:(r=h(Math.atan2(d/u.scaleX,c.y/u.scaleY)),e.originX===o&&e.originY===l&&(r=-r),e.originX===a&&e.originY===s&&(r=-r),O(u)&&(r=-r));var v=p!==r;if(v){var g=u._getTransformedDimensions().y;u.set("skewX",r),A(u,"skewY","scaleY","y",g)}return v}function F(t,e,n,i){var r,u=e.target,c=u._getTransformedDimensions(u.skewX,0),f=k(e,e.originX,e.originY,n,i),d=Math.abs(2*f.y)-c.y,p=u.skewY;d<2?r=0:(r=h(Math.atan2(d/u.scaleY,c.x/u.scaleX)),e.originX===o&&e.originY===l&&(r=-r),e.originX===a&&e.originY===s&&(r=-r),O(u)&&(r=-r));var v=p!==r;if(v){var g=u._getTransformedDimensions().x;u.set("skewY",r),A(u,"skewX","scaleX","x",g)}return v}function M(t,e,n,i){var r,l=e.target,c=l.skewX,h=e.originY;if(l.lockSkewingX)return!1;if(0===c){var f=k(e,u,u,n,i);r=f.x>0?o:a}else c>0&&(r=h===s?o:a),c<0&&(r=h===s?a:o),O(l)&&(r=r===o?a:o);e.originX=r;var d=T("skewing",C(E));return d(t,e,n,i)}function P(t,e,n,i){var r,a=e.target,c=a.skewY,h=e.originX;if(a.lockSkewingY)return!1;if(0===c){var f=k(e,u,u,n,i);r=f.y>0?s:l}else c>0&&(r=h===o?s:l),c<0&&(r=h===o?l:s),O(a)&&(r=r===s?l:s);e.originY=r;var d=T("skewing",C(F));return d(t,e,n,i)}function j(t,e,n,i){var r=e,o=r.target,s=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY);if(o.lockRotation)return!1;var a=Math.atan2(r.ey-s.y,r.ex-s.x),l=Math.atan2(i-s.y,n-s.x),u=h(l-a+r.theta),c=!0;if(o.snapAngle>0){var f=o.snapAngle,d=o.snapThreshold||f,p=Math.ceil(u/f)*f,v=Math.floor(u/f)*f;Math.abs(u-v)<d?u=v:Math.abs(u-p)<d&&(u=p)}return u<0&&(u=360+u),u%=360,c=o.angle!==u,o.angle=u,c}function R(t,e,n,i,r){r=r||{};var o,s,a,l,u,h,d=e.target,p=d.lockScalingX,y=d.lockScalingY,b=r.by,_=v(t,d),w=m(d,b,_),x=e.gestureScale;if(w)return!1;if(x)s=e.scaleX*x,a=e.scaleY*x;else{if(o=k(e,e.originX,e.originY,n,i),u="y"!==b?f(o.x):1,h="x"!==b?f(o.y):1,e.signX||(e.signX=u),e.signY||(e.signY=h),d.lockScalingFlip&&(e.signX!==u||e.signY!==h))return!1;if(l=d._getTransformedDimensions(),_&&!b){var S=Math.abs(o.x)+Math.abs(o.y),C=e.original,T=Math.abs(l.x*C.scaleX/d.scaleX)+Math.abs(l.y*C.scaleY/d.scaleY),O=S/T;s=C.scaleX*O,a=C.scaleY*O}else s=Math.abs(o.x*d.scaleX/l.x),a=Math.abs(o.y*d.scaleY/l.y);g(e)&&(s*=2,a*=2),e.signX!==u&&"y"!==b&&(e.originX=c[e.originX],s*=-1,e.signX=u),e.signY!==h&&"x"!==b&&(e.originY=c[e.originY],a*=-1,e.signY=h)}var A=d.scaleX,E=d.scaleY;return b?("x"===b&&d.set("scaleX",s),"y"===b&&d.set("scaleY",a)):(!p&&d.set("scaleX",s),!y&&d.set("scaleY",a)),A!==d.scaleX||E!==d.scaleY}function L(t,e,n,i){return R(t,e,n,i)}function D(t,e,n,i){return R(t,e,n,i,{by:"x"})}function I(t,e,n,i){return R(t,e,n,i,{by:"y"})}function z(t,e,n,i){return t[e.target.canvas.altActionKey]?r.skewHandlerX(t,e,n,i):r.scalingY(t,e,n,i)}function B(t,e,n,i){return t[e.target.canvas.altActionKey]?r.skewHandlerY(t,e,n,i):r.scalingX(t,e,n,i)}function q(t,e,n,i){var r=e.target,o=k(e,e.originX,e.originY,n,i),s=r.strokeWidth/(r.strokeUniform?r.scaleX:1),a=g(e)?2:1,l=r.width,u=Math.abs(o.x*a/r.scaleX)-s;return r.set("width",Math.max(u,0)),l!==u}function H(t,e,n,i){var r=e.target,o=n-e.offsetX,s=i-e.offsetY,a=!r.get("lockMovementX")&&r.left!==o,l=!r.get("lockMovementY")&&r.top!==s;return a&&r.set("left",o),l&&r.set("top",s),(a||l)&&p("moving",S(t,e,n,i)),a||l}r.scaleCursorStyleHandler=y,r.skewCursorStyleHandler=b,r.scaleSkewCursorStyleHandler=_,r.rotationWithSnapping=T("rotating",C(j)),r.scalingEqually=T("scaling",C(L)),r.scalingX=T("scaling",C(D)),r.scalingY=T("scaling",C(I)),r.scalingYOrSkewingX=z,r.scalingXOrSkewingY=B,r.changeWidth=T("resizing",C(q)),r.skewHandlerX=M,r.skewHandlerY=P,r.dragHandler=H,r.scaleOrSkewActionName=w,r.rotationStyleHandler=x,r.fireEvent=p,r.wrapWithFixedAnchor=C,r.wrapWithFireEvent=T,r.getLocalPoint=k,e.controlsUtils=r}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.degreesToRadians,i=e.controlsUtils;function r(t,e,n,i,r){i=i||{};var o,s=this.sizeX||i.cornerSize||r.cornerSize,a=this.sizeY||i.cornerSize||r.cornerSize,l="undefined"!==typeof i.transparentCorners?i.transparentCorners:r.transparentCorners,u=l?"stroke":"fill",c=!l&&(i.cornerStrokeColor||r.cornerStrokeColor),h=e,f=n;t.save(),t.fillStyle=i.cornerColor||r.cornerColor,t.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor,s>a?(o=s,t.scale(1,a/s),f=n*s/a):a>s?(o=a,t.scale(s/a,1),h=e*a/s):o=s,t.lineWidth=1,t.beginPath(),t.arc(h,f,o/2,0,2*Math.PI,!1),t[u](),c&&t.stroke(),t.restore()}function o(t,e,i,r,o){r=r||{};var s=this.sizeX||r.cornerSize||o.cornerSize,a=this.sizeY||r.cornerSize||o.cornerSize,l="undefined"!==typeof r.transparentCorners?r.transparentCorners:o.transparentCorners,u=l?"stroke":"fill",c=!l&&(r.cornerStrokeColor||o.cornerStrokeColor),h=s/2,f=a/2;t.save(),t.fillStyle=r.cornerColor||o.cornerColor,t.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor,t.lineWidth=1,t.translate(e,i),t.rotate(n(o.angle)),t[u+"Rect"](-h,-f,s,a),c&&t.strokeRect(-h,-f,s,a),t.restore()}i.renderCircleControl=r,i.renderSquareControl=o}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){for(var e in t)this[e]=t[e]}e.Control=n,e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){var n=t._controlsVisibility;return n&&"undefined"!==typeof n[e]?n[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,n){var i=e.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},n);return i},calcCornerCoords:function(t,n,i,r,o){var s,a,l,u,c=o?this.touchSizeX:this.sizeX,h=o?this.touchSizeY:this.sizeY;if(c&&h&&c!==h){var f=Math.atan2(h,c),d=Math.sqrt(c*c+h*h)/2,p=f-e.util.degreesToRadians(t),v=Math.PI/2-f-e.util.degreesToRadians(t);s=d*e.util.cos(p),a=d*e.util.sin(p),l=d*e.util.cos(v),u=d*e.util.sin(v)}else{var g=c&&h?c:n;d=.7071067812*g;p=e.util.degreesToRadians(45-t);s=l=d*e.util.cos(p),a=u=d*e.util.sin(p)}return{tl:{x:i-u,y:r-l},tr:{x:i+s,y:r-a},bl:{x:i-s,y:r+a},br:{x:i+u,y:r+l}}},render:function(t,n,i,r,o){switch(r=r||{},r.cornerStyle||o.cornerStyle){case"circle":e.controlsUtils.renderCircleControl.call(this,t,n,i,r,o);break;default:e.controlsUtils.renderSquareControl.call(this,t,n,i,r,o)}}}}(e),function(){function t(t,e){var n,r,o,s,a=t.getAttribute("style"),l=t.getAttribute("offset")||0;if(l=parseFloat(l)/(/%$/.test(l)?100:1),l=l<0?0:l>1?1:l,a){var u=a.split(/\s*;\s*/);for(""===u[u.length-1]&&u.pop(),s=u.length;s--;){var c=u[s].split(/\s*:\s*/),h=c[0].trim(),f=c[1].trim();"stop-color"===h?n=f:"stop-opacity"===h&&(o=f)}}return n||(n=t.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=t.getAttribute("stop-opacity")),n=new i.Color(n),r=n.getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=r*e,{offset:l,color:n.toRgb(),opacity:o}}function e(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}function n(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}var r=i.util.object.clone;function o(t,e,n,i){var r,o;Object.keys(e).forEach((function(t){r=e[t],"Infinity"===r?o=1:"-Infinity"===r?o=0:(o=parseFloat(e[t],10),"string"===typeof r&&/^(\d+\.\d+)%|(\d+)%$/.test(r)&&(o*=.01,"pixels"===i&&("x1"!==t&&"x2"!==t&&"r2"!==t||(o*=n.viewBoxWidth||n.width),"y1"!==t&&"y2"!==t||(o*=n.viewBoxHeight||n.height)))),e[t]=o}))}i.Gradient=i.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,n=this;Object.keys(t).forEach((function(e){n[e]=t[e]})),this.id?this.id+="_"+i.Object.__uid++:this.id=i.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var n=new i.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return i.util.populateWithProperties(this,e,t),e},toSVG:function(t,e){var n,o,s,a,l=r(this.coords,!0),u=(e=e||{},r(this.colorStops,!0)),c=l.r1>l.r2,h=this.gradientTransform?this.gradientTransform.concat():i.iMatrix.concat(),f=-this.offsetX,d=-this.offsetY,p=!!e.additionalTransform,v="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(u.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===v?(f/=t.width,d/=t.height):(f+=t.width/2,d+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(f-=t.pathOffset.x,d-=t.pathOffset.y),h[4]-=f,h[5]-=d,a='id="SVGID_'+this.id+'" gradientUnits="'+v+'"',a+=' gradientTransform="'+(p?e.additionalTransform+" ":"")+i.util.matrixToSVG(h)+'" ',"linear"===this.type?s=["<linearGradient ",a,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,'">\n']:"radial"===this.type&&(s=["<radialGradient ",a,' cx="',c?l.x1:l.x2,'" cy="',c?l.y1:l.y2,'" r="',c?l.r1:l.r2,'" fx="',c?l.x2:l.x1,'" fy="',c?l.y2:l.y1,'">\n']),"radial"===this.type){if(c)for(u=u.concat(),u.reverse(),n=0,o=u.length;n<o;n++)u[n].offset=1-u[n].offset;var g=Math.min(l.r1,l.r2);if(g>0){var m=Math.max(l.r1,l.r2),y=g/m;for(n=0,o=u.length;n<o;n++)u[n].offset+=y*(1-u[n].offset)}}for(n=0,o=u.length;n<o;n++){var b=u[n];s.push("<stop ",'offset="',100*b.offset+"%",'" style="stop-color:',b.color,"undefined"!==typeof b.opacity?";stop-opacity: "+b.opacity:";",'"/>\n')}return s.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),s.join("")},toLive:function(t){var e,n,r,o=i.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(o.x1,o.y1,o.x2,o.y2):"radial"===this.type&&(e=t.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),n=0,r=this.colorStops.length;n<r;n++){var s=this.colorStops[n].color,a=this.colorStops[n].opacity,l=this.colorStops[n].offset;"undefined"!==typeof a&&(s=new i.Color(s).setAlpha(a).toRgba()),e.addColorStop(l,s)}return e}}}),i.util.object.extend(i.Gradient,{fromElement:function(r,s,a,l){var u=parseFloat(a)/(/%$/.test(a)?100:1);u=u<0?0:u>1?1:u,isNaN(u)&&(u=1);var c,h,f,d,p=r.getElementsByTagName("stop"),v="userSpaceOnUse"===r.getAttribute("gradientUnits")?"pixels":"percentage",g=r.getAttribute("gradientTransform")||"",m=[],y=0,b=0;for("linearGradient"===r.nodeName||"LINEARGRADIENT"===r.nodeName?(c="linear",h=e(r)):(c="radial",h=n(r)),f=p.length;f--;)m.push(t(p[f],u));d=i.parseTransformAttribute(g),o(s,h,l,v),"pixels"===v&&(y=-s.left,b=-s.top);var _=new i.Gradient({id:r.getAttribute("id"),type:c,coords:h,colorStops:m,gradientUnits:v,gradientTransform:d,offsetX:y,offsetY:b});return _}})}(),function(){"use strict";var t=i.util.toFixed;i.Pattern=i.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=i.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!==typeof t.source)e&&e(this);else{var n=this;this.source=i.util.createImage(),i.util.loadImage(t.source,(function(t,i){n.source=t,e&&e(n,i)}),null,this.crossOrigin)}},toObject:function(e){var n,r,o=i.Object.NUM_FRACTION_DIGITS;return"string"===typeof this.source.src?n=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,o),offsetY:t(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},i.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"===typeof this.source?this.source():this.source,n=e.width/t.width,i=e.height/t.height,r=this.offsetX/t.width,o=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,o&&(i+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,r&&(n+=Math.abs(r))),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+n+'" height="'+i+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if("undefined"!==typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var n in"string"===typeof t&&(t=this._parseShadow(t)),t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),i=e.Shadow.reOffsetsAndBlur.exec(n)||[],r=n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseFloat(i[1],10)||0,offsetY:parseFloat(i[2],10)||0,blur:parseFloat(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var i=40,r=40,o=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),a=20,l=new e.Color(this.color);return t.width&&t.height&&(i=100*n((Math.abs(s.x)+this.blur)/t.width,o)+a,r=100*n((Math.abs(s.y)+this.blur)/t.height,o)+a),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(s.x,o)+'" dy="'+n(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+l.toRgb()+'" flood-opacity="'+l.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},n=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==n[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(i.StaticCanvas)i.warn("fabric.StaticCanvas is already defined.");else{var t=i.util.object.extend,e=i.util.getElementOffset,n=i.util.removeFromArray,r=i.util.toFixed,o=i.util.transformPoint,s=i.util.invertTransform,a=i.util.getNodeCanvas,l=i.util.createCanvasElement,u=new Error("Could not initialize `canvas` element");i.StaticCanvas=i.util.createClass(i.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:i.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,n),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,n),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,n),e.overlayColor&&this.setOverlayColor(e.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return i.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,i.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=i.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,n){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),n.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(t,e,n,r){return"string"===typeof e?i.util.loadImage(e,(function(e,o){if(e){var s=new i.Image(e,r);this[t]=s,s.canvas=this}n&&n(e,o)}),this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,e&&(e.canvas=this),n&&n(e,!1)),this},__setBgOverlayColor:function(t,e,n){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,n),this},_createCanvasElement:function(){var t=l();if(!t)throw u;if(t.style||(t.style={}),"undefined"===typeof t.getContext)throw u;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=i.util.getById(t)||this._createCanvasElement(),i.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;for(var i in e=e||{},t)n=t[i],e.cssOnly||(this._setBackstoreDimension(i,t[i]),n+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(i,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,n,i,r=this._activeObject,o=this.backgroundImage,s=this.overlayImage;for(this.viewportTransform=t,n=0,i=this._objects.length;n<i;n++)e=this._objects[n],e.group||e.setCoords(!0);return r&&r.setCoords(),o&&o.setCoords(!0),s&&s.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var n=t,i=this.viewportTransform.slice(0);t=o(t,s(this.viewportTransform)),i[0]=e,i[3]=e;var r=o(t,i);return i[4]+=n.x-r.x,i[5]+=n.y-r.y,this.setViewportTransform(i)},setZoom:function(t){return this.zoomToPoint(new i.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new i.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=i.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,n=this.height,r=s(this.viewportTransform);return t.tl=o({x:0,y:0},r),t.br=o({x:e,y:n},r),t.tr=new i.Point(t.br.x,t.tl.y),t.bl=new i.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),i.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,n=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var n,i;for(n=0,i=e.length;n<i;++n)e[n]&&e[n].render(t)},_renderBackgroundOrOverlay:function(t,e){var n=this[e+"Color"],i=this[e+"Image"],r=this.viewportTransform,o=this[e+"Vpt"];if(n||i){if(n){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=n.toLive?n.toLive(t,this):n,o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),t.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var s=n.gradientTransform||n.patternTransform;s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.fill(),t.restore()}i&&(t.save(),o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),i.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new i.Point(this.width/2,this.height/2)},centerObjectH:function(t){return this._centerObject(t,new i.Point(this.getCenterPoint().x,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new i.Point(t.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(t){var e=this.getCenterPoint();return this._centerObject(t,e)},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new i.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new i.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenterPoint(),e=s(this.viewportTransform);return o(t,e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var r=this.clipPath,o={version:i.version,objects:this._toObjects(e,n)};return r&&!r.excludeFromExport&&(o.clipPath=this._toObject(this.clipPath,e,n)),t(o,this.__serializeBgOverlay(e,n)),i.util.populateWithProperties(this,o,n),o},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(n){return this._toObject(n,t,e)}),this)},_toObject:function(t,e,n){var i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=i),r},__serializeBgOverlay:function(t,e){var n={},i=this.backgroundImage,r=this.overlayImage,o=this.backgroundColor,s=this.overlayColor;return o&&o.toObject?o.excludeFromExport||(n.background=o.toObject(e)):o&&(n.background=o),s&&s.toObject?s.excludeFromExport||(n.overlay=s.toObject(e)):s&&(n.overlay=s),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,t,e)),r&&!r.excludeFromExport&&(n.overlayImage=this._toObject(r,t,e)),n},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,o=e.width||this.width,s=e.height||this.height,a='viewBox="0 0 '+this.width+" "+this.height+'" ',l=i.Object.NUM_FRACTION_DIGITS;e.viewBox?a='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,a='viewBox="'+r(-n[4]/n[0],l)+" "+r(-n[5]/n[3],l)+" "+r(this.width/n[0],l)+" "+r(this.height/n[3],l)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',s,'" ',a,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",i.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+i.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this,e=["background","overlay"].map((function(e){var n=t[e+"Color"];if(n&&n.toLive){var r=t[e+"Vpt"],o=t.viewportTransform,s={width:t.width/(r?o[0]:1),height:t.height/(r?o[3]:1)};return n.toSVG(s,{additionalTransform:r?i.util.matrixToSVG(o):""})}}));return e.join("")},createSVGFontFacesMarkup:function(){var t,e,n,r,o,s,a,l,u,c="",h={},f=i.fontPaths,d=[];for(this._objects.forEach((function t(e){d.push(e),e._objects&&e._objects.forEach(t)})),l=0,u=d.length;l<u;l++)if(t=d[l],e=t.fontFamily,-1!==t.type.indexOf("text")&&!h[e]&&f[e]&&(h[e]=!0,t.styles))for(o in n=t.styles,n)for(a in r=n[o],r)s=r[a],e=s.fontFamily,!h[e]&&f[e]&&(h[e]=!0);for(var p in h)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",p,"';\n","\t\t\tsrc: url('",f[p],"');\n","\t\t}\n"].join("");return c&&(c=['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")),c},_setSVGObjects:function(t,e){var n,i,r,o=this._objects;for(i=0,r=o.length;i<r;i++)n=o[i],n.excludeFromExport||this._setSVGObject(t,n,e)},_setSVGObject:function(t,e,n){t.push(e.toSVG(n))},_setSVGBgOverlayImage:function(t,e,n){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(n))},_setSVGBgOverlayColor:function(t,e){var n=this[e+"Color"],r=this.viewportTransform,o=this.width,s=this.height;if(n)if(n.toLive){var a=n.repeat,l=i.util.invertTransform(r),u=this[e+"Vpt"],c=u?i.util.matrixToSVG(l):"";t.push('<rect transform="'+c+" translate(",o/2,",",s/2,')"',' x="',n.offsetX-o/2,'" y="',n.offsetY-s/2,'" ','width="',"repeat-y"===a||"no-repeat"===a?n.source.width:o,'" height="',"repeat-x"===a||"no-repeat"===a?n.source.height:s,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,i,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(r=o._objects,e=r.length;e--;)i=r[e],n(this._objects,i),this._objects.unshift(i);else n(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,i,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(r=o._objects,e=0;e<r.length;e++)i=r[e],n(this._objects,i),this._objects.push(i);else n(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var i,r,o,s,a,l=this._activeObject,u=0;if(t===l&&"activeSelection"===t.type)for(a=l._objects,i=0;i<a.length;i++)r=a[i],o=this._objects.indexOf(r),o>0+u&&(s=o-1,n(this._objects,r),this._objects.splice(s,0,r)),u++;else o=this._objects.indexOf(t),0!==o&&(s=this._findNewLowerIndex(t,o,e),n(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,n){var i,r;if(n)for(i=e,r=e-1;r>=0;--r){var o=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(o){i=r;break}}else i=e-1;return i},bringForward:function(t,e){if(!t)return this;var i,r,o,s,a,l=this._activeObject,u=0;if(t===l&&"activeSelection"===t.type)for(a=l._objects,i=a.length;i--;)r=a[i],o=this._objects.indexOf(r),o<this._objects.length-1-u&&(s=o+1,n(this._objects,r),this._objects.splice(s,0,r)),u++;else o=this._objects.indexOf(t),o!==this._objects.length-1&&(s=this._findNewUpperIndex(t,o,e),n(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,n){var i,r,o;if(n)for(i=e,r=e+1,o=this._objects.length;r<o;++r){var s=t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t);if(s){i=r;break}}else i=e+1;return i},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),i.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),i.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(i.StaticCanvas.prototype,i.Observable),t(i.StaticCanvas.prototype,i.Collection),t(i.StaticCanvas.prototype,i.DataURLExporter),t(i.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=l();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"setLineDash":return"undefined"!==typeof n.setLineDash;default:return null}}}),i.StaticCanvas.prototype.toJSON=i.StaticCanvas.prototype.toObject,i.isLikelyNode&&(i.StaticCanvas.prototype.createPNGStream=function(){var t=a(this.lowerCanvasEl);return t&&t.createPNGStream()},i.StaticCanvas.prototype.createJPEGStream=function(t){var e=a(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),i.BaseBrush=i.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,n=t.contextTop,r=t.getZoom();t&&t._isRetinaScaling()&&(r*=i.devicePixelRatio),n.shadowColor=e.color,n.shadowBlur=e.blur*r,n.shadowOffsetX=e.offsetX*r,n.shadowOffsetY=e.offsetY*r}},needsFullRender:function(){var t=new i.Color(this.color);return t.getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),function(){i.PencilBrush=i.util.createClass(i.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(t){this.canvas=t,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(t,e,n){var i=e.midPointFrom(n);return t.quadraticCurveTo(e.x,e.y,i.x,i.y),i},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this.drawStraightLine=e.e[this.straightLineKey],this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&(this.drawStraightLine=e.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._captureDrawingPath(t)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,i=n.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,n[i-2],n[i-1],!0),r.stroke(),r.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new i.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(t){var e=new i.Point(t.x,t.y);return this._addPoint(e)},_render:function(t){var e,n,r=this._points[0],o=this._points[1];if(t=t||this.canvas.contextTop,this._saveAndTransform(t),t.beginPath(),2===this._points.length&&r.x===o.x&&r.y===o.y){var s=this.width/1e3;r=new i.Point(r.x,r.y),o=new i.Point(o.x,o.y),r.x-=s,o.x+=s}for(t.moveTo(r.x,r.y),e=1,n=this._points.length;e<n;e++)this._drawSegment(t,r,o),r=this._points[e],o=this._points[e+1];t.lineTo(r.x,r.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=this.width/1e3;return i.util.getSmoothPathFromPoints(t,e)},_isEmptySVGPath:function(t){var e=i.util.joinPath(t);return"M 0 0 Q 0 0 0 0 L 0 0"===e},createPath:function(t){var e=new i.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new i.Shadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var n,i,r=this.canvas.getZoom(),o=Math.pow(e/r,2),s=t.length-1,a=t[0],l=[a];for(n=1;n<s-1;n++)i=Math.pow(a.x-t[n].x,2)+Math.pow(a.y-t[n].y,2),i>=o&&(a=t[n],l.push(a));return l.push(t[s]),l},_finalizeAndAddPath:function(){var t=this.canvas.contextTop;t.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(e))this.canvas.requestRenderAll();else{var n=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:n}),this.canvas.add(n),this.canvas.requestRenderAll(),n.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:n})}}})}(),i.CircleBrush=i.util.createClass(i.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,e),n.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,n=this.canvas.contextTop,i=this.points;for(this._saveAndTransform(n),t=0,e=i.length;t<e;t++)this.dot(n,i[t]);n.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){var t,e,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(t=0,e=this.points.length;t<e;t++){var o=this.points[t],s=new i.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(s.shadow=new i.Shadow(this.shadow)),r.push(s)}var a=new i.Group(r);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(t){var e=new i.Point(t.x,t.y),n=i.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new i.Color(this.color).setAlpha(i.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=r,this.points.push(e),e}}),i.SprayBrush=i.util.createClass(i.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var o=this.sprayChunks[n],s=0,a=o.length;s<a;s++){var l=new i.Rect({width:o[s].width,height:o[s].width,left:o[s].x+1,top:o[s].y+1,originX:"center",originY:"center",fill:this.color});e.push(l)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var u=new i.Group(e);this.shadow&&u.set("shadow",new i.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,n,i,r={};for(n=0,i=t.length;n<i;n++)e=t[n].left+""+t[n].top,r[e]||(r[e]=t[n]);var o=[];for(e in r)o.push(r[e]);return o},render:function(t){var e,n,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),e=0,n=t.length;e<n;e++){var r=t[e];"undefined"!==typeof r.opacity&&(i.globalAlpha=r.opacity),i.fillRect(r.x,r.y,r.width,r.width)}i.restore()},_render:function(){var t,e,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);n.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,n,r,o,s=this.width/2;for(o=0;o<this.density;o++){e=i.util.getRandomInt(t.x-s,t.x+s),n=i.util.getRandomInt(t.y-s,t.y+s),r=this.dotWidthVariance?i.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new i.Point(e,n);a.width=r,this.randomOpacity&&(a.opacity=i.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),i.PatternBrush=i.util.createClass(i.PencilBrush,{getPatternSrc:function(){var t=20,e=5,n=i.util.createCanvasElement(),r=n.getContext("2d");return n.width=n.height=t+e,r.fillStyle=this.color,r.beginPath(),r.arc(t/2,t/2,t/2,0,2*Math.PI,!1),r.closePath(),r.fill(),n},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(t){return t.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(t){this.callSuper("_setBrushStyles",t),t.strokeStyle=this.getPattern(t)},createPath:function(t){var e=this.callSuper("createPath",t),n=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new i.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),e}}),function(){var t=i.util.getPointer,e=i.util.degreesToRadians,n=i.util.isTouchEvent;for(var r in i.Canvas=i.util.createClass(i.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=i.PencilBrush&&new i.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,n,i=this.getActiveObjects();if(i.length>0&&!this.preserveObjectStacking){e=[],n=[];for(var r=0,o=this._objects.length;r<o;r++)t=this._objects[r],-1===i.indexOf(t)?e.push(t):n.push(t);i.length>1&&(this._activeObject._objects=n),e.push.apply(e,n)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){var n=t.calcTransformMatrix(),r=i.util.invertTransform(n),o=this.restorePointerVpt(e);return i.util.transformPoint(o,r)},isTargetTransparent:function(t,e,n){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var r=this._normalizePointer(t,{x:e,y:n}),o=Math.max(t.cacheTranslationX+r.x*t.zoomX,0),s=Math.max(t.cacheTranslationY+r.y*t.zoomY,0),a=i.util.isTransparent(t._cacheContext,Math.round(o),Math.round(s),this.targetFindTolerance);return a}var l=this.contextCache,u=t.selectionBackgroundColor,c=this.viewportTransform;t.selectionBackgroundColor="",this.clearContext(l),l.save(),l.transform(c[0],c[1],c[2],c[3],c[4],c[5]),t.render(l),l.restore(),t.selectionBackgroundColor=u;a=i.util.isTransparent(l,e,n,this.targetFindTolerance);return a},_isSelectionKeyPressed:function(t){var e=!1;return e=Array.isArray(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey],e},_shouldClearSelection:function(t,e){var n=this.getActiveObjects(),i=this._activeObject;return!e||e&&i&&n.length>1&&-1===n.indexOf(e)&&i!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&i&&i!==e},_shouldCenterTransform:function(t,e,n){var i;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?i=this.centeredScaling||t.centeredScaling:"rotate"===e&&(i=this.centeredRotation||t.centeredRotation),i?!n:n},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(n.y="top"),n},_getActionFromCorner:function(t,e,n,i){if(!e||!t)return"drag";var r=i.controls[e];return r.getActionName(n,r,i)},_setupCurrentTransform:function(t,n,r){if(n){var o=this.getPointer(t),s=n.__corner,a=n.controls[s],l=r&&s?a.getActionHandler(t,n,a):i.controlsUtils.dragHandler,u=this._getActionFromCorner(r,s,t,n),c=this._getOriginFromCorner(n,s),h=t[this.centeredKey],f={target:n,action:u,actionHandler:l,corner:s,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:o.x-n.left,offsetY:o.y-n.top,originX:c.x,originY:c.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:e(n.angle),width:n.width*n.scaleX,shiftKey:t.shiftKey,altKey:h,original:i.util.saveObjectTransform(n)};this._shouldCenterTransform(n,u,h)&&(f.originX="center",f.originY="center"),f.original.originX=c.x,f.original.originY=c.y,this._currentTransform=f,this._beforeTransform(t)}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,n=new i.Point(e.ex,e.ey),r=i.util.transformPoint(n,this.viewportTransform),o=new i.Point(e.ex+e.left,e.ey+e.top),s=i.util.transformPoint(o,this.viewportTransform),a=Math.min(r.x,s.x),l=Math.min(r.y,s.y),u=Math.max(r.x,s.x),c=Math.max(r.y,s.y),h=this.selectionLineWidth/2;this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(a,l,u-a,c-l)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,a+=h,l+=h,u-=h,c-=h,i.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(a,l,u-a,c-l))},findTarget:function(t,e){if(!this.skipTargetFind){var i,r,o=!0,s=this.getPointer(t,o),a=this._activeObject,l=this.getActiveObjects(),u=n(t),c=l.length>1&&!e||1===l.length;if(this.targets=[],c&&a._findTargetCorner(s,u))return a;if(l.length>1&&!e&&a===this._searchPossibleTargets([a],s))return a;if(1===l.length&&a===this._searchPossibleTargets([a],s)){if(!this.preserveObjectStacking)return a;i=a,r=this.targets,this.targets=[]}var h=this._searchPossibleTargets(this._objects,s);return t[this.altSelectionKey]&&h&&i&&h!==i&&(h=i,this.targets=r),h}},_checkTarget:function(t,e,n){if(e&&e.visible&&e.evented&&e.containsPoint(t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;var i=this.isTargetTransparent(e,n.x,n.y);if(!i)return!0}},_searchPossibleTargets:function(t,e){var n,r,o=t.length;while(o--){var s=t[o],a=s.group?this._normalizePointer(s.group,e):e;if(this._checkTarget(a,s,e)){n=t[o],n.subTargetCheck&&n instanceof i.Group&&(r=this._searchPossibleTargets(n._objects,e),r&&this.targets.push(r));break}}return n},restorePointerVpt:function(t){return i.util.transformPoint(t,i.util.invertTransform(this.viewportTransform))},getPointer:function(e,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var i,r=t(e),o=this.upperCanvasEl,s=o.getBoundingClientRect(),a=s.width||0,l=s.height||0;a&&l||("top"in s&&"bottom"in s&&(l=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,n||(r=this.restorePointerVpt(r));var u=this.getRetinaScaling();return 1!==u&&(r.x/=u,r.y/=u),i=0===a||0===l?{width:1,height:1}:{width:o.width/a,height:o.height/l},{x:r.x*i.width,y:r.y*i.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),i.util.addClass(n,"upper-canvas "+t),this.wrapperEl.appendChild(n),this._copyCanvasStyle(e,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=i.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),i.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),i.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,n=this.height||t.height;i.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=n,i.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var n=!1,i=this.getActiveObjects(),r=[],o=[];t.forEach((function(t){-1===i.indexOf(t)&&(n=!0,t.fire("deselected",{e:e,target:t}),o.push(t))})),i.forEach((function(i){-1===t.indexOf(i)&&(n=!0,i.fire("selected",{e:e,target:i}),r.push(i))})),t.length>0&&i.length>0?n&&this.fire("selection:updated",{e:e,selected:r,deselected:o}):i.length>0?this.fire("selection:created",{e:e,selected:r}):t.length>0&&this.fire("selection:cleared",{e:e,deselected:o})},setActiveObject:function(t,e){var n=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(n,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&(!!this._discardActiveObject(e,t)&&(!t.onSelect({e:e})&&(this._activeObject=t,!0)))},_discardActiveObject:function(t,e){var n=this._activeObject;if(n){if(n.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),n=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:n,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){i.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,i.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,n){var i=this._realizeGroupTransformOnObject(t),r=this.callSuper("_toObject",t,e,n);return this._unwindGroupTransformOnObject(t,i),r},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],n={};return e.forEach((function(e){n[e]=t[e]})),i.util.addTransformToObject(t,this._activeObject.calcOwnMatrix()),n}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,n){var i=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,n),this._unwindGroupTransformOnObject(e,i)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),i.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),i.StaticCanvas)"prototype"!==r&&(i.Canvas[r]=i.StaticCanvas[r])}(),function(){var t=i.util.addListener,e=i.util.removeListener,n=3,r=2,o=1,s={passive:!1};function a(t,e){return t.button&&t.button===e-1}i.util.object.extend(i.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var n=this.upperCanvasEl,r=this._getEventPrefix();t(i.window,"resize",this._onResize),t(n,r+"down",this._onMouseDown),t(n,r+"move",this._onMouseMove,s),t(n,r+"out",this._onMouseOut),t(n,r+"enter",this._onMouseEnter),t(n,"wheel",this._onMouseWheel),t(n,"contextmenu",this._onContextMenu),t(n,"dblclick",this._onDoubleClick),t(n,"dragover",this._onDragOver),t(n,"dragenter",this._onDragEnter),t(n,"dragleave",this._onDragLeave),t(n,"drop",this._onDrop),this.enablePointerEvents||t(n,"touchstart",this._onTouchStart,s),"undefined"!==typeof eventjs&&e in eventjs&&(eventjs[e](n,"gesture",this._onGesture),eventjs[e](n,"drag",this._onDrag),eventjs[e](n,"orientation",this._onOrientationChange),eventjs[e](n,"shake",this._onShake),eventjs[e](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(e,"remove");var t=this._getEventPrefix();e(i.document,t+"up",this._onMouseUp),e(i.document,"touchend",this._onTouchEnd,s),e(i.document,t+"move",this._onMouseMove,s),e(i.document,"touchmove",this._onMouseMove,s)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var n=this;this._hoveredTargets.forEach((function(i){n.fire("mouse:out",{target:e,e:t}),i&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[]},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onDrop:function(t){return this._simpleEventHandler("drop:before",t),this._simpleEventHandler("drop",t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(n){n.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(n)),this.__onMouseDown(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();t(i.document,"touchend",this._onTouchEnd,s),t(i.document,"touchmove",this._onMouseMove,s),e(r,o+"down",this._onMouseDown)},_onMouseDown:function(n){this.__onMouseDown(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();e(r,o+"move",this._onMouseMove,s),t(i.document,o+"up",this._onMouseUp),t(i.document,o+"move",this._onMouseMove,s)},_onTouchEnd:function(n){if(!(n.touches.length>0)){this.__onMouseUp(n),this._resetTransformEventData(),this.mainTouchId=null;var r=this._getEventPrefix();e(i.document,"touchend",this._onTouchEnd,s),e(i.document,"touchmove",this._onMouseMove,s);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(o.upperCanvasEl,r+"down",o._onMouseDown),o._willAddMouseDown=0}),400)}},_onMouseUp:function(n){this.__onMouseUp(n),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(n)&&(e(i.document,o+"up",this._onMouseUp),e(i.document,o+"move",this._onMouseMove,s),t(r,o+"move",this._onMouseMove,s))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!==!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,s=this._currentTransform,l=this._groupSelector,u=!1,c=!l||0===l.left&&0===l.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),a(t,n))this.fireRightClick&&this._handleEvent(t,"up",n,c);else{if(a(t,r))return this.fireMiddleClick&&this._handleEvent(t,"up",r,c),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else if(this._isMainEvent(t)){if(s&&(this._finalizeCurrentTransform(t),u=s.actionPerformed),!c){var h=e===this._activeObject;this._maybeGroupObjects(t),u||(u=this._shouldRender(e)||!h&&e===this._activeObject)}var f,d;if(e){if(f=e._findTargetCorner(this.getPointer(t,!0),i.util.isTouchEvent(t)),e.selectable&&e!==this._activeObject&&"up"===e.activeOn)this.setActiveObject(e,t),u=!0;else{var p=e.controls[f],v=p&&p.getMouseUpHandler(t,e,p);v&&(d=this.getPointer(t),v(t,s,d.x,d.y))}e.isMoving=!1}if(s&&(s.target!==e||s.corner!==f)){var g=s.target&&s.target.controls[s.corner],m=g&&g.getMouseUpHandler(t,e,p);d=d||this.getPointer(t),m&&m(t,s,d.x,d.y)}this._setCursorFromEvent(t,e),this._handleEvent(t,"up",o,c),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),u?this.requestRenderAll():c||this.renderTop()}}},_simpleEventHandler:function(t,e){var n=this.findTarget(e),i=this.targets,r={e:e,target:n,subTargets:i};if(this.fire(t,r),n&&n.fire(t,r),!i)return n;for(var o=0;o<i.length;o++)i[o].fire(t,r);return n},_handleEvent:function(t,e,n,i){var r=this._target,s=this.targets||[],a={e:t,target:r,subTargets:s,button:n||o,isClick:i||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(a.currentTarget=this.findTarget(t),a.currentSubTargets=this.targets),this.fire("mouse:"+e,a),r&&r.fire("mouse"+e,a);for(var l=0;l<s.length;l++)s[l].fire("mouse"+e,a)},_finalizeCurrentTransform:function(t){var e=this._currentTransform,n=e.target,i={e:t,target:n,transform:e,action:e.action};n._scaling&&(n._scaling=!1),n.setCoords(),(e.actionPerformed||this.stateful&&n.hasStateChanged())&&this._fire("modified",i)},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(a(t,n))this.fireRightClick&&this._handleEvent(t,"down",n);else if(a(t,r))this.fireMiddleClick&&this._handleEvent(t,"down",r);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var o=this._pointer;this._previousPointer=o;var s=this._shouldRender(e),l=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):l&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),e){var u=e===this._activeObject;e.selectable&&"down"===e.activeOn&&this.setActiveObject(e,t);var c=e._findTargetCorner(this.getPointer(t,!0),i.util.isTouchEvent(t));if(e.__corner=c,e===this._activeObject&&(c||!l)){this._setupCurrentTransform(t,e,u);var h=e.controls[c],f=(o=this.getPointer(t),h&&h.getMouseDownHandler(t,e,h));f&&f(t,this._currentTransform,o.x,o.y)}}this._handleEvent(t,"down"),(s||l)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,n;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var i=this._groupSelector;i?(n=this._absolutePointer,i.left=n.x-i.ex,i.top=n.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var n=this._hoveredTarget,i=this._hoveredTargets,r=this.targets,o=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:i[s],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var n=this._draggedoverTarget,i=this._hoveredTargets,r=this.targets,o=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(r[s],e,{oldTarget:i[s],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,n){var i,r,o,s,a=n.oldTarget,l=a!==t,u=n.canvasEvtIn,c=n.canvasEvtOut;l&&(i={e:e,target:t,previousTarget:a},r={e:e,target:a,nextTarget:t}),s=t&&l,o=a&&l,o&&(c&&this.fire(c,r),a.fire(n.evtOut,r)),s&&(u&&this.fire(u,i),t.fire(n.evtIn,i))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.shiftKey=t.shiftKey,n.altKey=t[this.centeredKey],this._performTransformAction(t,n,e),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,n){var i=n.x,r=n.y,o=e.action,s=!1,a=e.actionHandler;a&&(s=a(t,e,i,r)),"drag"===o&&s&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s},_fire:i.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var n=e.hoverCursor||this.hoverCursor,i=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!i||!i.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));r?this.setCursor(this.getCornerCursor(r,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){n=t.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(t,e,n){var i=e.controls[t];return i.cursorStyleHandler(n,i,e)}})}(),function(){var t=Math.min,e=Math.max;i.util.object.extend(i.Canvas.prototype,{_shouldGroup:function(t,e){var n=this._activeObject;return n&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(n!==e||"activeSelection"===n.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var n=this._activeObject;n.__corner||(e!==n||(e=this.findTarget(t,!0),e&&e.selectable))&&(n&&"activeSelection"===n.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var n=this._activeObject,i=n._objects.slice(0);n.contains(t)?(n.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),e)):(n.addWithUpdate(t),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(i,e)},_createActiveSelection:function(t,e){var n=this.getActiveObjects(),i=this._createGroup(t);this._hoveredTarget=i,this._setActiveObject(i,e),this._fireSelectionEvents(n,e)},_createGroup:function(t){var e=this._objects,n=e.indexOf(this._activeObject)<e.indexOf(t),r=n?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new i.ActiveSelection(r,{canvas:this})},_groupSelectedObjects:function(t){var e,n=this._collectObjects(t);1===n.length?this.setActiveObject(n[0],t):n.length>1&&(e=new i.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(n){for(var r,o=[],s=this._groupSelector.ex,a=this._groupSelector.ey,l=s+this._groupSelector.left,u=a+this._groupSelector.top,c=new i.Point(t(s,l),t(a,u)),h=new i.Point(e(s,l),e(a,u)),f=!this.selectionFullyContained,d=s===l&&a===u,p=this._objects.length;p--;)if(r=this._objects[p],r&&r.selectable&&r.visible&&(f&&r.intersectsWithRect(c,h,!0)||r.isContainedWithinRect(c,h,!0)||f&&r.containsPoint(c,null,!0)||f&&r.containsPoint(h,null,!0))&&(o.push(r),d))break;return o.length>1&&(o=o.filter((function(t){return!t.onSelect({e:n})}))),o},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){i.util.object.extend(i.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",n=t.quality||1,r=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(r,t);return i.util.toDataURL(o,e,n)},toCanvasElement:function(t,e){t=t||1,e=e||{};var n=(e.width||this.width)*t,r=(e.height||this.height)*t,o=this.getZoom(),s=this.width,a=this.height,l=o*t,u=this.viewportTransform,c=(u[4]-(e.left||0))*t,h=(u[5]-(e.top||0))*t,f=this.interactive,d=[l,0,0,l,c,h],p=this.enableRetinaScaling,v=i.util.createCanvasElement(),g=this.contextTop;return v.width=n,v.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=d,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(v.getContext("2d"),this._objects),this.viewportTransform=u,this.width=s,this.height=a,this.calcViewportBoundaries(),this.interactive=f,this.enableRetinaScaling=p,this.contextTop=g,v}})}(),i.util.object.extend(i.StaticCanvas.prototype,{loadFromJSON:function(t,e,n){if(t){var r="string"===typeof t?JSON.parse(t):i.util.object.clone(t),o=this,s=r.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(t){o.clear(),o._setBgOverlay(r,(function(){s?o._enlivenObjects([s],(function(n){o.clipPath=n[0],o.__setupCanvas.call(o,r,t,a,e)})):o.__setupCanvas.call(o,r,t,a,e)}))}),n),this}},__setupCanvas:function(t,e,n,i){var r=this;e.forEach((function(t,e){r.insertAt(t,e)})),this.renderOnAddRemove=n,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),i&&i()},_setBgOverlay:function(t,e){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var i=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,n,i),this.__setBgOverlay("overlayImage",t.overlayImage,n,i),this.__setBgOverlay("backgroundColor",t.background,n,i),this.__setBgOverlay("overlayColor",t.overlay,n,i)}else e&&e()},__setBgOverlay:function(t,e,n,r){var o=this;if(!e)return n[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?i.util.enlivenObjects([e],(function(e){o[t]=e[0],n[t]=!0,r&&r()})):this["set"+i.util.string.capitalize(t,!0)](e,(function(){n[t]=!0,r&&r()}))},_enlivenObjects:function(t,e,n){t&&0!==t.length?i.util.enlivenObjects(t,(function(t){e&&e(t)}),null,n):e&&e([])},_toDataURL:function(t,e){this.clone((function(n){e(n.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,n){this.clone((function(i){n(i.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(n,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=i.util.createCanvasElement();e.width=this.width,e.height=this.height;var n=new i.Canvas(e);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),t&&t(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r=e.util.toFixed,o=e.util.string.capitalize,s=e.util.degreesToRadians,a=!e.isLikelyNode,l=2;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var n=e.perfLimitSizeTotal,i=t.width,r=t.height,o=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(i<=o&&r<=o&&i*r<=n)return i<s&&(t.width=s),r<s&&(t.height=s),t;var a=i/r,l=e.util.limitDimsByArea(a,n),u=e.util.capValue,c=u(s,l.x,o),h=u(s,l.y,o);return i>c&&(t.zoomX/=i/c,t.width=c,t.capped=!0),r>h&&(t.zoomY/=r/h,t.height=h,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),n=e.x*t.scaleX/this.scaleX,i=e.y*t.scaleY/this.scaleY;return{width:n+l,height:i+l,zoomX:t.scaleX,zoomY:t.scaleY,x:n,y:i}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var n=t._currentTransform.target,i=t._currentTransform.action;if(this===n&&i.slice&&"scale"===i.slice(0,5))return!1}var r,o,s=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),l=e.minCacheSideLimit,u=a.width,c=a.height,h=a.zoomX,f=a.zoomY,d=u!==this.cacheWidth||c!==this.cacheHeight,p=this.zoomX!==h||this.zoomY!==f,v=d||p,g=0,m=0,y=!1;if(d){var b=this._cacheCanvas.width,_=this._cacheCanvas.height,w=u>b||c>_,x=(u<.9*b||c<.9*_)&&b>l&&_>l;y=w||x,w&&!a.capped&&(u>l||c>l)&&(g=.1*u,m=.1*c)}return this instanceof e.Text&&this.path&&(v=!0,y=!0,g+=this.getHeightOfLine(0)*this.zoomX,m+=this.getHeightOfLine(0)*this.zoomY),!!v&&(y?(s.width=Math.ceil(u+g),s.height=Math.ceil(c+m)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),r=a.x/2,o=a.y/2,this.cacheTranslationX=Math.round(s.width/2-r)+r,this.cacheTranslationY=Math.round(s.height/2-o)+o,this.cacheWidth=u,this.cacheHeight=c,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(h,f),this.zoomX=h,this.zoomY=f,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,n=this.calcTransformMatrix(!e);t.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,i={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:r(this.left,n),top:r(this.top,n),width:r(this.width,n),height:r(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:r(this.strokeMiterLimit,n),scaleX:r(this.scaleX,n),scaleY:r(this.scaleY,n),angle:r(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:r(this.skewX,n),skewY:r(this.skewY,n)};return this.clipPath&&!this.clipPath.excludeFromExport&&(i.clipPath=this.clipPath.toObject(t),i.clipPath.inverted=this.clipPath.inverted,i.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,i,t),this.includeDefaultValues||(i=this._removeDefaultValues(i)),i},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype,i=n.stateProperties;return i.forEach((function(e){"left"!==e&&"top"!==e&&(t[e]===n[e]&&delete t[e],Array.isArray(t[e])&&Array.isArray(n[e])&&0===t[e].length&&0===n[e].length&&delete t[e])})),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var t=e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,n=t.scaleY;if(this.canvas){var i=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();e*=i*r,n*=i*r}return{scaleX:e,scaleY:n}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,n){var i="scaleX"===t||"scaleY"===t,r=this[t]!==n,o=!1;return i&&(n=this._constrainScale(n)),"scaleX"===t&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==t||!n||n instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",n):n=new e.Shadow(n),this[t]=n,r&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t,n){if(t.save(),n.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",n.absolutePositioned){var i=e.util.invertTransform(this.calcTransformMatrix());t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}n.transform(t),t.scale(1/n.zoomX,1/n.zoomY),t.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),t.restore()},drawObject:function(t,e){var n=this.fill,i=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath),this.fill=n,this.stroke=i},_drawClipPath:function(t,e){e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t,e))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!t){var e=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-n/2,e,n)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var n=e.stroke;n&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(t,n):(t.strokeStyle=n.toLive(t,this),this._applyPatternGradientTransform(t,n)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var n=e.fill;n&&(n.toLive?(t.fillStyle=n.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=n)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),t.setLineDash(e))},_renderControls:function(t,n){var i,r,o,a=this.getViewportTransform(),l=this.calcTransformMatrix();n=n||{},r="undefined"!==typeof n.hasBorders?n.hasBorders:this.hasBorders,o="undefined"!==typeof n.hasControls?n.hasControls:this.hasControls,l=e.util.multiplyTransformMatrices(a,l),i=e.util.qrDecompose(l),t.save(),t.translate(i.translateX,i.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(i.angle-=180),t.rotate(s(this.group?i.angle:this.angle)),n.forActiveSelection||this.group?r&&this.drawBordersInGroup(t,i,n):r&&this.drawBorders(t,n),o&&this.drawControls(t,n),t.restore()},_setShadow:function(t){if(this.shadow){var n,i=this.shadow,r=this.canvas,o=r&&r.viewportTransform[0]||1,s=r&&r.viewportTransform[3]||1;n=i.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(o*=e.devicePixelRatio,s*=e.devicePixelRatio),t.shadowColor=i.color,t.shadowBlur=i.blur*e.browserShadowBlurConstant*(o+s)*(n.scaleX+n.scaleY)/4,t.shadowOffsetX=i.offsetX*o*n.scaleX,t.shadowOffsetY=i.offsetY*s*n.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var n=e.gradientTransform||e.patternTransform,i=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,i,r):t.transform(1,0,0,1,i,r),n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:r}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group){var e=this.getObjectScaling();t.scale(1/e.scaleX,1/e.scaleY)}else this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}},_applyPatternForTransformedGradient:function(t,n){var i,r=this._limitCacheSize(this._getCacheCanvasDimensions()),o=e.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),a=r.x/this.scaleX/s,l=r.y/this.scaleY/s;o.width=a,o.height=l,i=o.getContext("2d"),i.beginPath(),i.moveTo(0,0),i.lineTo(a,0),i.lineTo(a,l),i.lineTo(0,l),i.closePath(),i.translate(a/2,l/2),i.scale(r.zoomX/this.scaleX/s,r.zoomY/this.scaleY/s),this._applyPatternGradientTransform(i,n),i.fillStyle=n.toLive(t),i.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/r.zoomX,s*this.scaleY/r.zoomY),t.strokeStyle=i.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=e.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,n.x+=t.offsetLeft,n.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(n,"center","center")},clone:function(t,n){var i=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(i,t):e.Object._fromObject("Object",i,t)},cloneAsImage:function(t,n){var i=this.toCanvasElement(n);return t&&t(new e.Image(i)),this},toCanvasElement:function(t){t||(t={});var n=e.util,i=n.saveObjectTransform(this),r=this.group,o=this.shadow,s=Math.abs,a=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&n.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var l,u,c,h,f=e.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),p=this.shadow,v={x:0,y:0};p&&(u=p.blur,l=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),v.x=2*Math.round(s(p.offsetX)+u)*s(l.scaleX),v.y=2*Math.round(s(p.offsetY)+u)*s(l.scaleY)),c=d.width+v.x,h=d.height+v.y,f.width=Math.ceil(c),f.height=Math.ceil(h);var g=new e.StaticCanvas(f,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(g.width/2,g.height/2),"center","center");var m=this.canvas;g.add(this);var y=g.toCanvasElement(a||1,t);return this.shadow=o,this.set("canvas",m),r&&(this.group=r),this.set(i).setCoords(),g._objects=[],g.dispose(),g=null,y},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,n){n=n||this.canvas.getPointer(t);var i=new e.Point(n.x,n.y),r=this._getLeftTopCoords();return this.angle&&(i=e.util.rotatePoint(i,r,s(-this.angle))),{x:i.x-r.x,y:i.y-r.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){e.runningAnimations&&e.runningAnimations.cancelByTarget(this)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object.ENLIVEN_PROPS=["clipPath"],e.Object._fromObject=function(t,n,r,o){var s=e[t];n=i(n,!0),e.util.enlivenPatterns([n.fill,n.stroke],(function(t){"undefined"!==typeof t[0]&&(n.fill=t[0]),"undefined"!==typeof t[1]&&(n.stroke=t[1]),e.util.enlivenObjectEnlivables(n,n,(function(){var t=o?new s(n[o],n):new s(n);r&&r(t)}))}))},e.Object.__uid=0)}(e),function(){var t=i.util.degreesToRadians,e={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};i.util.object.extend(i.Object.prototype,{translateToGivenOrigin:function(t,r,o,s,a){var l,u,c,h=t.x,f=t.y;return"string"===typeof r?r=e[r]:r-=.5,"string"===typeof s?s=e[s]:s-=.5,l=s-r,"string"===typeof o?o=n[o]:o-=.5,"string"===typeof a?a=n[a]:a-=.5,u=a-o,(l||u)&&(c=this._getTransformedDimensions(),h=t.x+l*c.x,f=t.y+u*c.y),new i.Point(h,f)},translateToCenterPoint:function(e,n,r){var o=this.translateToGivenOrigin(e,n,r,"center","center");return this.angle?i.util.rotatePoint(o,e,t(this.angle)):o},translateToOriginPoint:function(e,n,r){var o=this.translateToGivenOrigin(e,"center","center",n,r);return this.angle?i.util.rotatePoint(o,e,t(this.angle)):o},getCenterPoint:function(){var t=new i.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(e,n,r){var o,s,a=this.getCenterPoint();return o="undefined"!==typeof n&&"undefined"!==typeof r?this.translateToGivenOrigin(a,"center","center",n,r):new i.Point(this.left,this.top),s=new i.Point(e.x,e.y),this.angle&&(s=i.util.rotatePoint(s,a,-t(this.angle))),s.subtractEquals(o)},setPositionByOrigin:function(t,e,n){var i=this.translateToCenterPoint(t,e,n),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(n){var r,o,s=t(this.angle),a=this.getScaledWidth(),l=i.util.cos(s)*a,u=i.util.sin(s)*a;r="string"===typeof this.originX?e[this.originX]:this.originX-.5,o="string"===typeof n?e[n]:n-.5,this.left+=l*(o-r),this.top+=u*(o-r),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function t(t){return[new i.Point(t.tl.x,t.tl.y),new i.Point(t.tr.x,t.tr.y),new i.Point(t.br.x,t.br.y),new i.Point(t.bl.x,t.bl.y)]}var e=i.util,n=e.degreesToRadians,r=e.multiplyTransformMatrices,o=e.transformPoint;e.object.extend(i.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(e,n){return t(this._getCoords(e,n))},intersectsWithRect:function(t,e,n,r){var o=this.getCoords(n,r),s=i.Intersection.intersectPolygonRectangle(o,t,e);return"Intersection"===s.status},intersectsWithObject:function(t,e,n){var r=i.Intersection.intersectPolygonPolygon(this.getCoords(e,n),t.getCoords(e,n));return"Intersection"===r.status||t.isContainedWithinObject(this,e,n)||this.isContainedWithinObject(t,e,n)},isContainedWithinObject:function(t,e,n){for(var i=this.getCoords(e,n),r=e?t.aCoords:t.lineCoords,o=0,s=t._getImageLines(r);o<4;o++)if(!t.containsPoint(i[o],s))return!1;return!0},isContainedWithinRect:function(t,e,n,i){var r=this.getBoundingRect(n,i);return r.left>=t.x&&r.left+r.width<=e.x&&r.top>=t.y&&r.top+r.height<=e.y},containsPoint:function(t,e,n,i){var r=this._getCoords(n,i),o=(e=e||this._getImageLines(r),this._findCrossPoints(t,e));return 0!==o&&o%2===1},isOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br,i=this.getCoords(!0,t);return!!i.some((function(t){return t.x<=n.x&&t.x>=e.x&&t.y<=n.y&&t.y>=e.y}))||(!!this.intersectsWithRect(e,n,!0,t)||this._containsCenterOfCanvas(e,n,t))},_containsCenterOfCanvas:function(t,e,n){var i={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(i,null,!0,n)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;if(this.intersectsWithRect(e,n,!0,t))return!0;var i=this.getCoords(!0,t).every((function(t){return(t.x>=n.x||t.x<=e.x)&&(t.y>=n.y||t.y<=e.y)}));return i&&this._containsCenterOfCanvas(e,n,t)},_getImageLines:function(t){var e={topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}};return e},_findCrossPoints:function(t,e){var n,i,r,o,s,a,l=0;for(var u in e)if(a=e[u],!(a.o.y<t.y&&a.d.y<t.y)&&!(a.o.y>=t.y&&a.d.y>=t.y)&&(a.o.x===a.d.x&&a.o.x>=t.x?s=a.o.x:(n=0,i=(a.d.y-a.o.y)/(a.d.x-a.o.x),r=t.y-n*t.x,o=a.o.y-i*a.o.x,s=-(r-o)/(n-i)),s>=t.x&&(l+=1),2===l))break;return l},getBoundingRect:function(t,n){var i=this.getCoords(t,n);return e.makeBoundingBoxFromPoints(i)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var n=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/n)},scaleToHeight:function(t,e){var n=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/n)},calcLineCoords:function(){var t=this.getViewportTransform(),i=this.padding,r=n(this.angle),s=e.cos(r),a=e.sin(r),l=s*i,u=a*i,c=l+u,h=l-u,f=this.calcACoords(),d={tl:o(f.tl,t),tr:o(f.tr,t),bl:o(f.bl,t),br:o(f.br,t)};return i&&(d.tl.x-=h,d.tl.y-=c,d.tr.x+=c,d.tr.y-=h,d.bl.x-=c,d.bl.y+=h,d.br.x+=h,d.br.y+=c),d},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),n=this.getViewportTransform(),i=r(n,e),o=r(i,t),s=(o=r(o,[1/n[0],0,0,1/n[3],0,0]),this._calculateCurrentDimensions()),a={};return this.forEachControl((function(t,e,n){a[e]=t.positionHandler(s,o,n)})),a},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),n=r(e,t),i=this._getTransformedDimensions(),s=i.x/2,a=i.y/2;return{tl:o({x:-s,y:-a},n),tr:o({x:s,y:-a},n),bl:o({x:-s,y:a},n),br:o({x:s,y:a},n)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="_",n="";return!t&&this.group&&(n=this.group.transformMatrixKey(t)+e),n+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(t||!this.group)return e;var n=this.transformMatrixKey(t),i=this.matrixCache||(this.matrixCache={});return i.key===n?i.value:(this.group&&(e=r(this.group.calcTransformMatrix(!1),e)),i.key=n,i.value=e,e)},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===t)return n.value;var i=this._calcTranslateMatrix(),r={angle:this.angle,translateX:i[4],translateY:i[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=t,n.value=e.composeMatrix(r),n.value},_getNonTransformedDimensions:function(){var t=this.strokeWidth,e=this.width+t,n=this.height+t;return{x:e,y:n}},_getTransformedDimensions:function(t,n){"undefined"===typeof t&&(t=this.skewX),"undefined"===typeof n&&(n=this.skewY);var i,r,o,s=0===t&&0===n;if(this.strokeUniform?(r=this.width,o=this.height):(i=this._getNonTransformedDimensions(),r=i.x,o=i.y),s)return this._finalizeDimensions(r*this.scaleX,o*this.scaleY);var a=e.sizeAfterTransform(r,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:n});return this._finalizeDimensions(a.x,a.y)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions(),n=o(e,t,!0);return n.scalarAdd(2*this.padding)}})}(),i.util.object.extend(i.Object.prototype,{sendToBack:function(){return this.group?i.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?i.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?i.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?i.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?i.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var n=new i.Color(e),r=t+": "+n.toRgb()+"; ",o=n.getAlpha();return 1!==o&&(r+=t+"-opacity: "+o.toString()+"; "),r}return t+": none; "}var e=i.util.toFixed;i.util.object.extend(i.Object.prototype,{getSvgStyles:function(e){var n=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",u="undefined"!==typeof this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),f=t("fill",this.fill),d=t("stroke",this.stroke);return[d,"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",f,"fill-rule: ",n,"; ","opacity: ",u,";",h,c].join("")},getSvgSpanStyles:function(e,n){var i="; ",r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+i:"",o=e.strokeWidth?"stroke-width: "+e.strokeWidth+i:"",s=(r=r,e.fontSize?"font-size: "+e.fontSize+"px"+i:""),a=e.fontStyle?"font-style: "+e.fontStyle+i:"",l=e.fontWeight?"font-weight: "+e.fontWeight+i:"",u=e.fill?t("fill",e.fill):"",c=e.stroke?t("stroke",e.stroke):"",h=this.getSvgTextDecoration(e),f=e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"";return h&&(h="text-decoration: "+h+i),[c,o,r,s,a,l,h,u,f,n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter((function(e){return t[e.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var n=t?this.calcTransformMatrix():this.calcOwnMatrix(),r='transform="'+i.util.matrixToSVG(n);return r+(e||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var n=i.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,n),'" y="',e(-this.height/2,n),'" width="',e(this.width,n),'" height="',e(this.height,n),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){e=e||{};var n=e.reviver,i=e.additionalTransform||"",r=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),o=t.indexOf("COMMON_PARTS");return t[o]=r,n?n(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){e=e||{};var n,r,o=e.noStyle,s=e.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',l=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",u=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",h=u&&u.absolutePositioned,f=this.stroke,d=this.fill,p=this.shadow,v=[],g=t.indexOf("COMMON_PARTS"),m=e.additionalTransform;return u&&(u.clipPathId="CLIPPATH_"+i.Object.__uid++,r='<clipPath id="'+u.clipPathId+'" >\n'+u.toClipPathSVG(s)+"</clipPath>\n"),h&&v.push("<g ",l,this.getSvgCommons()," >\n"),v.push("<g ",this.getSvgTransform(!1),h?"":l+this.getSvgCommons()," >\n"),n=[a,c,o?"":this.addPaintOrder()," ",m?'transform="'+m+'" ':""].join(""),t[g]=n,d&&d.toLive&&v.push(d.toSVG(this)),f&&f.toLive&&v.push(f.toSVG(this)),p&&v.push(p.toSVG(this)),u&&v.push(r),v.push(t.join("")),v.push("</g>\n"),h&&v.push("</g>\n"),s?s(v.join("")):v.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=i.util.object.extend,e="stateProperties";function n(e,n,i){var r={},o=!0;i.forEach((function(t){r[t]=e[t]})),t(e[n],r,o)}function r(t,e,n){if(t===e)return!0;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!r(t[i],e[i]))return!1;return!0}if(t&&"object"===typeof t){var s,a=Object.keys(t);if(!e||"object"!==typeof e||!n&&a.length!==Object.keys(e).length)return!1;for(i=0,o=a.length;i<o;i++)if(s=a[i],"canvas"!==s&&"group"!==s&&!r(t[s],e[s]))return!1;return!0}}i.util.object.extend(i.Object.prototype,{hasStateChanged:function(t){t=t||e;var n="_"+t;return Object.keys(this[n]).length<this[t].length||!r(this[n],this,!0)},saveState:function(t){var i=t&&t.propertySet||e,r="_"+i;return this[r]?(n(this,r,this[i]),t&&t.stateProperties&&n(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){t=t||{};var n=t.propertySet||e;return t.propertySet=n,this["_"+n]={},this.saveState(t),this}})}(),function(){var t=i.util.degreesToRadians;i.util.object.extend(i.Object.prototype,{_findTargetCorner:function(t,e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,i,r,o=t.x,s=t.y,a=Object.keys(this.oCoords),l=a.length-1;for(this.__corner=0;l>=0;l--)if(r=a[l],this.isControlVisible(r)&&(i=this._getImageLines(e?this.oCoords[r].touchCorner:this.oCoords[r].corner),n=this._findCrossPoints({x:o,y:s},i),0!==n&&n%2===1))return this.__corner=r,r;return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t=this.oCoords;for(var e in t){var n=this.controls[e];t[e].corner=n.calcCornerCoords(this.angle,this.cornerSize,t[e].x,t[e].y,!1),t[e].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,t[e].x,t[e].y,!0)}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var n=this.getCenterPoint(),i=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return e.translate(n.x,n.y),e.scale(1/r[0],1/r[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-i.x/2,-i.y/2,i.x,i.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var n=this._calculateCurrentDimensions(),i=this.borderScaleFactor,r=n.x+i,o=n.y+i,s="undefined"!==typeof e.hasControls?e.hasControls:this.hasControls,a=!1;return t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray),t.strokeRect(-r/2,-o/2,r,o),s&&(t.beginPath(),this.forEachControl((function(e,n,i){e.withConnection&&e.getVisibility(i,n)&&(a=!0,t.moveTo(e.x*r,e.y*o),t.lineTo(e.x*r+e.offsetX,e.y*o+e.offsetY))})),a&&t.stroke()),t.restore(),this},drawBordersInGroup:function(t,e,n){n=n||{};var r=i.util.sizeAfterTransform(this.width,this.height,e),o=this.strokeWidth,s=this.strokeUniform,a=this.borderScaleFactor,l=r.x+o*(s?this.canvas.getZoom():e.scaleX)+a,u=r.y+o*(s?this.canvas.getZoom():e.scaleY)+a;return t.save(),this._setLineDash(t,n.borderDashArray||this.borderDashArray),t.strokeStyle=n.borderColor||this.borderColor,t.strokeRect(-l/2,-u/2,l,u),t.restore(),this},drawControls:function(t,e){e=e||{},t.save();var n,r,o=this.canvas.getRetinaScaling();return t.setTransform(o,0,0,o,0,0),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl((function(o,s,a){r=a.oCoords[s],o.getVisibility(a,s)&&(n&&(r=i.util.transformPoint(r,n)),o.render(t,r.x,r.y,e,a))})),t.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}})}(),i.util.object.extend(i.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){e=e||{};var n=function(){},r=e.onComplete||n,o=e.onChange||n,s=this;return i.util.animate({target:this,startValue:t.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),s.requestRenderAll(),o()},onComplete:function(){t.setCoords(),r()}})},fxCenterObjectV:function(t,e){e=e||{};var n=function(){},r=e.onComplete||n,o=e.onChange||n,s=this;return i.util.animate({target:this,startValue:t.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),s.requestRenderAll(),o()},onComplete:function(){t.setCoords(),r()}})},fxRemove:function(t,e){e=e||{};var n=function(){},r=e.onComplete||n,o=e.onChange||n,s=this;return i.util.animate({target:this,startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),s.requestRenderAll(),o()},onComplete:function(){s.remove(t),r()}})}}),i.util.object.extend(i.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var t,e,n=[],i=[];for(t in arguments[0])n.push(t);for(var r=0,o=n.length;r<o;r++)t=n[r],e=r!==o-1,i.push(this._animate(t,arguments[0][t],arguments[1],e));return i}return this._animate.apply(this,arguments)},_animate:function(t,e,n,r){var o,s=this;e=e.toString(),n=n?i.util.object.clone(n):{},~t.indexOf(".")&&(o=t.split("."));var a=s.colorProperties.indexOf(t)>-1||o&&s.colorProperties.indexOf(o[1])>-1,l=o?this.get(o[0])[o[1]]:this.get(t);"from"in n||(n.from=l),a||(e=~e.indexOf("=")?l+parseFloat(e.replace("=","")):parseFloat(e));var u={target:this,startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(t,e,i){return n.abort.call(s,t,e,i)},onChange:function(e,i,a){o?s[o[0]][o[1]]=e:s.set(t,e),r||n.onChange&&n.onChange(e,i,a)},onComplete:function(t,e,i){r||(s.setCoords(),n.onComplete&&n.onComplete(t,e,i))}};return a?i.util.animateColor(u.startValue,u.endValue,u.duration,u):i.util.animate(u)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.object.clone,r={x1:1,x2:1,y1:1,y2:1};function o(t,e){var n=t.origin,i=t.axis1,r=t.axis2,o=t.dimension,s=e.nearest,a=e.center,l=e.farthest;return function(){switch(this.get(n)){case s:return Math.min(this.get(i),this.get(r));case a:return Math.min(this.get(i),this.get(r))+.5*this.get(o);case l:return Math.max(this.get(i),this.get(r))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!==typeof r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;var n=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=n},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return n(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,n=t*this.width*.5,i=e*this.height*.5,r=t*this.width*-.5,o=e*this.height*-.5;return{x1:n,x2:r,y1:i,y2:o}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,i,r){r=r||{};var o=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];i(new e.Line(s,n(o,r)))},e.Line.fromObject=function(t,n){function r(t){delete t.points,n&&n(t)}var o=i(t,!0);o.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",o,r,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.degreesToRadians;function i(t){return"radius"in t&&t.radius>=0}e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,i=0,r=0,o=(this.endAngle-this.startAngle)%360;if(0===o)t=["<circle ","COMMON_PARTS",'cx="'+i+'" cy="'+r+'" ','r="',this.radius,'" />\n'];else{var s=n(this.startAngle),a=n(this.endAngle),l=this.radius,u=e.util.cos(s)*l,c=e.util.sin(s)*l,h=e.util.cos(a)*l,f=e.util.sin(a)*l,d=o>180?"1":"0";t=['<path d="M '+u+" "+c," A "+l+" "+l," 0 ",+d+" 1"," "+h+" "+f,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,n(this.startAngle),n(this.endAngle),!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,n){var r=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!i(r))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,n(new e.Circle(r))},e.Circle.fromObject=function(t,n){e.Object._fromObject("Circle",t,n)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,e=this.height/2,n=[-t+" "+e,"0 "+-e,t+" "+e].join(",");return["<polygon ","COMMON_PARTS",'points="',n,'" />']}}),e.Triangle.fromObject=function(t,n){return e.Object._fromObject("Triangle",t,n)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,n,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){var i=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,n(new e.Ellipse(i))},e.Ellipse.fromObject=function(t,n){e.Object._fromObject("Ellipse",t,n)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,r=this.height,o=-this.width/2,s=-this.height/2,a=0!==e||0!==n,l=.4477152502;t.beginPath(),t.moveTo(o+e,s),t.lineTo(o+i-e,s),a&&t.bezierCurveTo(o+i-l*e,s,o+i,s+l*n,o+i,s+n),t.lineTo(o+i,s+r-n),a&&t.bezierCurveTo(o+i,s+r-l*n,o+i-l*e,s+r,o+i-e,s+r),t.lineTo(o+e,s+r),a&&t.bezierCurveTo(o+l*e,s+r,o,s+r-l*n,o,s+r-n),t.lineTo(o,s+n),a&&t.bezierCurveTo(o,s+l*n,o+l*e,s,o+e,s),t.closePath(),this._renderPaintInOrder(t)},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){var t=-this.width/2,e=-this.height/2;return["<rect ","COMMON_PARTS",'x="',t,'" y="',e,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,i,r){if(!t)return i(null);r=r||{};var o=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var s=new e.Rect(n(r?e.util.object.clone(r):{},o));s.visible=s.visible&&s.width>0&&s.height>0,i(s)},e.Rect.fromObject=function(t,n){return e.Object._fromObject("Rect",t,n)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.util.array.min,r=e.util.array.max,o=e.util.toFixed,s=e.util.projectStrokeOnPoints;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(t){var e,n=this._calcDimensions(t),i=this.exactBoundingBox?this.strokeWidth:0;this.width=n.width-i,this.height=n.height-i,t.fromSVG||(e=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2+i/2,y:n.top-this.strokeWidth/2+i/2},"left","top",this.originX,this.originY)),"undefined"===typeof t.left&&(this.left=t.fromSVG?n.left:e.x),"undefined"===typeof t.top&&(this.top=t.fromSVG?n.top:e.y),this.pathOffset={x:n.left+this.width/2+i/2,y:n.top+this.height/2+i/2}},_calcDimensions:function(){var t=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,e=i(t,"x")||0,n=i(t,"y")||0,o=r(t,"x")||0,s=r(t,"y")||0,a=o-e,l=s-n;return{left:e,top:n,width:a,height:l}},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],n=this.pathOffset.x,i=this.pathOffset.y,r=e.Object.NUM_FRACTION_DIGITS,s=0,a=this.points.length;s<a;s++)t.push(o(this.points[s].x-n,r),",",o(this.points[s].y-i,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,n=this.points.length,i=this.pathOffset.x,r=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-r);for(var o=0;o<n;o++)e=this.points[o],t.lineTo(e.x-i,e.y-r);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(i,r,o){if(!i)return r(null);o||(o={});var s=e.parsePointsAttribute(i.getAttribute("points")),a=e.parseAttributes(i,e[t].ATTRIBUTE_NAMES);a.fromSVG=!0,r(new e[t](s,n(a,o)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,n){return e.Object._fromObject("Polyline",t,n,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.projectStrokeOnPoints;e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return n(this.points,this)},_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,n){e.Object._fromObject("Polygon",t,n,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,i=e.util.array.max,r=e.util.object.extend,o=e.util.object.clone,s=e.util.toFixed;e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){e=o(e||{}),delete e.path,this.callSuper("initialize",e),this._setPath(t||[],e)},_setPath:function(t,n){this.path=e.util.makePathSimpler(Array.isArray(t)?t:e.util.parsePath(t)),e.Polyline.prototype._setPositionDimensions.call(this,n||{})},_renderPathCommands:function(t){var e,n=0,i=0,r=0,o=0,s=0,a=0,l=-this.pathOffset.x,u=-this.pathOffset.y;t.beginPath();for(var c=0,h=this.path.length;c<h;++c)switch(e=this.path[c],e[0]){case"L":r=e[1],o=e[2],t.lineTo(r+l,o+u);break;case"M":r=e[1],o=e[2],n=r,i=o,t.moveTo(r+l,o+u);break;case"C":r=e[5],o=e[6],s=e[3],a=e[4],t.bezierCurveTo(e[1]+l,e[2]+u,s+l,a+u,r+l,o+u);break;case"Q":t.quadraticCurveTo(e[1]+l,e[2]+u,e[3]+l,e[4]+u),r=e[3],o=e[4],s=e[1],a=e[2];break;case"z":case"Z":r=n,o=i,t.closePath();break}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return r(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){var t=e.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',t,'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,t)+", "+s(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,r,o=[],s=[],a=0,l=0,u=0,c=0,h=0,f=this.path.length;h<f;++h){switch(t=this.path[h],t[0]){case"L":u=t[1],c=t[2],r=[];break;case"M":u=t[1],c=t[2],a=u,l=c,r=[];break;case"C":r=e.util.getBoundsOfCurve(u,c,t[1],t[2],t[3],t[4],t[5],t[6]),u=t[5],c=t[6];break;case"Q":r=e.util.getBoundsOfCurve(u,c,t[1],t[2],t[1],t[2],t[3],t[4]),u=t[3],c=t[4];break;case"z":case"Z":u=a,c=l;break}r.forEach((function(t){o.push(t.x),s.push(t.y)})),o.push(u),s.push(c)}var d=n(o)||0,p=n(s)||0,v=i(o)||0,g=i(s)||0,m=v-d,y=g-p;return{left:d,top:p,width:m,height:y}}}),e.Path.fromObject=function(t,n){if("string"===typeof t.sourcePath){var i=t.sourcePath;e.loadSVGFromURL(i,(function(i){var r=i[0];r.setOptions(t),t.clipPath?e.util.enlivenObjects([t.clipPath],(function(t){r.clipPath=t[0],n&&n(r)})):n&&n(r)}))}else e.Object._fromObject("Path",t,n,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,i){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new e.Path(o.d,r(o,i)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,i=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,n){e=e||{},this._objects=[],n&&this.callSuper("initialize",e),this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;if(n)this._updateObjectsACoords();else{var r=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=!0,e=this._objects.length;e--;)this._objects[e].setCoords(t)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var n=t.left,i=t.top,r=!0;t.set({left:n-e.x,top:i-e.y}),t.group=this,t.setCoords(r)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var n=!!this.group;return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(n&&e.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,n){var i=this._objects.length;if(this.useSetOnGroup)while(i--)this._objects[i].setOnGroup(t,n);if("canvas"===t)while(i--)this._objects[i]._set(t,n);e.Object.prototype._set.call(this,t,n)},toObject:function(t){var n=this.includeDefaultValues,i=this._objects.filter((function(t){return!t.excludeFromExport})).map((function(e){var i=e.includeDefaultValues;e.includeDefaultValues=n;var r=e.toObject(t);return e.includeDefaultValues=i,r})),r=e.Object.prototype.toObject.call(this,t);return r.objects=i,r},toDatalessObject:function(t){var n,i=this.sourcePath;if(i)n=i;else{var r=this.includeDefaultValues;n=this._objects.map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=r;var i=e.toDatalessObject(t);return e.includeDefaultValues=n,i}))}var o=e.Object.prototype.toDatalessObject.call(this,t);return o.objects=n,o},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var n=0,i=this._objects.length;n<i;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(e.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,n=this._objects.length;e<n;e++)this._objects[e].render(t);this._drawClipPath(t,this.clipPath)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var i=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-i/2,-r/2,i,r)}return!0}return!1},_restoreObjectsState:function(){var t=this.calcOwnMatrix();return this._objects.forEach((function(n){e.util.addTransformToObject(n,t),delete n.group,n.setCoords()})),this},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[]},toActiveSelection:function(){if(this.canvas){var t=this._objects,n=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var r=new e.ActiveSelection([]);return r.set(i),r.type="activeSelection",n.remove(this),t.forEach((function(t){t.group=r,t.dirty=!0,n.add(t)})),r.canvas=n,r._objects=t,n._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var t=!0;return this.forEachObject((function(e){e.setCoords(t)})),this},_calcBounds:function(t){for(var e,n,i,r,o=[],s=[],a=["tr","br","bl","tl"],l=0,u=this._objects.length,c=a.length;l<u;++l){for(e=this._objects[l],i=e.calcACoords(),r=0;r<c;r++)n=a[r],o.push(i[n].x),s.push(i[n].y);e.aCoords=i}this._getBounds(o,s,t)},_getBounds:function(t,r,o){var s=new e.Point(n(t),n(r)),a=new e.Point(i(t),i(r)),l=s.y||0,u=s.x||0,c=a.x-s.x||0,h=a.y-s.y||0;this.width=c,this.height=h,o||this.setPositionByOrigin({x:u,y:l},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],n=0,i=this._objects.length;n<i;n++)e.push("\t\t",this._objects[n].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],n=0,i=this._objects.length;n<i;n++)e.push("\t",this._objects[n].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,n){var i=t.objects,r=e.util.object.clone(t,!0);delete r.objects,"string"!==typeof i?e.util.enlivenObjects(i,(function(i){e.util.enlivenObjectEnlivables(t,r,(function(){n&&n(new e.Group(i,r,!0))}))})):e.loadSVGFromURL(i,(function(o){var s=e.util.groupSVGElements(o,t,i),a=r.clipPath;delete r.clipPath,s.set(r),a?e.util.enlivenObjects([a],(function(t){s.clipPath=t[0],n&&n(s)})):n&&n(s)}))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,n){n=n||{},this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var n=e.Object.prototype.toObject.call(this),i=new e.Group([]);if(delete n.type,i.set(n),t.forEach((function(t){t.canvas.remove(t),t.group=i})),i._objects=t,!this.canvas)return i;var r=this.canvas;return r.add(i),r._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,n){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),n=n||{},"undefined"===typeof n.hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var i=0,r=this._objects.length;i<r;i++)this._objects[i]._renderControls(t,n);t.restore()}}),e.ActiveSelection.fromObject=function(t,n){e.util.enlivenObjects(t.objects,(function(i){delete t.objects,n&&n(new e.ActiveSelection(i,t,!0))}))})}(e),function(t){"use strict";var e=i.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?i.warn("fabric.Image is already defined."):(i.Image=i.util.createClass(i.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:i.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:i.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+i.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=i.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){i.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}},toObject:function(t){var n=[];this.filters.forEach((function(t){t&&n.push(t.toObject())}));var i=e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],n=[],r=this._element,o=-this.width/2,s=-this.height/2,a="",l="";if(!r)return[];if(this.hasCrop()){var u=i.Object.__uid++;e.push('<clipPath id="imageCrop_'+u+'">\n','\t<rect x="'+o+'" y="'+s+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',s-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,l,'"',a,"></image>\n"),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,t=["\t<rect ",'x="',o,'" y="',s,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=c}return e="fill"!==this.paintFirst?e.concat(t,n):e.concat(n,t),e},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,n){return i.util.loadImage(t,(function(t,i){this.setElement(t,n),this._setWidthHeight(),e&&e(this,i)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,o=n.scaleY,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&o>e)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=o);i.filterBackend||(i.filterBackend=i.initFilterBackend());var a=i.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,u=s.width,c=s.height;a.width=u,a.height=c,this._element=a,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=o,i.filterBackend.applyFilters([t],s,u,c,this._element,l),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height},applyFilters:function(t){if(t=t||this.filters||[],t=t.filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,n=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){var o=i.util.createCanvasElement();o.width=n,o.height=r,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return i.filterBackend||(i.filterBackend=i.initFilterBackend()),i.filterBackend.applyFilters(t,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){i.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){i.util.setImageSmoothing(t,this.imageSmoothing),i.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element;if(e){var n=this._filterScalingX,i=this._filterScalingY,r=this.width,o=this.height,s=Math.min,a=Math.max,l=a(this.cropX,0),u=a(this.cropY,0),c=e.naturalWidth||e.width,h=e.naturalHeight||e.height,f=l*n,d=u*i,p=s(r*n,c-f),v=s(o*i,h-d),g=-r/2,m=-o/2,y=s(r,c/n-l),b=s(o,h/i-u);e&&t.drawImage(e,f,d,p,v,g,m,y,b)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(i.util.getById(t),e),i.util.addClass(this.getElement(),i.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?i.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=i.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,o=1,s=1,a=0,l=0,u=0,c=0,h=this.width,f=this.height,d={width:h,height:f};return!e||"none"===e.alignX&&"none"===e.alignY?(o=h/n,s=f/r):("meet"===e.meetOrSlice&&(o=s=i.util.findScaleToFit(this._element,d),t=(h-n*o)/2,"Min"===e.alignX&&(a=-t),"Max"===e.alignX&&(a=t),t=(f-r*s)/2,"Min"===e.alignY&&(l=-t),"Max"===e.alignY&&(l=t)),"slice"===e.meetOrSlice&&(o=s=i.util.findScaleToCover(this._element,d),t=n-h/o,"Mid"===e.alignX&&(u=t/2),"Max"===e.alignX&&(u=t),t=r-f/s,"Mid"===e.alignY&&(c=t/2),"Max"===e.alignY&&(c=t),n=h/o,r=f/s)),{width:n,height:r,scaleX:o,scaleY:s,offsetLeft:a,offsetTop:l,cropX:u,cropY:c}}}),i.Image.CSS_CANVAS="canvas-img",i.Image.prototype.getSvgSrc=i.Image.prototype.getSrc,i.Image.fromObject=function(t,e){var n=i.util.object.clone(t);i.util.loadImage(n.src,(function(t,r){r?e&&e(null,!0):i.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],i.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],i.util.enlivenObjectEnlivables(n,n,(function(){var r=new i.Image(t,n);e(r,!1)}))}))}))}),null,n.crossOrigin)},i.Image.fromURL=function(t,e,n){i.util.loadImage(t,(function(t,r){e&&e(new i.Image(t,n),r)}),null,n&&n.crossOrigin)},i.Image.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),i.Image.fromElement=function(t,n,r){var o=i.parseAttributes(t,i.Image.ATTRIBUTE_NAMES);i.Image.fromURL(o["xlink:href"],n,e(r?i.util.object.clone(r):{},o))})}(e),i.util.object.extend(i.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(t){t=t||{};var e=function(){},n=t.onComplete||e,r=t.onChange||e,o=this;return i.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){o.rotate(t),r()},onComplete:function(){o.setCoords(),n()}})}}),i.util.object.extend(i.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function t(t,e){var n="precision "+e+" float;\nvoid main(){}",i=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(i,n),t.compileShader(i),!!t.getShaderParameter(i,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.isWebglSupported=function(e){if(i.isLikelyNode)return!1;e=e||i.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),o=!1;if(r){i.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),o=i.maxTextureSize>=e;for(var s=["highp","mediump","lowp"],a=0;a<3;a++)if(t(r,s[a])){i.webGlPrecision=s[a];break}}return this.isSupported=o,o},i.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var n,r="undefined"!==typeof window.performance;try{new ImageData(1,1),n=!0}catch(v){n=!1}var o="undefined"!==typeof ArrayBuffer,s="undefined"!==typeof Uint8ClampedArray;if(r&&n&&o&&s){var u=i.util.createCanvasElement(),c=new ArrayBuffer(t*e*4);if(i.forceGLPutImageData)return this.imageBuffer=c,void(this.copyGLTo2D=l);var h,f,d,p={imageBuffer:c,destinationWidth:t,destinationHeight:e,targetCanvas:u};u.width=t,u.height=e,h=window.performance.now(),a.call(p,this.gl,p),f=window.performance.now()-h,h=window.performance.now(),l.call(p,this.gl,p),d=window.performance.now()-h,f>d?(this.imageBuffer=c,this.copyGLTo2D=l):this.copyGLTo2D=a}},createWebGLCanvas:function(t,e){var n=i.util.createCanvasElement();n.width=t,n.height=e;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=n.getContext("webgl",r);o||(o=n.getContext("experimental-webgl",r)),o&&(o.clearColor(0,0,0,0),this.canvas=n,this.gl=o)},applyFilters:function(t,e,n,i,r,o){var a,l=this.gl;o&&(a=this.getCachedTexture(o,e));var u={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:l,sourceTexture:this.createTexture(l,n,i,!a&&e),targetTexture:this.createTexture(l,n,i),originalTexture:a||this.createTexture(l,n,i,!a&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},c=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,c),t.forEach((function(t){t&&t.applyTo(u)})),s(u),this.copyGLTo2D(l,u),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(u.sourceTexture),l.deleteTexture(u.targetTexture),l.deleteFramebuffer(c),r.getContext("2d").setTransform(1,0,0,1,0,0),u},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,n,i){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),r},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var n=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=n,n},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var n=t.getExtension("WEBGL_debug_renderer_info");if(n){var i=t.getParameter(n.UNMASKED_RENDERER_WEBGL),r=t.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(e.renderer=i.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}i.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,n,i,r){var o=r.getContext("2d");o.drawImage(e,0,0,n,i);var s=o.getImageData(0,0,n,i),a=o.getImageData(0,0,n,i),l={sourceWidth:n,sourceHeight:i,imageData:s,originalEl:e,originalImageData:a,canvasEl:r,ctx:o,filterBackend:this};return t.forEach((function(t){t.applyTo(l)})),l.imageData.width===n&&l.imageData.height===i||(r.width=l.imageData.width,r.height=l.imageData.height),o.putImageData(l.imageData,0,0),l}}}(),i.Image=i.Image||{},i.Image.filters=i.Image.filters||{},i.Image.filters.BaseFilter=i.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,n){e=e||this.fragmentSource,n=n||this.vertexSource,"highp"!==i.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+i.webGlPrecision+" float"));var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var o=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(o));var s=t.createProgram();if(t.attachShader(s,r),t.attachShader(s,o),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(s));var a=this.getAttributeLocations(t,s),l=this.getUniformLocations(t,s)||{};return l.uStepW=t.getUniformLocation(s,"uStepW"),l.uStepH=t.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:a,uniformLocations:l}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,n){var i=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,n,i=t.context;t.passes>1?(e=t.destinationWidth,n=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===n||(i.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(i,e,n)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=i.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var n=e[t].length;n--;)if(this[t][n]!==e[t][n])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,n=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(n.program),this.sendAttributeData(e,n.attributeLocations,t.aPosition),e.uniform1f(n.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(n.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,n.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),i.Image.filters.BaseFilter.fromObject=function(t,e){var n=new i.Image.filters[t.type](t);return e&&e(n),n},function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.ColorMatrix=i(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,n,i,r,o,s=t.imageData,a=s.data,l=a.length,u=this.matrix,c=this.colorsOnly;for(o=0;o<l;o+=4)e=a[o],n=a[o+1],i=a[o+2],c?(a[o]=e*u[0]+n*u[1]+i*u[2]+255*u[4],a[o+1]=e*u[5]+n*u[6]+i*u[7]+255*u[9],a[o+2]=e*u[10]+n*u[11]+i*u[12]+255*u[14]):(r=a[o+3],a[o]=e*u[0]+n*u[1]+i*u[2]+r*u[3]+255*u[4],a[o+1]=e*u[5]+n*u[6]+i*u[7]+r*u[8]+255*u[9],a[o+2]=e*u[10]+n*u[11]+i*u[12]+r*u[13]+255*u[14],a[o+3]=e*u[15]+n*u[16]+i*u[17]+r*u[18]+255*u[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],r=[n[4],n[9],n[14],n[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,i),t.uniform4fv(e.uConstants,r)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Brightness=i(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,n=t.imageData,i=n.data,r=i.length,o=Math.round(255*this.brightness);for(e=0;e<r;e+=4)i[e]=i[e]+o,i[e+1]=i[e+1]+o,i[e+2]=i[e+2]+o}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.Image.filters,r=e.util.createClass;i.Convolute=r(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),n=this.type+"_"+e+"_"+(this.opaque?1:0),i=this.fragmentSource[n];return t.programCache.hasOwnProperty(n)||(t.programCache[n]=this.createProgram(t.context,i)),t.programCache[n]},applyTo2d:function(t){var e,n,i,r,o,s,a,l,u,c,h,f,d,p=t.imageData,v=p.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),y=Math.floor(m/2),b=p.width,_=p.height,w=t.ctx.createImageData(b,_),x=w.data,S=this.opaque?1:0;for(h=0;h<_;h++)for(c=0;c<b;c++){for(o=4*(h*b+c),e=0,n=0,i=0,r=0,d=0;d<m;d++)for(f=0;f<m;f++)a=h+d-y,s=c+f-y,a<0||a>=_||s<0||s>=b||(l=4*(a*b+s),u=g[d*m+f],e+=v[l]*u,n+=v[l+1]*u,i+=v[l+2]*u,S||(r+=v[l+3]*u));x[o]=e,x[o+1]=n,x[o+2]=i,x[o+3]=S?v[o+3]:r}t.imageData=w},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Grayscale=i(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,n,i=t.imageData,r=i.data,o=r.length,s=this.mode;for(e=0;e<o;e+=4)"average"===s?n=(r[e]+r[e+1]+r[e+2])/3:"lightness"===s?n=(Math.min(r[e],r[e+1],r[e+2])+Math.max(r[e],r[e+1],r[e+2]))/2:"luminosity"===s&&(n=.21*r[e]+.72*r[e+1]+.07*r[e+2]),r[e]=n,r[e+1]=n,r[e+2]=n},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var n=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,n)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){var n=1;t.uniform1i(e.uMode,n)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Invert=i(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,n=t.imageData,i=n.data,r=i.length;for(e=0;e<r;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.Image.filters,r=e.util.createClass;i.Noise=r(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,n,i=t.imageData,r=i.data,o=r.length,s=this.noise;for(e=0,o=r.length;e<o;e+=4)n=(.5-Math.random())*s,r[e]+=n,r[e+1]+=n,r[e+2]+=n}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Pixelate=i(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,n,i,r,o,s,a,l,u,c,h,f=t.imageData,d=f.data,p=f.height,v=f.width;for(n=0;n<p;n+=this.blocksize)for(i=0;i<v;i+=this.blocksize)for(e=4*n*v+4*i,r=d[e],o=d[e+1],s=d[e+2],a=d[e+3],c=Math.min(n+this.blocksize,p),h=Math.min(i+this.blocksize,v),l=n;l<c;l++)for(u=i;u<h;u++)e=4*l*v+4*u,d[e]=r,d[e+1]=o,d[e+2]=s,d[e+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,i=e.Image.filters,r=e.util.createClass;i.RemoveColor=r(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var n,i,r,o,s=t.imageData,a=s.data,l=255*this.distance,u=new e.Color(this.color).getSource(),c=[u[0]-l,u[1]-l,u[2]-l],h=[u[0]+l,u[1]+l,u[2]+l];for(n=0;n<a.length;n+=4)i=a[n],r=a[n+1],o=a[n+2],i>c[0]&&r>c[1]&&o>c[2]&&i<h[0]&&r<h[1]&&o<h[2]&&(a[n+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,n){var i=new e.Color(this.color).getSource(),r=parseFloat(this.distance),o=[0+i[0]/255-r,0+i[1]/255-r,0+i[2]/255-r,1],s=[i[0]/255+r,i[1]/255+r,i[2]/255+r,1];t.uniform4fv(n.uLow,o),t.uniform4fv(n.uHigh,s)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)n[o]=i(n.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),e.Image.filters[o].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,n=e.Image.filters,i=e.util.createClass;n.BlendColor=i(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,n=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(n)||(e=this.buildSource(this.mode),t.programCache[n]=this.createProgram(t.context,e)),t.programCache[n]},applyTo2d:function(t){var n,i,r,o,s,a,l,u=t.imageData,c=u.data,h=c.length,f=1-this.alpha;l=new e.Color(this.color).getSource(),n=l[0]*this.alpha,i=l[1]*this.alpha,r=l[2]*this.alpha;for(var d=0;d<h;d+=4)switch(o=c[d],s=c[d+1],a=c[d+2],this.mode){case"multiply":c[d]=o*n/255,c[d+1]=s*i/255,c[d+2]=a*r/255;break;case"screen":c[d]=255-(255-o)*(255-n)/255,c[d+1]=255-(255-s)*(255-i)/255,c[d+2]=255-(255-a)*(255-r)/255;break;case"add":c[d]=o+n,c[d+1]=s+i,c[d+2]=a+r;break;case"diff":case"difference":c[d]=Math.abs(o-n),c[d+1]=Math.abs(s-i),c[d+2]=Math.abs(a-r);break;case"subtract":c[d]=o-n,c[d+1]=s-i,c[d+2]=a-r;break;case"darken":c[d]=Math.min(o,n),c[d+1]=Math.min(s,i),c[d+2]=Math.min(a,r);break;case"lighten":c[d]=Math.max(o,n),c[d+1]=Math.max(s,i),c[d+2]=Math.max(a,r);break;case"overlay":c[d]=n<128?2*o*n/255:255-2*(255-o)*(255-n)/255,c[d+1]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255,c[d+2]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255;break;case"exclusion":c[d]=n+o-2*n*o/255,c[d+1]=i+s-2*i*s/255,c[d+2]=r+a-2*r*a/255;break;case"tint":c[d]=n+o*f,c[d+1]=i+s*f,c[d+2]=r+a*f}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,n){var i=new e.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(n.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,n=e.Image.filters,i=e.util.createClass;n.BlendImage=i(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,n)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,n=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,n,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,n=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/n,1]},applyTo2d:function(t){var n,i,r,o,s,a,l,u,c,h,f,d=t.imageData,p=t.filterBackend.resources,v=d.data,g=v.length,m=d.width,y=d.height,b=this.image;p.blendImage||(p.blendImage=e.util.createCanvasElement()),c=p.blendImage,h=c.getContext("2d"),c.width!==m||c.height!==y?(c.width=m,c.height=y):h.clearRect(0,0,m,y),h.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),h.drawImage(b._element,0,0,m,y),f=h.getImageData(0,0,m,y).data;for(var _=0;_<g;_+=4)switch(s=v[_],a=v[_+1],l=v[_+2],u=v[_+3],n=f[_],i=f[_+1],r=f[_+2],o=f[_+3],this.mode){case"multiply":v[_]=s*n/255,v[_+1]=a*i/255,v[_+2]=l*r/255,v[_+3]=u*o/255;break;case"mask":v[_+3]=o;break}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var n=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,n){e.Image.fromObject(t.image,(function(i){var r=e.util.object.clone(t);r.image=i,n(new e.Image.filters.BlendImage(r))}))}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.pow,i=Math.floor,r=Math.sqrt,o=Math.abs,s=Math.round,a=Math.sin,l=Math.ceil,u=e.Image.filters,c=e.util.createClass;u.Resize=c(u.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),n=this.type+"_"+e;if(!t.programCache.hasOwnProperty(n)){var i=this.generateShader(e);t.programCache[n]=this.createProgram(t.context,i)}return t.programCache[n]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,n=this.getFilterWindow(),i=new Array(n),r=1;r<=n;r++)i[r-1]=t(r*e);return i},generateShader:function(t){for(var e=new Array(t),n=this.fragmentSourceTOP,i=1;i<=t;i++)e[i-1]=i+".0 * uDelta";return n+="uniform float uTaps["+t+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",e.forEach((function(t,e){n+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",n+="  sum += 2.0 * uTaps["+e+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}",n},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;e*=Math.PI;var n=e/t;return a(e)/e*a(n)/n}},applyTo2d:function(t){var e=t.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;var r,o=e.width,a=e.height,l=s(o*n),u=s(a*i);"sliceHack"===this.resizeType?r=this.sliceByTwo(t,o,a,l,u):"hermite"===this.resizeType?r=this.hermiteFastResize(t,o,a,l,u):"bilinear"===this.resizeType?r=this.bilinearFiltering(t,o,a,l,u):"lanczos"===this.resizeType&&(r=this.lanczosResize(t,o,a,l,u)),t.imageData=r},sliceByTwo:function(t,n,r,o,s){var a,l,u=t.imageData,c=.5,h=!1,f=!1,d=n*c,p=r*c,v=e.filterBackend.resources,g=0,m=0,y=n,b=0;v.sliceByTwo||(v.sliceByTwo=document.createElement("canvas")),a=v.sliceByTwo,(a.width<1.5*n||a.height<r)&&(a.width=1.5*n,a.height=r),l=a.getContext("2d"),l.clearRect(0,0,1.5*n,r),l.putImageData(u,0,0),o=i(o),s=i(s);while(!h||!f)n=d,r=p,o<i(d*c)?d=i(d*c):(d=o,h=!0),s<i(p*c)?p=i(p*c):(p=s,f=!0),l.drawImage(a,g,m,n,r,y,b,d,p),g=y,m=b,b+=p;return l.getImageData(g,m,o,s)},lanczosResize:function(t,e,s,a,u){function c(t){var l,C,T,k,O,A,E,F,M,P,j;for(x.x=(t+.5)*v,S.x=i(x.x),l=0;l<u;l++){for(x.y=(l+.5)*g,S.y=i(x.y),O=0,A=0,E=0,F=0,M=0,C=S.x-b;C<=S.x+b;C++)if(!(C<0||C>=e)){P=i(1e3*o(C-x.x)),w[P]||(w[P]={});for(var R=S.y-_;R<=S.y+_;R++)R<0||R>=s||(j=i(1e3*o(R-x.y)),w[P][j]||(w[P][j]=p(r(n(P*m,2)+n(j*y,2))/1e3)),T=w[P][j],T>0&&(k=4*(R*e+C),O+=T,A+=T*h[k],E+=T*h[k+1],F+=T*h[k+2],M+=T*h[k+3]))}k=4*(l*a+t),d[k]=A/O,d[k+1]=E/O,d[k+2]=F/O,d[k+3]=M/O}return++t<a?c(t):f}var h=t.imageData.data,f=t.ctx.createImageData(a,u),d=f.data,p=this.lanczosCreate(this.lanczosLobes),v=this.rcpScaleX,g=this.rcpScaleY,m=2/this.rcpScaleX,y=2/this.rcpScaleY,b=l(v*this.lanczosLobes/2),_=l(g*this.lanczosLobes/2),w={},x={},S={};return c(0)},bilinearFiltering:function(t,e,n,r,o){var s,a,l,u,c,h,f,d,p,v,g,m,y,b=0,_=this.rcpScaleX,w=this.rcpScaleY,x=4*(e-1),S=t.imageData,C=S.data,T=t.ctx.createImageData(r,o),k=T.data;for(f=0;f<o;f++)for(d=0;d<r;d++)for(c=i(_*d),h=i(w*f),p=_*d-c,v=w*f-h,y=4*(h*e+c),g=0;g<4;g++)s=C[y+g],a=C[y+4+g],l=C[y+x+g],u=C[y+x+4+g],m=s*(1-p)*(1-v)+a*p*(1-v)+l*v*(1-p)+u*p*v,k[b++]=m;return T},hermiteFastResize:function(t,e,n,s,a){for(var u=this.rcpScaleX,c=this.rcpScaleY,h=l(u/2),f=l(c/2),d=t.imageData,p=d.data,v=t.ctx.createImageData(s,a),g=v.data,m=0;m<a;m++)for(var y=0;y<s;y++){for(var b=4*(y+m*s),_=0,w=0,x=0,S=0,C=0,T=0,k=0,O=(m+.5)*c,A=i(m*c);A<(m+1)*c;A++)for(var E=o(O-(A+.5))/f,F=(y+.5)*u,M=E*E,P=i(y*u);P<(y+1)*u;P++){var j=o(F-(P+.5))/h,R=r(M+j*j);R>1&&R<-1||(_=2*R*R*R-3*R*R+1,_>0&&(j=4*(P+A*e),k+=_*p[j+3],x+=_,p[j+3]<255&&(_=_*p[j+3]/250),S+=_*p[j],C+=_*p[j+1],T+=_*p[j+2],w+=_))}g[b]=S/w,g[b+1]=C/w,g[b+2]=T/w,g[b+3]=k/x}return v},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Contrast=i(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,n=t.imageData,i=n.data,r=i.length,o=Math.floor(255*this.contrast),s=259*(o+255)/(255*(259-o));for(e=0;e<r;e+=4)i[e]=s*(i[e]-128)+128,i[e+1]=s*(i[e+1]-128)+128,i[e+2]=s*(i[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Saturation=i(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,n,i=t.imageData,r=i.data,o=r.length,s=-this.saturation;for(e=0;e<o;e+=4)n=Math.max(r[e],r[e+1],r[e+2]),r[e]+=n!==r[e]?(n-r[e])*s:0,r[e+1]+=n!==r[e+1]?(n-r[e+1])*s:0,r[e+2]+=n!==r[e+2]?(n-r[e+2])*s:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Vibrance=i(n.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(t){if(0!==this.vibrance){var e,n,i,r,o=t.imageData,s=o.data,a=s.length,l=-this.vibrance;for(e=0;e<a;e+=4)n=Math.max(s[e],s[e+1],s[e+2]),i=(s[e]+s[e+1]+s[e+2])/3,r=2*Math.abs(n-i)/255*l,s[e]+=n!==s[e]?(n-s[e])*r:0,s[e+1]+=n!==s[e+1]?(n-s[e+1])*r:0,s[e+2]+=n!==s[e+2]?(n-s[e+2])*r:0}},getUniformLocations:function(t,e){return{uVibrance:t.getUniformLocation(e,"uVibrance")}},sendUniformData:function(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}}),e.Image.filters.Vibrance.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Blur=i(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var n,i,r=t.filterBackend.resources,o=t.imageData.width,s=t.imageData.height;r.blurLayer1||(r.blurLayer1=e.util.createCanvasElement(),r.blurLayer2=e.util.createCanvasElement()),n=r.blurLayer1,i=r.blurLayer2,n.width===o&&n.height===s||(i.width=n.width=o,i.height=n.height=s);var a,l,u,c,h=n.getContext("2d"),f=i.getContext("2d"),d=15,p=.06*this.blur*.5;for(h.putImageData(t.imageData,0,0),f.clearRect(0,0,o,s),c=-d;c<=d;c++)a=(Math.random()-.5)/4,l=c/d,u=p*l*o+a,f.globalAlpha=1-Math.abs(l),f.drawImage(n,u,a),h.drawImage(i,0,0),f.globalAlpha=1,f.clearRect(0,0,i.width,i.height);for(c=-d;c<=d;c++)a=(Math.random()-.5)/4,l=c/d,u=p*l*s+a,f.globalAlpha=1-Math.abs(l),f.drawImage(n,a,u),h.drawImage(i,0,0),f.globalAlpha=1,f.clearRect(0,0,i.width,i.height);t.ctx.drawImage(n,0,0);var v=t.ctx.getImageData(0,0,n.width,n.height);return h.globalAlpha=1,h.clearRect(0,0,n.width,n.height),v},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var n=this.chooseRightDelta();t.uniform2fv(e.delta,n)},chooseRightDelta:function(){var t,e=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?n[0]=t:n[1]=t,n}}),n.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Gamma=i(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,n=t.imageData,i=n.data,r=this.gamma,o=i.length,s=1/r[0],a=1/r[1],l=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,o=256;e<o;e++)this.rVals[e]=255*Math.pow(e/255,s),this.gVals[e]=255*Math.pow(e/255,a),this.bVals[e]=255*Math.pow(e/255,l);for(e=0,o=i.length;e<o;e+=4)i[e]=this.rVals[i[e]],i[e+1]=this.gVals[i[e+1]],i[e+2]=this.bVals[i[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.Composed=i(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,n){var i=t.subFilters||[],r=i.map((function(t){return new e.Image.filters[t.type](t)})),o=new e.Image.filters.Composed({subFilters:r});return n&&n(o),o}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,i=e.util.createClass;n.HueRotation=i(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,n=e.util.cos(t),i=e.util.sin(t),r=1/3,o=Math.sqrt(r)*i,s=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+s/3,this.matrix[1]=r*s-o,this.matrix[2]=r*s+o,this.matrix[5]=r*s+o,this.matrix[6]=n+r*s,this.matrix[7]=r*s-o,this.matrix[10]=r*s-o,this.matrix[11]=r*s+o,this.matrix[12]=n+r*s},isNeutralState:function(t){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var i="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat(i),cacheProperties:e.Object.prototype.cacheProperties.concat(i),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=e.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,n,i,r,o,s,a=0,l=this._textLines.length;a<l;a++)if(("justify"===this.textAlign||a!==l-1&&!this.isEndOfWrapping(a))&&(i=0,r=this._textLines[a],e=this.getLineWidth(a),e<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){n=s.length,t=(this.width-e)/n;for(var u=0,c=r.length;u<=c;u++)o=this.__charBounds[a][u],this._reSpaceAndTab.test(r[u])?(o.width+=t,o.kernedWidth+=t,o.left+=i,i+=t):o.left+=i}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,n){if(t.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":t.textBaseline="middle";break;case"ascender":t.textBaseline="top";break;case"descender":t.textBaseline="bottom";break}t.font=this._getFontDeclaration(e,n)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,n=this._textLines.length;e<n;e++){var i=this.getLineWidth(e);i>t&&(t=i)}return t},_renderTextLine:function(t,e,n,i,r,o){this._renderChars(t,e,n,i,r,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,n,i,r,o,s,a,l=t.fillStyle,u=this._getLeftOffset(),c=this._getTopOffset(),h=0,f=0,d=this.path,p=0,v=this._textLines.length;p<v;p++)if(e=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){i=this._textLines[p],n=this._getLineLeftOffset(p),f=0,h=0,r=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var g=0,m=i.length;g<m;g++)o=this.__charBounds[p][g],s=this.getValueOfPropertyAt(p,g,"textBackgroundColor"),d?(t.save(),t.translate(o.renderLeft,o.renderTop),t.rotate(o.angle),t.fillStyle=s,s&&t.fillRect(-o.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),o.width,e/this.lineHeight),t.restore()):s!==r?(a=u+n+h,"rtl"===this.direction&&(a=this.width-a-f),t.fillStyle=r,r&&t.fillRect(a,c,f,e/this.lineHeight),h=o.left,f=o.width,r=s):f+=o.kernedWidth;s&&!d&&(a=u+n+h,"rtl"===this.direction&&(a=this.width-a-f),t.fillStyle=s,t.fillRect(a,c,f,e/this.lineHeight)),c+=e}else c+=e;t.fillStyle=l,this._removeShadow(t)}},getFontCache:function(t){var n=t.fontFamily.toLowerCase();e.charWidthsCache[n]||(e.charWidthsCache[n]={});var i=e.charWidthsCache[n],r=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return i[r]||(i[r]={}),i[r]},_measureChar:function(t,e,n,i){var r,o,s,a,l=this.getFontCache(e),u=this._getFontDeclaration(e),c=this._getFontDeclaration(i),h=n+t,f=u===c,d=e.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(s=l[n]),void 0!==l[t]&&(a=r=l[t]),f&&void 0!==l[h]&&(o=l[h],a=o-s),void 0===r||void 0===s||void 0===o){var p=this.getMeasuringContext();this._setTextStyles(p,e,!0)}return void 0===r&&(a=r=p.measureText(t).width,l[t]=r),void 0===s&&f&&n&&(s=p.measureText(n).width,l[n]=s),f&&void 0===o&&(o=p.measureText(h).width,l[h]=o,a=o-s),{width:r*d,kernedWidth:a*d}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var n,i,r,o,s,a,l=0,u=this._textLines[t],c=0,h=new Array(u.length),f=0,d=this.path,p="right"===this.pathSide;for(this.__charBounds[t]=h,n=0;n<u.length;n++)i=u[n],o=this._getGraphemeBox(i,t,n,r),h[n]=o,l+=o.kernedWidth,r=i;if(h[n]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize},d){switch(a=d.segmentsInfo[d.segmentsInfo.length-1].length,s=e.util.getPointOnPath(d.path,0,d.segmentsInfo),s.x+=d.pathOffset.x,s.y+=d.pathOffset.y,this.textAlign){case"left":f=p?a-l:0;break;case"center":f=(a-l)/2;break;case"right":f=p?0:a-l;break}for(f+=this.pathStartOffset*(p?-1:1),n=p?u.length-1:0;p?n>=0:n<u.length;p?n--:n++)o=h[n],f>a?f%=a:f<0&&(f+=a),this._setGraphemeOnPath(f,o,s),f+=o.kernedWidth}return{width:l,numOfSpaces:c}},_setGraphemeOnPath:function(t,n,i){var r=t+n.kernedWidth/2,o=this.path,s=e.util.getPointOnPath(o.path,r,o.segmentsInfo);n.renderLeft=s.x-i.x,n.renderTop=s.y-i.y,n.angle=s.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(t,e,n,i,r){var o,s=this.getCompleteStyleDeclaration(e,n),a=i?this.getCompleteStyleDeclaration(e,n-1):{},l=this._measureChar(t,s,i,a),u=l.kernedWidth,c=l.width;0!==this.charSpacing&&(o=this._getWidthOfCharSpacing(),c+=o,u+=o);var h={width:c,left:0,height:s.fontSize,kernedWidth:u,deltaY:s.deltaY};if(n>0&&!r){var f=this.__charBounds[e][n-1];h.left=f.left+f.width+l.kernedWidth-l.width}return h},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],n=this.getHeightOfChar(t,0),i=1,r=e.length;i<r;i++)n=Math.max(this.getHeightOfChar(t,i),n);return this.__lineHeights[t]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,n=0,i=this._textLines.length;n<i;n++)t=this.getHeightOfLine(n),e+=n===i-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var n=0,i=this._getLeftOffset(),r=this._getTopOffset(),o=0,s=this._textLines.length;o<s;o++){var a=this.getHeightOfLine(o),l=a/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],i+u,r+n+l,o),n+=a}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,n,i,r,o,s){var a,l,u,c,h,f=this.getHeightOfLine(s),d=-1!==this.textAlign.indexOf("justify"),p="",v=0,g=this.path,m=!d&&0===this.charSpacing&&this.isEmptyStyles(s)&&!g,y="ltr"===this.direction,b="ltr"===this.direction?1:-1,_=n.canvas.getAttribute("dir");if(n.save(),_!==this.direction&&(n.canvas.setAttribute("dir",y?"ltr":"rtl"),n.direction=y?"ltr":"rtl",n.textAlign=y?"left":"right"),o-=f*this._fontSizeFraction/this.lineHeight,m)return this._renderChar(t,n,s,0,i.join(""),r,o,f),void n.restore();for(var w=0,x=i.length-1;w<=x;w++)c=w===x||this.charSpacing||g,p+=i[w],u=this.__charBounds[s][w],0===v?(r+=b*(u.kernedWidth-u.width),v+=u.width):v+=u.kernedWidth,d&&!c&&this._reSpaceAndTab.test(i[w])&&(c=!0),c||(a=a||this.getCompleteStyleDeclaration(s,w),l=this.getCompleteStyleDeclaration(s,w+1),c=e.util.hasStyleChanged(a,l,!1)),c&&(g?(n.save(),n.translate(u.renderLeft,u.renderTop),n.rotate(u.angle),this._renderChar(t,n,s,w,p,-v/2,0,f),n.restore()):(h=r,this._renderChar(t,n,s,w,p,h,o,f)),p="",a=l,r+=b*v,v=0);n.restore()},_applyPatternGradientTransformText:function(t){var n,i=e.util.createCanvasElement(),r=this.width+this.strokeWidth,o=this.height+this.strokeWidth;return i.width=r,i.height=o,n=i.getContext("2d"),n.beginPath(),n.moveTo(0,0),n.lineTo(r,0),n.lineTo(r,o),n.lineTo(0,o),n.closePath(),n.translate(r/2,o/2),n.fillStyle=t.toLive(n),this._applyPatternGradientTransform(n,t),n.fill(),n.createPattern(i,"no-repeat")},handleFiller:function(t,e,n){var i,r;return n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(i=-this.width/2,r=-this.height/2,t.translate(i,r),t[e]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:r}):(t[e]=n.toLive(t,this),this._applyPatternGradientTransform(t,n)):(t[e]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,n,i,r,o,s){var a,l,u=this._getStyleDeclaration(n,i),c=this.getCompleteStyleDeclaration(n,i),h="fillText"===t&&c.fill,f="strokeText"===t&&c.stroke&&c.strokeWidth;(f||h)&&(e.save(),h&&(a=this._setFillStyles(e,c)),f&&(l=this._setStrokeStyles(e,c)),e.font=this._getFontDeclaration(c),u&&u.textBackgroundColor&&this._removeShadow(e),u&&u.deltaY&&(s+=u.deltaY),h&&e.fillText(r,o-a.offsetX,s-a.offsetY),f&&e.strokeText(r,o-l.offsetX,s-l.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,n){var i=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),s={fontSize:r*n.size,deltaY:o+r*n.baseline};return this.setSelectionStyles(s,t,e),this},_getLineLeftOffset:function(t){var e=this.getLineWidth(t),n=this.width-e,i=this.textAlign,r=this.direction,o=0,s=this.isEndOfWrapping(t);return"justify"===i||"justify-center"===i&&!s||"justify-right"===i&&!s||"justify-left"===i&&!s?0:("center"===i&&(o=n/2),"right"===i&&(o=n),"justify-center"===i&&(o=n/2),"justify-right"===i&&(o=n),"rtl"===r&&(o-=n),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){if(void 0!==this.__lineWidths[t])return this.__lineWidths[t];var e=this.measureLine(t),n=e.width;return this.__lineWidths[t]=n,n},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,n){var i=this._getStyleDeclaration(t,e);return i&&"undefined"!==typeof i[n]?i[n]:this[n]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var n,i,r,o,s,a,l,u,c,h,f,d,p,v,g,m,y=this._getLeftOffset(),b=this._getTopOffset(),_=this.path,w=this._getWidthOfCharSpacing(),x=this.offsets[e],S=0,C=this._textLines.length;S<C;S++)if(n=this.getHeightOfLine(S),this[e]||this.styleHas(e,S)){l=this._textLines[S],v=n/this.lineHeight,o=this._getLineLeftOffset(S),h=0,f=0,u=this.getValueOfPropertyAt(S,0,e),m=this.getValueOfPropertyAt(S,0,"fill"),c=b+v*(1-this._fontSizeFraction),i=this.getHeightOfChar(S,0),s=this.getValueOfPropertyAt(S,0,"deltaY");for(var T=0,k=l.length;T<k;T++)if(d=this.__charBounds[S][T],p=this.getValueOfPropertyAt(S,T,e),g=this.getValueOfPropertyAt(S,T,"fill"),r=this.getHeightOfChar(S,T),a=this.getValueOfPropertyAt(S,T,"deltaY"),_&&p&&g)t.save(),t.fillStyle=m,t.translate(d.renderLeft,d.renderTop),t.rotate(d.angle),t.fillRect(-d.kernedWidth/2,x*r+a,d.kernedWidth,this.fontSize/15),t.restore();else if((p!==u||g!==m||r!==i||a!==s)&&f>0){var O=y+o+h;"rtl"===this.direction&&(O=this.width-O-f),u&&m&&(t.fillStyle=m,t.fillRect(O,c+x*i+s,f,this.fontSize/15)),h=d.left,f=d.width,u=p,m=g,i=r,s=a}else f+=d.kernedWidth;O=y+o+h;"rtl"===this.direction&&(O=this.width-O-f),t.fillStyle=g,p&&g&&t.fillRect(O,c+x*i+s,f-w,this.fontSize/15),b+=n}else b+=n;this._removeShadow(t)}},_getFontDeclaration:function(t,n){var i=t||this,r=this.fontFamily,o=e.Text.genericFonts.indexOf(r.toLowerCase())>-1,s=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||o?i.fontFamily:'"'+i.fontFamily+'"';return[e.isLikelyNode?i.fontWeight:i.fontStyle,e.isLikelyNode?i.fontStyle:i.fontWeight,n?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",s].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var n=t.split(this._reNewline),i=new Array(n.length),r=["\n"],o=[],s=0;s<n.length;s++)i[s]=e.util.string.graphemeSplit(n[s]),o=o.concat(i[s],r);return o.pop(),{_unwrappedLines:i,lines:n,graphemeText:o,graphemeLines:i}},toObject:function(t){var n=i.concat(t),r=this.callSuper("toObject",n);return r.styles=e.util.stylesToArray(this.styles,this.text),r.path&&(r.path=this.path.toObject()),r},set:function(t,e){this.callSuper("set",t,e);var n=!1,i=!1;if("object"===typeof t)for(var r in t)"path"===r&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(r),i=i||"path"===r;else n=-1!==this._dimensionAffectingProps.indexOf(t),i="path"===t;return i&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,i,r){if(!t)return i(null);var o=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),s=o.textAnchor||"left";if(r=e.util.object.extend(r?n(r):{},o),r.top=r.top||0,r.left=r.left||0,o.textDecoration){var a=o.textDecoration;-1!==a.indexOf("underline")&&(r.underline=!0),-1!==a.indexOf("overline")&&(r.overline=!0),-1!==a.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in o&&(r.left+=o.dx),"dy"in o&&(r.top+=o.dy),"fontSize"in r||(r.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in t?l=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(l=t.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var u=r.strokeWidth;r.strokeWidth=0;var c=new e.Text(l,r),h=c.getScaledHeight()/c.height,f=(c.height+c.strokeWidth)*c.lineHeight-c.height,d=f*h,p=c.getScaledHeight()+d,v=0;"center"===s&&(v=c.getScaledWidth()/2),"right"===s&&(v=c.getScaledWidth()),c.set({left:c.left-v,top:c.top-(p-c.fontSize*(.07+c._fontSizeFraction))/c.lineHeight,strokeWidth:"undefined"!==typeof u?u:1}),i(c)},e.Text.fromObject=function(t,i){var r=n(t),o=t.path;return delete r.path,e.Object._fromObject("Text",r,(function(n){n.styles=e.util.stylesFromArray(t.styles,t.text),o?e.Object._fromObject("Path",o,(function(t){n.set("path",t),i(n)}),"path"):i(n)}),"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text)}}(e),function(){i.util.object.extend(i.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if("undefined"!==typeof t&&!this.styles[t])return!0;var e="undefined"===typeof t?this.styles:{line:this.styles[t]};for(var n in e)for(var i in e[n])for(var r in e[n][i])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if("undefined"!==typeof e&&!this.styles[e])return!1;var n="undefined"===typeof e?this.styles:{0:this.styles[e]};for(var i in n)for(var r in n[i])if("undefined"!==typeof n[i][r][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,n,i=this.styles,r=0,o=!0,s=0;for(var a in i){for(var l in e=0,i[a]){var u=i[a][l],c=u.hasOwnProperty(t);r++,c?(n?u[t]!==n&&(o=!1):n=u[t],u[t]===this[t]&&delete u[t]):o=!1,0!==Object.keys(u).length?e++:delete i[a][l]}0===e&&delete i[a]}for(var h=0;h<this._textLines.length;h++)s+=this._textLines[h].length;o&&r===s&&(this[t]=n,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,n,i,r=this.styles;for(n in r){for(i in e=r[n],e)delete e[i][t],0===Object.keys(e[i]).length&&delete e[i];0===Object.keys(e).length&&delete r[n]}}},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),i.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),e)},get2DCursorLocation:function(t,e){"undefined"===typeof t&&(t=this.selectionStart);for(var n=e?this._unwrappedTextLines:this._textLines,i=n.length,r=0;r<i;r++){if(t<=n[r].length)return{lineIndex:r,charIndex:t};t-=n[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:n[r-1].length<t?n[r-1].length:t}},getSelectionStyles:function(t,e,n){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof e&&(e=this.selectionEnd||t);for(var i=[],r=t;r<e;r++)i.push(this.getStyleAtPosition(r,n));return i},getStyleAtPosition:function(t,e){var n=this.get2DCursorLocation(t),i=e?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex);return i||{}},setSelectionStyles:function(t,e,n){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof n&&(n=this.selectionEnd||e);for(var i=e;i<n;i++)this._extendStyles(i,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var n=this.styles&&this.styles[t];return n?n[e]:null},getCompleteStyleDeclaration:function(t,e){for(var n,i=this._getStyleDeclaration(t,e)||{},r={},o=0;o<this._styleProperties.length;o++)n=this._styleProperties[o],r[n]="undefined"===typeof i[n]?this[n]:i[n];return r},_setStyleDeclaration:function(t,e,n){this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}})}(),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}i.IText=i.util.createClass(i.Text,i.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(e),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,n=this.height+4;t.clearRect(-e/2,-n/2,e,n)},_getCursorBoundaries:function(t){"undefined"===typeof t&&(t=this.selectionStart);var e=this._getLeftOffset(),n=this._getTopOffset(),i=this._getCursorBoundariesOffsets(t);return{left:e,top:n,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,n,i,r,o=0,s=0,a=this.get2DCursorLocation(t);i=a.charIndex,n=a.lineIndex;for(var l=0;l<n;l++)o+=this.getHeightOfLine(l);e=this._getLineLeftOffset(n);var u=this.__charBounds[n][i];return u&&(s=u.left),0!==this.charSpacing&&i===this._textLines[n].length&&(s-=this._getWidthOfCharSpacing()),r={top:o,left:e+(s>0?s:0)},"rtl"===this.direction&&(r.left*=-1),this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(t,e){var n=this.get2DCursorLocation(),i=n.lineIndex,r=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,r,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,l=t.topOffset,u=this.getValueOfPropertyAt(i,r,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,r,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,l+t.top+u,a,o)},renderSelection:function(t,e){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),s=this.get2DCursorLocation(i),a=o.lineIndex,l=s.lineIndex,u=o.charIndex<0?0:o.charIndex,c=s.charIndex<0?0:s.charIndex,h=a;h<=l;h++){var f=this._getLineLeftOffset(h)||0,d=this.getHeightOfLine(h),p=0,v=0,g=0;if(h===a&&(v=this.__charBounds[a][u].left),h>=a&&h<l)g=r&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===l)if(0===c)g=this.__charBounds[l][c].left;else{var m=this._getWidthOfCharSpacing();g=this.__charBounds[l][c-1].left+this.__charBounds[l][c-1].width-m}p=d,(this.lineHeight<1||h===l&&this.lineHeight>1)&&(d/=this.lineHeight);var y=t.left+f+v,b=g-v,_=d,w=0;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",_=1,w=d):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(y=this.width-y-b),e.fillRect(y,t.top+t.topOffset+w,b,_),t.topOffset+=p}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),i.IText.fromObject=function(e,n){var r=i.util.stylesFromArray(e.styles,e.text),o=Object.assign({},e,{styles:r});if(t(o),o.styles)for(var s in o.styles)for(var a in o.styles[s])t(o.styles[s][a]);i.Object._fromObject("IText",o,n,"text")}}(),function(){var t=i.util.object.clone;i.util.object.extend(i.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],i.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,i){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){r.isAborted||t[i]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),n)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this._text[n]))while(this._reSpace.test(this._text[n]))e++,n--;while(/\S/.test(this._text[n])&&n>-1)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this._text[n]))while(this._reSpace.test(this._text[n]))e++,n++;while(/\S/.test(this._text[n])&&n<this._text.length)e++,n++;return t+e},findLineBoundaryLeft:function(t){var e=0,n=t-1;while(!/\n/.test(this._text[n])&&n>-1)e++,n--;return t-e},findLineBoundaryRight:function(t){var e=0,n=t;while(!/\n/.test(this._text[n])&&n<this._text.length)e++,n++;return t+e},searchWordBoundary:function(t,e){var n=this._text,r=this._reSpace.test(n[t])?t-1:t,o=n[r],s=i.reNonWord;while(!s.test(o)&&r>0&&r<n.length)r+=e,o=n[r];return s.test(o)&&(r+=1===e?0:1),r},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),n=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var e=this.getSelectionStartFromPointer(t.e),n=this.selectionStart,i=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&n!==i||n!==e&&i!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,n){var r=n.slice(0,t),o=i.util.string.graphemeSplit(r).length;if(t===e)return{selectionStart:o,selectionEnd:o};var s=n.slice(t,e),a=i.util.string.graphemeSplit(s).length;return{selectionStart:o,selectionEnd:o+a}},fromGraphemeToStringSelection:function(t,e,n){var i=n.slice(0,t),r=i.join("").length;if(t===e)return{selectionStart:r,selectionEnd:r};var o=n.slice(t,e),s=o.join("").length;return{selectionStart:r,selectionEnd:r+s}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),n=this.get2DCursorLocation(t),r=n.lineIndex,o=n.charIndex,s=this.getValueOfPropertyAt(r,o,"fontSize")*this.lineHeight,a=e.leftOffset,l=this.calcTransformMatrix(),u={x:e.left+a,y:e.top+e.topOffset+s},c=this.canvas.getRetinaScaling(),h=this.canvas.upperCanvasEl,f=h.width/c,d=h.height/c,p=f-s,v=d-s,g=h.clientWidth/f,m=h.clientHeight/d;return u=i.util.transformPoint(u,l),u=i.util.transformPoint(u,this.canvas.viewportTransform),u.x*=g,u.y*=m,u.x<0&&(u.x=0),u.x>p&&(u.x=p),u.y<0&&(u.y=0),u.y>v&&(u.y=v),u.x+=this.canvas._offset.left,u.y+=this.canvas._offset.top,{left:u.x+"px",top:u.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var n,i,r=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),s=r.lineIndex,a=r.charIndex,l=o.lineIndex,u=o.charIndex;if(s!==l){if(this.styles[s])for(n=a;n<this._unwrappedTextLines[s].length;n++)delete this.styles[s][n];if(this.styles[l])for(n=u;n<this._unwrappedTextLines[l].length;n++)i=this.styles[l][n],i&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+n-u]=i);for(n=s+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,s-l)}else if(this.styles[s]){i=this.styles[s];var c,h,f=u-a;for(n=a;n<u;n++)delete i[n];for(h in this.styles[s])c=parseInt(h,10),c>=u&&(i[c-f]=i[h],delete i[h])}},shiftLineStyles:function(e,n){var i=t(this.styles);for(var r in this.styles){var o=parseInt(r,10);o>e&&(this.styles[o+n]=i[o],i[o-n]||delete this.styles[o])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,n,i,r){var o,s={},a=!1,l=this._unwrappedTextLines[e].length===n;for(var u in i||(i=1),this.shiftLineStyles(e,i),this.styles[e]&&(o=this.styles[e][0===n?n:n-1]),this.styles[e]){var c=parseInt(u,10);c>=n&&(a=!0,s[c-n]=this.styles[e][u],l&&0===n||delete this.styles[e][u])}var h=!1;a&&!l&&(this.styles[e+i]=s,h=!0),h&&i--;while(i>0)r&&r[i-1]?this.styles[e+i]={0:t(r[i-1])}:o?this.styles[e+i]={0:t(o)}:delete this.styles[e+i],i--;this._forceClearCache=!0},insertCharStyleObject:function(e,n,i,r){this.styles||(this.styles={});var o=this.styles[e],s=o?t(o):{};for(var a in i||(i=1),s){var l=parseInt(a,10);l>=n&&(o[l+i]=s[l],s[l-i]||delete o[l])}if(this._forceClearCache=!0,r)while(i--)Object.keys(r[i]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][n+i]=t(r[i]));else if(o){var u=o[n?n-1:1];while(u&&i--)this.styles[e][n+i]=t(u)}},insertNewStyleBlock:function(t,e,n){for(var i=this.get2DCursorLocation(e,!0),r=[0],o=0,s=0;s<t.length;s++)"\n"===t[s]?(o++,r[o]=0):r[o]++;r[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,r[0],n),n=n&&n.slice(r[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+r[0],o);for(s=1;s<o;s++)r[s]>0?this.insertCharStyleObject(i.lineIndex+s,0,r[s],n):n&&this.styles[i.lineIndex+s]&&n[0]&&(this.styles[i.lineIndex+s][0]=n[0]),n=n&&n.slice(r[s]+1);r[s]>0&&this.insertCharStyleObject(i.lineIndex+s,0,r[s],n)},setSelectionStartEndWithShift:function(t,e,n){n<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=n)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),i.util.object.extend(i.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),n=this.selectionStart,i=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(n,i,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,n,i=this.getLocalPointer(t),r=0,o=0,s=0,a=0,l=0,u=0,c=this._textLines.length;u<c;u++){if(!(s<=i.y))break;s+=this.getHeightOfLine(u)*this.scaleY,l=u,u>0&&(a+=this._textLines[u-1].length+this.missingNewlineOffset(u-1))}e=this._getLineLeftOffset(l),o=e*this.scaleX,n=this._textLines[l],"rtl"===this.direction&&(i.x=this.width*this.scaleX-i.x+o);for(var h=0,f=n.length;h<f;h++){if(r=o,o+=this.__charBounds[l][h].kernedWidth*this.scaleX,!(o<=i.x))break;a++}return this._getNewSelectionStartFromOffset(i,r,o,a,f)},_getNewSelectionStartFromOffset:function(t,e,n,i,r){var o=t.x-e,s=n-t.x,a=s>o||s<0?0:1,l=i+a;return this.flipX&&(l=r-l),l>this._text.length&&(l=this._text.length),l}}),i.util.object.extend(i.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=i.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+t.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):i.document.body.appendChild(this.hiddenTextarea),i.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),i.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),i.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),i.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(i.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var n,r,o,s,a,l=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,u=this._text.length,c=l.length,h=c-u,f=this.selectionStart,d=this.selectionEnd,p=f!==d;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var v=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=f>v.selectionStart;p?(n=this._text.slice(f,d),h+=d-f):c<u&&(n=g?this._text.slice(d+h,d):this._text.slice(f,f-h)),r=l.slice(v.selectionEnd-h,v.selectionEnd),n&&n.length&&(r.length&&(o=this.getSelectionStyles(f,f+1,!1),o=r.map((function(){return o[0]}))),p?(s=f,a=d):g?(s=d-n.length,a=d):(s=d,a=d+n.length),this.removeStyleFromTo(s,a)),r.length&&(e&&r.join("")===i.copiedText&&!i.disableStyleCopyPaste&&(o=i.copiedTextStyle),this.insertNewStyleBlock(r,f,o)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(i.copiedText=this.getSelectedText(),i.disableStyleCopyPaste?i.copiedTextStyle=null:i.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||i.window.clipboardData},_getWidthBeforeCursor:function(t,e){var n,i=this._getLineLeftOffset(t);return e>0&&(n=this.__charBounds[t][e-1],i+=n.left+n.width),i},getDownCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(n),r=i.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-n;var o=i.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r+1,s),l=this._textLines[r].slice(o);return l.length+a+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(n),r=i.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-n;var o=i.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r-1,s),l=this._textLines[r].slice(0,o),u=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-l.length+(1-u)},_getIndexOnLine:function(t,e){for(var n,i,r=this._textLines[t],o=this._getLineLeftOffset(t),s=o,a=0,l=0,u=r.length;l<u;l++)if(n=this.__charBounds[t][l].width,s+=n,s>e){i=!0;var c=s-n,h=s,f=Math.abs(c-e),d=Math.abs(h-e);a=d<f?l:l-1;break}return i||(a=r.length-1),a},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var n="get"+t+"CursorOffset",i=this[n](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),0!==i&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,n){var i;if(t.altKey)i=this["findWordBoundary"+n](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===n?-1:1,!0;i=this["findLineBoundary"+n](this[e])}if("undefined"!==typeof i&&this[e]!==i)return this[e]=i,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var n="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?n+="Shift":n+="outShift",this[n](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){"undefined"===typeof e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,n,r){"undefined"===typeof r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var o=i.util.string.graphemeSplit(t);this.insertNewStyleBlock(o,n,e),this._text=[].concat(this._text.slice(0,n),o,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var t=i.util.toFixed,e=/  +/g;i.util.object.extend(i.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=!0,n=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",n?'text-decoration="'+n+'" ':"",'style="',this.getSvgStyles(e),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var n,i=[],r=[],o=t;this._setSVGBg(r);for(var s=0,a=this._textLines.length;s<a;s++)n=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(r,s,e+n,o),this._setSVGTextLineText(i,s,e+n,o),o+=this.getHeightOfLine(s);return{textSpans:i,textBgRects:r}},_createTextCharSpan:function(n,r,o,s){var a=n!==n.trim()||n.match(e),l=this.getSvgSpanStyles(r,a),u=l?'style="'+l+'"':"",c=r.deltaY,h="",f=i.Object.NUM_FRACTION_DIGITS;return c&&(h=' dy="'+t(c,f)+'" '),['<tspan x="',t(o,f),'" y="',t(s,f),'" ',h,u,">",i.util.string.escapeXml(n),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,n,r){var o,s,a,l,u,c=this.getHeightOfLine(e),h=-1!==this.textAlign.indexOf("justify"),f="",d=0,p=this._textLines[e];r+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var v=0,g=p.length-1;v<=g;v++)u=v===g||this.charSpacing,f+=p[v],a=this.__charBounds[e][v],0===d?(n+=a.kernedWidth-a.width,d+=a.width):d+=a.kernedWidth,h&&!u&&this._reSpaceAndTab.test(p[v])&&(u=!0),u||(o=o||this.getCompleteStyleDeclaration(e,v),s=this.getCompleteStyleDeclaration(e,v+1),u=i.util.hasStyleChanged(o,s,!0)),u&&(l=this._getStyleDeclaration(e,v)||{},t.push(this._createTextCharSpan(f,l,n,r)),f="",o=s,n+=d,d=0)},_pushTextBgRect:function(e,n,r,o,s,a){var l=i.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(n),' x="',t(r,l),'" y="',t(o,l),'" width="',t(s,l),'" height="',t(a,l),'"></rect>\n')},_setSVGTextLineBg:function(t,e,n,i){for(var r,o,s=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,l=0,u=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),h=0,f=s.length;h<f;h++)r=this.__charBounds[e][h],o=this.getValueOfPropertyAt(e,h,"textBackgroundColor"),o!==c?(c&&this._pushTextBgRect(t,c,n+u,i,l,a),u=r.left,l=r.width,c=o):l+=r.kernedWidth;o&&this._pushTextBgRect(t,o,n+u,i,l,a)},_getFillAttributes:function(t){var e=t&&"string"===typeof t?new i.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e=0,n=0,i=0;i<t;i++)e+=this.getHeightOfLine(i);return n=this.getHeightOfLine(i),{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){var e=i.Object.prototype.getSvgStyles.call(this,t);return e+" white-space: pre;"}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,n=0,i=0,r={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[i]&&o>0?(n=0,i++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[i])&&o>0&&(n++,i++),r[o]={line:e,offset:n},i+=t.graphemeLines[o].length,n+=t.graphemeLines[o].length;return r},styleHas:function(t,n){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[n];i&&(n=i.line)}return e.Text.prototype.styleHas.call(this,t,n)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,n,i=0,r=t+1,o=!1,s=this._styleMap[t],a=this._styleMap[t+1];for(var l in s&&(t=s.line,i=s.offset),a&&(r=a.line,o=r===t,e=a.offset),n="undefined"===typeof t?this.styles:{line:this.styles[t]},n)for(var u in n[l])if(u>=i&&(!o||u<e))for(var c in n[l][u])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[t];if(!n)return null;t=n.line,e=n.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,n){var i=this._styleMap[t];t=i.line,e=i.offset+e,this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){var n=this._styleMap[t];t=n.line,e=n.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var n,i=[];for(this.isWrapping=!0,n=0;n<t.length;n++)i=i.concat(this._wrapLine(t[n],n,e));return this.isWrapping=!1,i},_measureWord:function(t,e,n){var i,r=0,o=!0;n=n||0;for(var s=0,a=t.length;s<a;s++){var l=this._getGraphemeBox(t[s],e,s+n,i,o);r+=l.kernedWidth,i=t[s]}return r},_wrapLine:function(t,n,i,r){var o=0,s=this.splitByGrapheme,a=[],l=[],u=s?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),c="",h=0,f=s?"":" ",d=0,p=0,v=0,g=!0,m=this._getWidthOfCharSpacing();r=r||0;0===u.length&&u.push([]),i-=r;for(var y=0;y<u.length;y++)c=s?u[y]:e.util.string.graphemeSplit(u[y]),d=this._measureWord(c,n,h),h+=c.length,o+=p+d-m,o>i&&!g?(a.push(l),l=[],o=d,g=!0):o+=m,g||s||l.push(f),l=l.concat(c),p=s?0:this._measureWord([f],n,h),h++,g=!1,d>v&&(v=d);return y&&a.push(l),v+r>this.dynamicMinWidth&&(this.dynamicMinWidth=v-m+r),a},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var n=e.Text.prototype._splitTextIntoLines.call(this,t),i=this._wrapText(n.lines,this.width),r=new Array(i.length),o=0;o<i.length;o++)r[o]=i[o].join("");return n.lines=r,n.graphemeLines=i,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,n){var i=e.util.stylesFromArray(t.styles,t.text),r=Object.assign({},t,{styles:i});return e.Object._fromObject("Textbox",r,n,"text")}}(e),function(){var t=i.controlsUtils,e=t.scaleSkewCursorStyleHandler,n=t.scaleCursorStyleHandler,r=t.scalingEqually,o=t.scalingYOrSkewingX,s=t.scalingXOrSkewingY,a=t.scaleOrSkewActionName,l=i.Object.prototype.controls;if(l.ml=new i.Control({x:-.5,y:0,cursorStyleHandler:e,actionHandler:s,getActionName:a}),l.mr=new i.Control({x:.5,y:0,cursorStyleHandler:e,actionHandler:s,getActionName:a}),l.mb=new i.Control({x:0,y:.5,cursorStyleHandler:e,actionHandler:o,getActionName:a}),l.mt=new i.Control({x:0,y:-.5,cursorStyleHandler:e,actionHandler:o,getActionName:a}),l.tl=new i.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),l.tr=new i.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),l.bl=new i.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:r}),l.br=new i.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:r}),l.mtr=new i.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),i.Textbox){var u=i.Textbox.prototype.controls={};u.mtr=l.mtr,u.tr=l.tr,u.br=l.br,u.tl=l.tl,u.bl=l.bl,u.mt=l.mt,u.mb=l.mb,u.mr=new i.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"}),u.ml=new i.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"})}}()},3763:function(){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var t=function(){return t=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},t.apply(this,arguments)};function e(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function n(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i["throw"](t))}catch(e){o(e)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function i(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(r=2&o[0]?i["return"]:o[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function r(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}var o='@charset "UTF-8";\ndiv[id^=font-picker] {\n  position: relative;\n  display: inline-block;\n  width: 200px;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);\n}\ndiv[id^=font-picker] * {\n  box-sizing: border-box;\n}\ndiv[id^=font-picker] p {\n  margin: 0;\n  padding: 0;\n}\ndiv[id^=font-picker] button {\n  color: inherit;\n  font-size: inherit;\n  background: none;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n}\ndiv[id^=font-picker] .dropdown-button {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 35px;\n  padding: 0 10px;\n  background: #cbcbcb;\n}\ndiv[id^=font-picker] .dropdown-button:hover, div[id^=font-picker] .dropdown-button:focus {\n  background: #bebebe;\n}\ndiv[id^=font-picker] .dropdown-button .dropdown-font-name {\n  overflow: hidden;\n  white-space: nowrap;\n}\ndiv[id^=font-picker] .dropdown-icon {\n  margin-left: 10px;\n}\n@-webkit-keyframes spinner {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes spinner {\n  to {\n    transform: rotate(360deg);\n  }\n}\ndiv[id^=font-picker] .dropdown-icon.loading::before {\n  display: block;\n  width: 10px;\n  height: 10px;\n  border: 2px solid #b2b2b2;\n  border-top-color: #000000;\n  border-radius: 50%;\n  -webkit-animation: spinner 0.6s linear infinite;\n          animation: spinner 0.6s linear infinite;\n  content: "";\n}\ndiv[id^=font-picker] .dropdown-icon.finished::before {\n  display: block;\n  width: 0;\n  height: 0;\n  margin: 0 2px;\n  border-top: 6px solid #000000;\n  border-right: 5px solid transparent;\n  border-left: 5px solid transparent;\n  transition: transform 0.3s;\n  content: "";\n}\ndiv[id^=font-picker] .dropdown-icon.error::before {\n  content: "⚠";\n}\ndiv[id^=font-picker].expanded .dropdown-icon.finished::before {\n  transform: rotate(-180deg);\n}\ndiv[id^=font-picker].expanded ul {\n  max-height: 200px;\n}\ndiv[id^=font-picker] ul {\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  max-height: 0;\n  margin: 0;\n  padding: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background: #eaeaea;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);\n  transition: 0.3s;\n  -webkit-overflow-scrolling: touch;\n}\ndiv[id^=font-picker] ul li {\n  height: 35px;\n  list-style: none;\n}\ndiv[id^=font-picker] ul li button {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding: 0 10px;\n  white-space: nowrap;\n}\ndiv[id^=font-picker] ul li button:hover, div[id^=font-picker] ul li button:focus {\n  background: #dddddd;\n}\ndiv[id^=font-picker] ul li button.active-font {\n  background: #d1d1d1;\n}';function s(t){return t.replace(/\s+/g,"-").toLowerCase()}function a(t){if(t.match(/[^0-9a-z]/i))throw Error("The `pickerId` parameter may only contain letters and digits")}function l(t){return new Promise((function(e,n){var i=new XMLHttpRequest;i.overrideMimeType("application/json"),i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&(200!==i.status?n(new Error("Response has status code "+i.status)):e(i.responseText))},i.send()}))}r(o);var u="https://www.googleapis.com/webfonts/v1/webfonts";function c(r){return n(this,void 0,void 0,(function(){var n,o,a,c;return i(this,(function(i){switch(i.label){case 0:return n=new URL(u),n.searchParams.append("sort","popularity"),n.searchParams.append("key",r),[4,l(n.href)];case 1:return o=i.sent(),a=JSON.parse(o),c=a.items,[2,c.map((function(n){var i=n.family,r=n.subsets,o=e(n,["family","subsets"]);return t(t({},o),{family:i,id:s(i),scripts:r})}))]}}))}))}var h=document.createElement("style");function f(t,e){var n=s(t.family),i="\n\t\t\t#font-button-"+n+e+' {\n\t\t\t\tfont-family: "'+t.family+'";\n\t\t\t}\n\t\t';h.appendChild(document.createTextNode(i))}function d(t){var e="active-font-"+t,n=document.getElementById(e);return n||(n=document.createElement("style"),n.id=e,document.head.appendChild(n)),n}function p(t,e,n){var i="\n\t\t.apply-font"+n+' {\n\t\t\tfont-family: "'+t.family+'"'+(e?', "'+e+'"':"")+";\n\t\t}\n\t",r=d(n);r.innerHTML=i}document.head.appendChild(h);var v="data-is-preview";function g(t){return"font-"+t}function m(t,e){var n=document.getElementById(g(t));return null===e||void 0===e?null!==n:null!==n&&n.getAttribute(v)===e.toString()}function y(t,e){var n=document.createElement("style");n.id=g(t),n.setAttribute(v,e.toString()),document.head.appendChild(n)}function b(t,e){var n=g(t),i=document.getElementById(n);i?i.textContent=e:console.error('Could not fill stylesheet: Stylesheet with ID "'+n+'" not found')}function _(t,e){var n=g(t),i=document.getElementById(n);i?i.setAttribute(v,e.toString()):console.error('Could not change stylesheet type: Stylesheet with ID "'+n+'" not found')}function w(t,e){var n,i=[];do{n=t.exec(e),n&&i.push(n[1])}while(n);return i}var x=/@font-face {([\s\S]*?)}/gm,S=/font-family: ['"](.*?)['"]/gm;function C(t){var e=w(x,t),n={};return e.forEach((function(t){var e=w(S,t)[0],i=s(e);i in n||(n[i]=""),n[i]+="@font-face {\n"+t+"\n}\n\n"})),n}var T="https://fonts.googleapis.com/css";function k(t,e,r,o){return n(this,void 0,void 0,(function(){var n,s,a,u,c;return i(this,(function(i){return n=new URL(T),s=r.join(","),a=t.map((function(t){return t.family+":"+s})),n.searchParams.append("family",a.join("|")),n.searchParams.append("subset",e.join(",")),o&&(u=t.map((function(t){return t.family})).join(""),c=u.split("").filter((function(t,e,n){return n.indexOf(t)===e})).join(""),n.searchParams.append("text",c)),n.searchParams.append("font-display","swap"),[2,l(n.href)]}))}))}function O(t,e,r,o){return n(this,void 0,void 0,(function(){var n,s,a,l;return i(this,(function(i){switch(i.label){case 0:return n=Array.from(t.values()),s=n.map((function(t){return t.id})).filter((function(t){return!m(t)})),s.forEach((function(t){return y(t,!0)})),[4,k(n,e,r,!0)];case 1:return a=i.sent(),l=C(a),n.forEach((function(t){if(f(t,o),s.includes(t.id)){if(!(t.id in l))return void console.error('Missing styles for font "'+t.family+'" (fontId "'+t.id+'") in Google Fonts response');b(t.id,l[t.id])}})),[2]}}))}))}function A(t,e,r,o,s){return n(this,void 0,void 0,(function(){var n;return i(this,(function(i){switch(i.label){case 0:return m(t.id,!1)?(p(t,e,s),[3,3]):[3,1];case 1:return m(t.id,!0)?_(t.id,!1):y(t.id,!1),[4,k([t],r,o,!1)];case 2:n=i.sent(),p(t,e,s),b(t.id,n),i.label=3;case 3:return[2]}}))}))}var E="Open Sans",F={pickerId:"",families:[],categories:[],scripts:["latin"],variants:["regular"],filter:function(){return!0},limit:50,sort:"alphabet"},M=function(){function t(t,e,n,i){void 0===e&&(e=E);var r=n.pickerId,o=void 0===r?F.pickerId:r,s=n.families,l=void 0===s?F.families:s,u=n.categories,c=void 0===u?F.categories:u,h=n.scripts,f=void 0===h?F.scripts:h,d=n.variants,p=void 0===d?F.variants:d,v=n.filter,g=void 0===v?F.filter:v,m=n.limit,y=void 0===m?F.limit:m,b=n.sort,_=void 0===b?F.sort:b;void 0===i&&(i=function(){}),this.fonts=new Map,a(o),this.selectorSuffix=o?"-"+o:"",this.apiKey=t,this.options={pickerId:o,families:l,categories:c,scripts:f,variants:p,filter:g,limit:y,sort:_},this.onChange=i,this.addFont(e,!1),this.setActiveFont(e,!1)}return t.prototype.init=function(){return n(this,void 0,void 0,(function(){var t,e,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return[4,c(this.apiKey)];case 1:for(t=i.sent(),e=function(e){var i=t[e];if(n.fonts.size>=n.options.limit)return"break";n.fonts.has(i.family)||0!==n.options.families.length&&!n.options.families.includes(i.family)||0!==n.options.categories.length&&!n.options.categories.includes(i.category)||!n.options.scripts.every((function(t){return i.scripts.includes(t)}))||!n.options.variants.every((function(t){return i.variants.includes(t)}))||!0!==n.options.filter(i)||n.fonts.set(i.family,i)},n=this,r=0;r<t.length;r+=1)if(o=e(r),"break"===o)break;return s=new Map(this.fonts),s["delete"](this.activeFontFamily),O(s,this.options.scripts,this.options.variants,this.selectorSuffix),[2,this.fonts]}}))}))},t.prototype.getFonts=function(){return this.fonts},t.prototype.addFont=function(t,e){void 0===e&&(e=!0);var n={family:t,id:s(t)};if(this.fonts.set(t,n),e){var i=new Map;i.set(t,n),O(i,this.options.scripts,this.options.variants,this.selectorSuffix)}},t.prototype.removeFont=function(t){this.fonts["delete"](t)},t.prototype.getActiveFont=function(){var t=this.fonts.get(this.activeFontFamily);if(t)return t;throw Error('Cannot get active font: "'+this.activeFontFamily+'" is not in the font list')},t.prototype.setActiveFont=function(t,e){var n=this;void 0===e&&(e=!0);var i=this.activeFontFamily,r=this.fonts.get(t);if(!r)throw Error('Cannot update active font: "'+t+'" is not in the font list');this.activeFontFamily=t,A(r,i,this.options.scripts,this.options.variants,this.selectorSuffix).then((function(){e&&n.onChange(r)}))},t.prototype.setOnChange=function(t){this.onChange=t},t}();(function(){function t(t,e,n,i){void 0===e&&(e=E);var r=n.pickerId,o=void 0===r?F.pickerId:r,s=n.families,a=void 0===s?F.families:s,l=n.categories,u=void 0===l?F.categories:l,c=n.scripts,h=void 0===c?F.scripts:c,f=n.variants,d=void 0===f?F.variants:f,p=n.filter,v=void 0===p?F.filter:p,g=n.limit,m=void 0===g?F.limit:g,y=n.sort,b=void 0===y?F.sort:y;void 0===i&&(i=function(){}),this.expanded=!1,this.closeEventListener=this.closeEventListener.bind(this),this.toggleExpanded=this.toggleExpanded.bind(this);var _={pickerId:o,families:a,categories:u,scripts:h,variants:d,filter:v,limit:m,sort:b};this.fontManager=new M(t,e,_,i),this.generateUI(b)}t.prototype.generateUI=function(t){var e=this,n=this.fontManager.selectorSuffix,i="font-picker"+n;if(this.fontPickerDiv=document.getElementById(i),!this.fontPickerDiv)throw Error('Missing div with id="'+i+'"');var r=document.createElement("button");r.classList.add("dropdown-button"),r.onclick=this.toggleExpanded,r.onkeypress=this.toggleExpanded,r.type="button",this.fontPickerDiv.appendChild(r),this.dropdownFamily=document.createElement("p"),this.dropdownFamily.textContent=this.fontManager.getActiveFont().family,this.dropdownFamily.classList.add("dropdown-font-family"),r.appendChild(this.dropdownFamily);var o=document.createElement("p");o.classList.add("dropdown-icon","loading"),r.appendChild(o),this.fontManager.init().then((function(n){var i=Array.from(n.values());"alphabet"===t&&i.sort((function(t,e){return t.family.localeCompare(e.family)})),e.generateFontList(i),o.classList.replace("loading","finished")}))["catch"]((function(t){o.classList.replace("loading","error"),console.error("Error trying to fetch the list of available fonts"),console.error(t)}))},t.prototype.generateFontList=function(t){var e=this;this.ul=document.createElement("ul"),this.ul.classList.add("font-list"),t.forEach((function(t){e.addFontLi(t)})),this.fontPickerDiv.appendChild(this.ul);var n=this.fontManager.getActiveFont().family,i=s(n),r="font-button-"+i+this.fontManager.selectorSuffix;this.activeFontButton=document.getElementById(r),this.activeFontButton?this.activeFontButton.classList.add("active-font"):console.error("Could not find font button with ID ("+r+")")},t.prototype.addFontLi=function(t,e){var n=this,i=s(t.family),r=document.createElement("li");r.classList.add("font-list-item");var o=document.createElement("button");o.type="button",o.id="font-button-"+i+this.fontManager.selectorSuffix,o.classList.add("font-button"),o.textContent=t.family;var a=function(){n.toggleExpanded(),n.setActiveFont(t.family)};o.onclick=a,o.onkeypress=a,r.appendChild(o),e?this.ul.insertBefore(r,this.ul.children[e]):this.ul.appendChild(r)},t.prototype.closeEventListener=function(t){var e=t.target,n=document.getElementById("font-picker"+this.fontManager.selectorSuffix);while(1){if(e===n)return;if(!e.parentNode)return void this.toggleExpanded();e=e.parentNode}},t.prototype.toggleExpanded=function(){this.expanded?(this.expanded=!1,this.fontPickerDiv.classList.remove("expanded"),document.removeEventListener("click",this.closeEventListener)):(this.expanded=!0,this.fontPickerDiv.classList.add("expanded"),document.addEventListener("click",this.closeEventListener))},t.prototype.getFonts=function(){return this.fontManager.getFonts()},t.prototype.addFont=function(t,e){if(Array.from(this.fontManager.getFonts().keys()).includes(t))throw Error('Did not add font to font picker: Font family "'+t+'" is already in the list');this.fontManager.addFont(t,!0);var n=this.fontManager.getFonts().get(t);n?this.addFontLi(n,e):console.error('Font "'+t+'" is missing in font list')},t.prototype.removeFont=function(t){this.fontManager.removeFont(t);var e=s(t),n=document.getElementById("font-button-"+e+this.fontManager.selectorSuffix);if(!n)throw Error('Could not remove font from font picker: Font family "'+t+'" is not in the list');var i=n.parentElement;n.remove(),i&&i.remove()},t.prototype.getActiveFont=function(){return this.fontManager.getActiveFont()},t.prototype.setActiveFont=function(t){this.fontManager.setActiveFont(t);var e=s(t);this.dropdownFamily.textContent=t,this.activeFontButton?(this.activeFontButton.classList.remove("active-font"),this.activeFontButton=document.getElementById("font-button-"+e+this.fontManager.selectorSuffix),this.activeFontButton.classList.add("active-font")):console.error("`activeFontButton` is undefined")},t.prototype.setOnChange=function(t){this.fontManager.setOnChange(t)}})()},668:function(t,e,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */t=n.nmd(t),function(){var r,o="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",d=1,p=2,v=4,g=1,m=2,y=1,b=2,_=4,w=8,x=16,S=32,C=64,T=128,k=256,O=512,A=30,E="...",F=800,M=16,P=1,j=2,R=3,L=1/0,D=9007199254740991,I=17976931348623157e292,z=NaN,B=4294967295,q=B-1,H=B>>>1,V=[["ary",T],["bind",y],["bindKey",b],["curry",w],["curryRight",x],["flip",O],["partial",S],["partialRight",C],["rearg",k]],W="[object Arguments]",N="[object Array]",U="[object AsyncFunction]",Y="[object Boolean]",X="[object Date]",$="[object DOMException]",G="[object Error]",Z="[object Function]",K="[object GeneratorFunction]",J="[object Map]",Q="[object Number]",tt="[object Null]",et="[object Object]",nt="[object Promise]",it="[object Proxy]",rt="[object RegExp]",ot="[object Set]",st="[object String]",at="[object Symbol]",lt="[object Undefined]",ut="[object WeakMap]",ct="[object WeakSet]",ht="[object ArrayBuffer]",ft="[object DataView]",dt="[object Float32Array]",pt="[object Float64Array]",vt="[object Int8Array]",gt="[object Int16Array]",mt="[object Int32Array]",yt="[object Uint8Array]",bt="[object Uint8ClampedArray]",_t="[object Uint16Array]",wt="[object Uint32Array]",xt=/\b__p \+= '';/g,St=/\b(__p \+=) '' \+/g,Ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tt=/&(?:amp|lt|gt|quot|#39);/g,kt=/[&<>"']/g,Ot=RegExp(Tt.source),At=RegExp(kt.source),Et=/<%-([\s\S]+?)%>/g,Ft=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jt=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,Dt=RegExp(Lt.source),It=/^\s+/,zt=/\s/,Bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ht=/,? & /,Vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/[()=,{}\[\]\/\s]/,Nt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yt=/\w*$/,Xt=/^[-+]0x[0-9a-f]+$/i,$t=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,Zt=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qt=/($^)/,te=/['\n\r\u2028\u2029\\]/g,ee="\\ud800-\\udfff",ne="\\u0300-\\u036f",ie="\\ufe20-\\ufe2f",re="\\u20d0-\\u20ff",oe=ne+ie+re,se="\\u2700-\\u27bf",ae="a-z\\xdf-\\xf6\\xf8-\\xff",le="\\xac\\xb1\\xd7\\xf7",ue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ce="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="A-Z\\xc0-\\xd6\\xd8-\\xde",de="\\ufe0e\\ufe0f",pe=le+ue+ce+he,ve="['’]",ge="["+ee+"]",me="["+pe+"]",ye="["+oe+"]",be="\\d+",_e="["+se+"]",we="["+ae+"]",xe="[^"+ee+pe+be+se+ae+fe+"]",Se="\\ud83c[\\udffb-\\udfff]",Ce="(?:"+ye+"|"+Se+")",Te="[^"+ee+"]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="["+fe+"]",Ee="\\u200d",Fe="(?:"+we+"|"+xe+")",Me="(?:"+Ae+"|"+xe+")",Pe="(?:"+ve+"(?:d|ll|m|re|s|t|ve))?",je="(?:"+ve+"(?:D|LL|M|RE|S|T|VE))?",Re=Ce+"?",Le="["+de+"]?",De="(?:"+Ee+"(?:"+[Te,ke,Oe].join("|")+")"+Le+Re+")*",Ie="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ze="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Be=Le+Re+De,qe="(?:"+[_e,ke,Oe].join("|")+")"+Be,He="(?:"+[Te+ye+"?",ye,ke,Oe,ge].join("|")+")",Ve=RegExp(ve,"g"),We=RegExp(ye,"g"),Ne=RegExp(Se+"(?="+Se+")|"+He+Be,"g"),Ue=RegExp([Ae+"?"+we+"+"+Pe+"(?="+[me,Ae,"$"].join("|")+")",Me+"+"+je+"(?="+[me,Ae+Fe,"$"].join("|")+")",Ae+"?"+Fe+"+"+Pe,Ae+"+"+je,ze,Ie,be,qe].join("|"),"g"),Ye=RegExp("["+Ee+ee+oe+de+"]"),Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$e=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ge=-1,Ze={};Ze[dt]=Ze[pt]=Ze[vt]=Ze[gt]=Ze[mt]=Ze[yt]=Ze[bt]=Ze[_t]=Ze[wt]=!0,Ze[W]=Ze[N]=Ze[ht]=Ze[Y]=Ze[ft]=Ze[X]=Ze[G]=Ze[Z]=Ze[J]=Ze[Q]=Ze[et]=Ze[rt]=Ze[ot]=Ze[st]=Ze[ut]=!1;var Ke={};Ke[W]=Ke[N]=Ke[ht]=Ke[ft]=Ke[Y]=Ke[X]=Ke[dt]=Ke[pt]=Ke[vt]=Ke[gt]=Ke[mt]=Ke[J]=Ke[Q]=Ke[et]=Ke[rt]=Ke[ot]=Ke[st]=Ke[at]=Ke[yt]=Ke[bt]=Ke[_t]=Ke[wt]=!0,Ke[G]=Ke[Z]=Ke[ut]=!1;var Je={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,on="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,sn="object"==typeof self&&self&&self.Object===Object&&self,an=on||sn||Function("return this")(),ln=e&&!e.nodeType&&e,un=ln&&t&&!t.nodeType&&t,cn=un&&un.exports===ln,hn=cn&&on.process,fn=function(){try{var t=un&&un.require&&un.require("util").types;return t||hn&&hn.binding&&hn.binding("util")}catch(e){}}(),dn=fn&&fn.isArrayBuffer,pn=fn&&fn.isDate,vn=fn&&fn.isMap,gn=fn&&fn.isRegExp,mn=fn&&fn.isSet,yn=fn&&fn.isTypedArray;function bn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function _n(t,e,n,i){var r=-1,o=null==t?0:t.length;while(++r<o){var s=t[r];e(i,s,n(s),t)}return i}function wn(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(!1===e(t[n],n,t))break;return t}function xn(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function Sn(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(!e(t[n],n,t))return!1;return!0}function Cn(t,e){var n=-1,i=null==t?0:t.length,r=0,o=[];while(++n<i){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function Tn(t,e){var n=null==t?0:t.length;return!!n&&In(t,e,0)>-1}function kn(t,e,n){var i=-1,r=null==t?0:t.length;while(++i<r)if(n(e,t[i]))return!0;return!1}function On(t,e){var n=-1,i=null==t?0:t.length,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}function An(t,e){var n=-1,i=e.length,r=t.length;while(++n<i)t[r+n]=e[n];return t}function En(t,e,n,i){var r=-1,o=null==t?0:t.length;i&&o&&(n=t[++r]);while(++r<o)n=e(n,t[r],r,t);return n}function Fn(t,e,n,i){var r=null==t?0:t.length;i&&r&&(n=t[--r]);while(r--)n=e(n,t[r],r,t);return n}function Mn(t,e){var n=-1,i=null==t?0:t.length;while(++n<i)if(e(t[n],n,t))return!0;return!1}var Pn=Hn("length");function jn(t){return t.split("")}function Rn(t){return t.match(Vt)||[]}function Ln(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Dn(t,e,n,i){var r=t.length,o=n+(i?1:-1);while(i?o--:++o<r)if(e(t[o],o,t))return o;return-1}function In(t,e,n){return e===e?di(t,e,n):Dn(t,Bn,n)}function zn(t,e,n,i){var r=n-1,o=t.length;while(++r<o)if(i(t[r],e))return r;return-1}function Bn(t){return t!==t}function qn(t,e){var n=null==t?0:t.length;return n?Un(t,e)/n:z}function Hn(t){return function(e){return null==e?r:e[t]}}function Vn(t){return function(e){return null==t?r:t[e]}}function Wn(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Nn(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function Un(t,e){var n,i=-1,o=t.length;while(++i<o){var s=e(t[i]);s!==r&&(n=n===r?s:n+s)}return n}function Yn(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function Xn(t,e){return On(e,(function(e){return[e,t[e]]}))}function $n(t){return t?t.slice(0,mi(t)+1).replace(It,""):t}function Gn(t){return function(e){return t(e)}}function Zn(t,e){return On(e,(function(e){return t[e]}))}function Kn(t,e){return t.has(e)}function Jn(t,e){var n=-1,i=t.length;while(++n<i&&In(e,t[n],0)>-1);return n}function Qn(t,e){var n=t.length;while(n--&&In(e,t[n],0)>-1);return n}function ti(t,e){var n=t.length,i=0;while(n--)t[n]===e&&++i;return i}var ei=Vn(Je),ni=Vn(Qe);function ii(t){return"\\"+en[t]}function ri(t,e){return null==t?r:t[e]}function oi(t){return Ye.test(t)}function si(t){return Xe.test(t)}function ai(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function li(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function ui(t,e){return function(n){return t(e(n))}}function ci(t,e){var n=-1,i=t.length,r=0,o=[];while(++n<i){var s=t[n];s!==e&&s!==f||(t[n]=f,o[r++]=n)}return o}function hi(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function fi(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function di(t,e,n){var i=n-1,r=t.length;while(++i<r)if(t[i]===e)return i;return-1}function pi(t,e,n){var i=n+1;while(i--)if(t[i]===e)return i;return i}function vi(t){return oi(t)?bi(t):Pn(t)}function gi(t){return oi(t)?_i(t):jn(t)}function mi(t){var e=t.length;while(e--&&zt.test(t.charAt(e)));return e}var yi=Vn(tn);function bi(t){var e=Ne.lastIndex=0;while(Ne.test(t))++e;return e}function _i(t){return t.match(Ne)||[]}function wi(t){return t.match(Ue)||[]}var xi=function t(e){e=null==e?an:Si.defaults(an.Object(),e,Si.pick(an,$e));var n=e.Array,i=e.Date,zt=e.Error,Vt=e.Function,ee=e.Math,ne=e.Object,ie=e.RegExp,re=e.String,oe=e.TypeError,se=n.prototype,ae=Vt.prototype,le=ne.prototype,ue=e["__core-js_shared__"],ce=ae.toString,he=le.hasOwnProperty,fe=0,de=function(){var t=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=le.toString,ve=ce.call(ne),ge=an._,me=ie("^"+ce.call(he).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=cn?e.Buffer:r,be=e.Symbol,_e=e.Uint8Array,we=ye?ye.allocUnsafe:r,xe=ui(ne.getPrototypeOf,ne),Se=ne.create,Ce=le.propertyIsEnumerable,Te=se.splice,ke=be?be.isConcatSpreadable:r,Oe=be?be.iterator:r,Ae=be?be.toStringTag:r,Ee=function(){try{var t=Xs(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),Fe=e.clearTimeout!==an.clearTimeout&&e.clearTimeout,Me=i&&i.now!==an.Date.now&&i.now,Pe=e.setTimeout!==an.setTimeout&&e.setTimeout,je=ee.ceil,Re=ee.floor,Le=ne.getOwnPropertySymbols,De=ye?ye.isBuffer:r,Ie=e.isFinite,ze=se.join,Be=ui(ne.keys,ne),qe=ee.max,He=ee.min,Ne=i.now,Ue=e.parseInt,Ye=ee.random,Xe=se.reverse,Je=Xs(e,"DataView"),Qe=Xs(e,"Map"),tn=Xs(e,"Promise"),en=Xs(e,"Set"),on=Xs(e,"WeakMap"),sn=Xs(ne,"create"),ln=on&&new on,un={},hn=Pa(Je),fn=Pa(Qe),Pn=Pa(tn),jn=Pa(en),Vn=Pa(on),di=be?be.prototype:r,bi=di?di.valueOf:r,_i=di?di.toString:r;function xi(t){if(Tc(t)&&!lc(t)&&!(t instanceof Oi)){if(t instanceof ki)return t;if(he.call(t,"__wrapped__"))return Ra(t)}return new ki(t)}var Ci=function(){function t(){}return function(e){if(!Cc(e))return{};if(Se)return Se(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Ti(){}function ki(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Oi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function Ai(){var t=new Oi(this.__wrapped__);return t.__actions__=rs(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rs(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rs(this.__views__),t}function Ei(){if(this.__filtered__){var t=new Oi(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Fi(){var t=this.__wrapped__.value(),e=this.__dir__,n=lc(t),i=e<0,r=n?t.length:0,o=Js(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=He(l,this.__takeCount__);if(!n||!i&&r==l&&d==l)return Bo(t,this.__actions__);var p=[];t:while(l--&&f<d){u+=e;var v=-1,g=t[u];while(++v<h){var m=c[v],y=m.iteratee,b=m.type,_=y(g);if(b==j)g=_;else if(!_){if(b==P)continue t;break t}}p[f++]=g}return p}function Mi(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Pi(){this.__data__=sn?sn(null):{},this.size=0}function ji(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ri(t){var e=this.__data__;if(sn){var n=e[t];return n===c?r:n}return he.call(e,t)?e[t]:r}function Li(t){var e=this.__data__;return sn?e[t]!==r:he.call(e,t)}function Di(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sn&&e===r?c:e,this}function Ii(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function zi(){this.__data__=[],this.size=0}function Bi(t){var e=this.__data__,n=cr(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Te.call(e,n,1),--this.size,!0}function qi(t){var e=this.__data__,n=cr(e,t);return n<0?r:e[n][1]}function Hi(t){return cr(this.__data__,t)>-1}function Vi(t,e){var n=this.__data__,i=cr(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Wi(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ni(){this.size=0,this.__data__={hash:new Mi,map:new(Qe||Ii),string:new Mi}}function Ui(t){var e=Us(this,t)["delete"](t);return this.size-=e?1:0,e}function Yi(t){return Us(this,t).get(t)}function Xi(t){return Us(this,t).has(t)}function $i(t,e){var n=Us(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Gi(t){var e=-1,n=null==t?0:t.length;this.__data__=new Wi;while(++e<n)this.add(t[e])}function Zi(t){return this.__data__.set(t,c),this}function Ki(t){return this.__data__.has(t)}function Ji(t){var e=this.__data__=new Ii(t);this.size=e.size}function Qi(){this.__data__=new Ii,this.size=0}function tr(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function er(t){return this.__data__.get(t)}function nr(t){return this.__data__.has(t)}function ir(t,e){var n=this.__data__;if(n instanceof Ii){var i=n.__data__;if(!Qe||i.length<s-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wi(i)}return n.set(t,e),this.size=n.size,this}function rr(t,e){var n=lc(t),i=!n&&ac(t),r=!n&&!i&&dc(t),o=!n&&!i&&!r&&qc(t),s=n||i||r||o,a=s?Yn(t.length,re):[],l=a.length;for(var u in t)!e&&!he.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||sa(u,l))||a.push(u);return a}function or(t){var e=t.length;return e?t[yo(0,e-1)]:r}function sr(t,e){return Ea(rs(t),gr(e,0,t.length))}function ar(t){return Ea(rs(t))}function lr(t,e,n){(n!==r&&!rc(t[e],n)||n===r&&!(e in t))&&pr(t,e,n)}function ur(t,e,n){var i=t[e];he.call(t,e)&&rc(i,n)&&(n!==r||e in t)||pr(t,e,n)}function cr(t,e){var n=t.length;while(n--)if(rc(t[n][0],e))return n;return-1}function hr(t,e,n,i){return xr(t,(function(t,r,o){e(i,t,n(t),o)})),i}function fr(t,e){return t&&os(e,xh(e),t)}function dr(t,e){return t&&os(e,Sh(e),t)}function pr(t,e,n){"__proto__"==e&&Ee?Ee(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vr(t,e){var i=-1,o=e.length,s=n(o),a=null==t;while(++i<o)s[i]=a?r:gh(t,e[i]);return s}function gr(t,e,n){return t===t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function mr(t,e,n,i,o,s){var a,l=e&d,u=e&p,c=e&v;if(n&&(a=o?n(t,i,o,s):n(t)),a!==r)return a;if(!Cc(t))return t;var h=lc(t);if(h){if(a=ea(t),!l)return rs(t,a)}else{var f=Ks(t),g=f==Z||f==K;if(dc(t))return $o(t,l);if(f==et||f==W||g&&!o){if(a=u||g?{}:na(t),!l)return u?as(t,dr(a,t)):ss(t,fr(a,t))}else{if(!Ke[f])return o?t:{};a=ia(t,f,l)}}s||(s=new Ji);var m=s.get(t);if(m)return m;s.set(t,a),Ic(t)?t.forEach((function(i){a.add(mr(i,e,n,i,t,s))})):kc(t)&&t.forEach((function(i,r){a.set(r,mr(i,e,n,r,t,s))}));var y=c?u?qs:Bs:u?Sh:xh,b=h?r:y(t);return wn(b||t,(function(i,r){b&&(r=i,i=t[r]),ur(a,r,mr(i,e,n,r,t,s))})),a}function yr(t){var e=xh(t);return function(n){return br(n,t,e)}}function br(t,e,n){var i=n.length;if(null==t)return!i;t=ne(t);while(i--){var o=n[i],s=e[o],a=t[o];if(a===r&&!(o in t)||!s(a))return!1}return!0}function _r(t,e,n){if("function"!=typeof t)throw new oe(l);return Ta((function(){t.apply(r,n)}),e)}function wr(t,e,n,i){var r=-1,o=Tn,a=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=On(e,Gn(n))),i?(o=kn,a=!1):e.length>=s&&(o=Kn,a=!1,e=new Gi(e));t:while(++r<l){var h=t[r],f=null==n?h:n(h);if(h=i||0!==h?h:0,a&&f===f){var d=c;while(d--)if(e[d]===f)continue t;u.push(h)}else o(e,f,i)||u.push(h)}return u}xi.templateSettings={escape:Et,evaluate:Ft,interpolate:Mt,variable:"",imports:{_:xi}},xi.prototype=Ti.prototype,xi.prototype.constructor=xi,ki.prototype=Ci(Ti.prototype),ki.prototype.constructor=ki,Oi.prototype=Ci(Ti.prototype),Oi.prototype.constructor=Oi,Mi.prototype.clear=Pi,Mi.prototype["delete"]=ji,Mi.prototype.get=Ri,Mi.prototype.has=Li,Mi.prototype.set=Di,Ii.prototype.clear=zi,Ii.prototype["delete"]=Bi,Ii.prototype.get=qi,Ii.prototype.has=Hi,Ii.prototype.set=Vi,Wi.prototype.clear=Ni,Wi.prototype["delete"]=Ui,Wi.prototype.get=Yi,Wi.prototype.has=Xi,Wi.prototype.set=$i,Gi.prototype.add=Gi.prototype.push=Zi,Gi.prototype.has=Ki,Ji.prototype.clear=Qi,Ji.prototype["delete"]=tr,Ji.prototype.get=er,Ji.prototype.has=nr,Ji.prototype.set=ir;var xr=cs(Mr),Sr=cs(Pr,!0);function Cr(t,e){var n=!0;return xr(t,(function(t,i,r){return n=!!e(t,i,r),n})),n}function Tr(t,e,n){var i=-1,o=t.length;while(++i<o){var s=t[i],a=e(s);if(null!=a&&(l===r?a===a&&!Bc(a):n(a,l)))var l=a,u=s}return u}function kr(t,e,n,i){var o=t.length;n=$c(n),n<0&&(n=-n>o?0:o+n),i=i===r||i>o?o:$c(i),i<0&&(i+=o),i=n>i?0:Gc(i);while(n<i)t[n++]=e;return t}function Or(t,e){var n=[];return xr(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function Ar(t,e,n,i,r){var o=-1,s=t.length;n||(n=oa),r||(r=[]);while(++o<s){var a=t[o];e>0&&n(a)?e>1?Ar(a,e-1,n,i,r):An(r,a):i||(r[r.length]=a)}return r}var Er=hs(),Fr=hs(!0);function Mr(t,e){return t&&Er(t,e,xh)}function Pr(t,e){return t&&Fr(t,e,xh)}function jr(t,e){return Cn(e,(function(e){return wc(t[e])}))}function Rr(t,e){e=No(e,t);var n=0,i=e.length;while(null!=t&&n<i)t=t[Ma(e[n++])];return n&&n==i?t:r}function Lr(t,e,n){var i=e(t);return lc(t)?i:An(i,n(t))}function Dr(t){return null==t?t===r?lt:tt:Ae&&Ae in ne(t)?$s(t):ba(t)}function Ir(t,e){return t>e}function zr(t,e){return null!=t&&he.call(t,e)}function Br(t,e){return null!=t&&e in ne(t)}function qr(t,e,n){return t>=He(e,n)&&t<qe(e,n)}function Hr(t,e,i){var o=i?kn:Tn,s=t[0].length,a=t.length,l=a,u=n(a),c=1/0,h=[];while(l--){var f=t[l];l&&e&&(f=On(f,Gn(e))),c=He(f.length,c),u[l]=!i&&(e||s>=120&&f.length>=120)?new Gi(l&&f):r}f=t[0];var d=-1,p=u[0];t:while(++d<s&&h.length<c){var v=f[d],g=e?e(v):v;if(v=i||0!==v?v:0,!(p?Kn(p,g):o(h,g,i))){l=a;while(--l){var m=u[l];if(!(m?Kn(m,g):o(t[l],g,i)))continue t}p&&p.push(g),h.push(v)}}return h}function Vr(t,e,n,i){return Mr(t,(function(t,r,o){e(i,n(t),r,o)})),i}function Wr(t,e,n){e=No(e,t),t=wa(t,e);var i=null==t?t:t[Ma(ol(e))];return null==i?r:bn(i,t,n)}function Nr(t){return Tc(t)&&Dr(t)==W}function Ur(t){return Tc(t)&&Dr(t)==ht}function Yr(t){return Tc(t)&&Dr(t)==X}function Xr(t,e,n,i,r){return t===e||(null==t||null==e||!Tc(t)&&!Tc(e)?t!==t&&e!==e:$r(t,e,n,i,Xr,r))}function $r(t,e,n,i,r,o){var s=lc(t),a=lc(e),l=s?N:Ks(t),u=a?N:Ks(e);l=l==W?et:l,u=u==W?et:u;var c=l==et,h=u==et,f=l==u;if(f&&dc(t)){if(!dc(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new Ji),s||qc(t)?Ls(t,e,n,i,r,o):Ds(t,e,l,n,i,r,o);if(!(n&g)){var d=c&&he.call(t,"__wrapped__"),p=h&&he.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,m=p?e.value():e;return o||(o=new Ji),r(v,m,n,i,o)}}return!!f&&(o||(o=new Ji),Is(t,e,n,i,r,o))}function Gr(t){return Tc(t)&&Ks(t)==J}function Zr(t,e,n,i){var o=n.length,s=o,a=!i;if(null==t)return!s;t=ne(t);while(o--){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++o<s){l=n[o];var u=l[0],c=t[u],h=l[1];if(a&&l[2]){if(c===r&&!(u in t))return!1}else{var f=new Ji;if(i)var d=i(c,h,u,t,e,f);if(!(d===r?Xr(h,c,g|m,i,f):d))return!1}}return!0}function Kr(t){if(!Cc(t)||ha(t))return!1;var e=wc(t)?me:Gt;return e.test(Pa(t))}function Jr(t){return Tc(t)&&Dr(t)==rt}function Qr(t){return Tc(t)&&Ks(t)==ot}function to(t){return Tc(t)&&Sc(t.length)&&!!Ze[Dr(t)]}function eo(t){return"function"==typeof t?t:null==t?Mf:"object"==typeof t?lc(t)?ao(t[0],t[1]):so(t):Nf(t)}function no(t){if(!da(t))return Be(t);var e=[];for(var n in ne(t))he.call(t,n)&&"constructor"!=n&&e.push(n);return e}function io(t){if(!Cc(t))return ya(t);var e=da(t),n=[];for(var i in t)("constructor"!=i||!e&&he.call(t,i))&&n.push(i);return n}function ro(t,e){return t<e}function oo(t,e){var i=-1,r=cc(t)?n(t.length):[];return xr(t,(function(t,n,o){r[++i]=e(t,n,o)})),r}function so(t){var e=Ys(t);return 1==e.length&&e[0][2]?va(e[0][0],e[0][1]):function(n){return n===t||Zr(n,t,e)}}function ao(t,e){return la(t)&&pa(e)?va(Ma(t),e):function(n){var i=gh(n,t);return i===r&&i===e?yh(n,t):Xr(e,i,g|m)}}function lo(t,e,n,i,o){t!==e&&Er(e,(function(s,a){if(o||(o=new Ji),Cc(s))uo(t,e,a,n,lo,i,o);else{var l=i?i(Sa(t,a),s,a+"",t,e,o):r;l===r&&(l=s),lr(t,a,l)}}),Sh)}function uo(t,e,n,i,o,s,a){var l=Sa(t,n),u=Sa(e,n),c=a.get(u);if(c)lr(t,n,c);else{var h=s?s(l,u,n+"",t,e,a):r,f=h===r;if(f){var d=lc(u),p=!d&&dc(u),v=!d&&!p&&qc(u);h=u,d||p||v?lc(l)?h=l:hc(l)?h=rs(l):p?(f=!1,h=$o(u,!0)):v?(f=!1,h=Qo(u,!0)):h=[]:Rc(u)||ac(u)?(h=l,ac(l)?h=Kc(l):Cc(l)&&!wc(l)||(h=na(u))):f=!1}f&&(a.set(u,h),o(h,u,i,s,a),a["delete"](u)),lr(t,n,h)}}function co(t,e){var n=t.length;if(n)return e+=e<0?n:0,sa(e,n)?t[e]:r}function ho(t,e,n){e=e.length?On(e,(function(t){return lc(t)?function(e){return Rr(e,1===t.length?t[0]:t)}:t})):[Mf];var i=-1;e=On(e,Gn(Ns()));var r=oo(t,(function(t,n,r){var o=On(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return Nn(r,(function(t,e){return es(t,e,n)}))}function fo(t,e){return po(t,e,(function(e,n){return yh(t,n)}))}function po(t,e,n){var i=-1,r=e.length,o={};while(++i<r){var s=e[i],a=Rr(t,s);n(a,s)&&Co(o,No(s,t),a)}return o}function vo(t){return function(e){return Rr(e,t)}}function go(t,e,n,i){var r=i?zn:In,o=-1,s=e.length,a=t;t===e&&(e=rs(e)),n&&(a=On(t,Gn(n)));while(++o<s){var l=0,u=e[o],c=n?n(u):u;while((l=r(a,c,l,i))>-1)a!==t&&Te.call(a,l,1),Te.call(t,l,1)}return t}function mo(t,e){var n=t?e.length:0,i=n-1;while(n--){var r=e[n];if(n==i||r!==o){var o=r;sa(r)?Te.call(t,r,1):Do(t,r)}}return t}function yo(t,e){return t+Re(Ye()*(e-t+1))}function bo(t,e,i,r){var o=-1,s=qe(je((e-t)/(i||1)),0),a=n(s);while(s--)a[r?s:++o]=t,t+=i;return a}function _o(t,e){var n="";if(!t||e<1||e>D)return n;do{e%2&&(n+=t),e=Re(e/2),e&&(t+=t)}while(e);return n}function wo(t,e){return ka(_a(t,e,Mf),t+"")}function xo(t){return or(Hh(t))}function So(t,e){var n=Hh(t);return Ea(n,gr(e,0,n.length))}function Co(t,e,n,i){if(!Cc(t))return t;e=No(e,t);var o=-1,s=e.length,a=s-1,l=t;while(null!=l&&++o<s){var u=Ma(e[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var h=l[u];c=i?i(h,u,l):r,c===r&&(c=Cc(h)?h:sa(e[o+1])?[]:{})}ur(l,u,c),l=l[u]}return t}var To=ln?function(t,e){return ln.set(t,e),t}:Mf,ko=Ee?function(t,e){return Ee(t,"toString",{configurable:!0,enumerable:!1,value:Of(e),writable:!0})}:Mf;function Oo(t){return Ea(Hh(t))}function Ao(t,e,i){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),i=i>o?o:i,i<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;var s=n(o);while(++r<o)s[r]=t[r+e];return s}function Eo(t,e){var n;return xr(t,(function(t,i,r){return n=e(t,i,r),!n})),!!n}function Fo(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=H){while(i<r){var o=i+r>>>1,s=t[o];null!==s&&!Bc(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return Mo(t,e,Mf,n)}function Mo(t,e,n,i){var o=0,s=null==t?0:t.length;if(0===s)return 0;e=n(e);var a=e!==e,l=null===e,u=Bc(e),c=e===r;while(o<s){var h=Re((o+s)/2),f=n(t[h]),d=f!==r,p=null===f,v=f===f,g=Bc(f);if(a)var m=i||v;else m=c?v&&(i||d):l?v&&d&&(i||!p):u?v&&d&&!p&&(i||!g):!p&&!g&&(i?f<=e:f<e);m?o=h+1:s=h}return He(s,q)}function Po(t,e){var n=-1,i=t.length,r=0,o=[];while(++n<i){var s=t[n],a=e?e(s):s;if(!n||!rc(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function jo(t){return"number"==typeof t?t:Bc(t)?z:+t}function Ro(t){if("string"==typeof t)return t;if(lc(t))return On(t,Ro)+"";if(Bc(t))return _i?_i.call(t):"";var e=t+"";return"0"==e&&1/t==-L?"-0":e}function Lo(t,e,n){var i=-1,r=Tn,o=t.length,a=!0,l=[],u=l;if(n)a=!1,r=kn;else if(o>=s){var c=e?null:Es(t);if(c)return hi(c);a=!1,r=Kn,u=new Gi}else u=e?[]:l;t:while(++i<o){var h=t[i],f=e?e(h):h;if(h=n||0!==h?h:0,a&&f===f){var d=u.length;while(d--)if(u[d]===f)continue t;e&&u.push(f),l.push(h)}else r(u,f,n)||(u!==l&&u.push(f),l.push(h))}return l}function Do(t,e){return e=No(e,t),t=wa(t,e),null==t||delete t[Ma(ol(e))]}function Io(t,e,n,i){return Co(t,e,n(Rr(t,e)),i)}function zo(t,e,n,i){var r=t.length,o=i?r:-1;while((i?o--:++o<r)&&e(t[o],o,t));return n?Ao(t,i?0:o,i?o+1:r):Ao(t,i?o+1:0,i?r:o)}function Bo(t,e){var n=t;return n instanceof Oi&&(n=n.value()),En(e,(function(t,e){return e.func.apply(e.thisArg,An([t],e.args))}),n)}function qo(t,e,i){var r=t.length;if(r<2)return r?Lo(t[0]):[];var o=-1,s=n(r);while(++o<r){var a=t[o],l=-1;while(++l<r)l!=o&&(s[o]=wr(s[o]||a,t[l],e,i))}return Lo(Ar(s,1),e,i)}function Ho(t,e,n){var i=-1,o=t.length,s=e.length,a={};while(++i<o){var l=i<s?e[i]:r;n(a,t[i],l)}return a}function Vo(t){return hc(t)?t:[]}function Wo(t){return"function"==typeof t?t:Mf}function No(t,e){return lc(t)?t:la(t,e)?[t]:Fa(Qc(t))}var Uo=wo;function Yo(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:Ao(t,e,n)}var Xo=Fe||function(t){return an.clearTimeout(t)};function $o(t,e){if(e)return t.slice();var n=t.length,i=we?we(n):new t.constructor(n);return t.copy(i),i}function Go(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function Zo(t,e){var n=e?Go(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ko(t){var e=new t.constructor(t.source,Yt.exec(t));return e.lastIndex=t.lastIndex,e}function Jo(t){return bi?ne(bi.call(t)):{}}function Qo(t,e){var n=e?Go(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ts(t,e){if(t!==e){var n=t!==r,i=null===t,o=t===t,s=Bc(t),a=e!==r,l=null===e,u=e===e,c=Bc(e);if(!l&&!c&&!s&&t>e||s&&a&&u&&!l&&!c||i&&a&&u||!n&&u||!o)return 1;if(!i&&!s&&!c&&t<e||c&&n&&o&&!i&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}function es(t,e,n){var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;while(++i<s){var l=ts(r[i],o[i]);if(l){if(i>=a)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}function ns(t,e,i,r){var o=-1,s=t.length,a=i.length,l=-1,u=e.length,c=qe(s-a,0),h=n(u+c),f=!r;while(++l<u)h[l]=e[l];while(++o<a)(f||o<s)&&(h[i[o]]=t[o]);while(c--)h[l++]=t[o++];return h}function is(t,e,i,r){var o=-1,s=t.length,a=-1,l=i.length,u=-1,c=e.length,h=qe(s-l,0),f=n(h+c),d=!r;while(++o<h)f[o]=t[o];var p=o;while(++u<c)f[p+u]=e[u];while(++a<l)(d||o<s)&&(f[p+i[a]]=t[o++]);return f}function rs(t,e){var i=-1,r=t.length;e||(e=n(r));while(++i<r)e[i]=t[i];return e}function os(t,e,n,i){var o=!n;n||(n={});var s=-1,a=e.length;while(++s<a){var l=e[s],u=i?i(n[l],t[l],l,n,t):r;u===r&&(u=t[l]),o?pr(n,l,u):ur(n,l,u)}return n}function ss(t,e){return os(t,Gs(t),e)}function as(t,e){return os(t,Zs(t),e)}function ls(t,e){return function(n,i){var r=lc(n)?_n:hr,o=e?e():{};return r(n,t,Ns(i,2),o)}}function us(t){return wo((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;s=t.length>3&&"function"==typeof s?(o--,s):r,a&&aa(n[0],n[1],a)&&(s=o<3?r:s,o=1),e=ne(e);while(++i<o){var l=n[i];l&&t(e,l,i,s)}return e}))}function cs(t,e){return function(n,i){if(null==n)return n;if(!cc(n))return t(n,i);var r=n.length,o=e?r:-1,s=ne(n);while(e?o--:++o<r)if(!1===i(s[o],o,s))break;return n}}function hs(t){return function(e,n,i){var r=-1,o=ne(e),s=i(e),a=s.length;while(a--){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function fs(t,e,n){var i=e&y,r=vs(t);function o(){var e=this&&this!==an&&this instanceof o?r:t;return e.apply(i?n:this,arguments)}return o}function ds(t){return function(e){e=Qc(e);var n=oi(e)?gi(e):r,i=n?n[0]:e.charAt(0),o=n?Yo(n,1).join(""):e.slice(1);return i[t]()+o}}function ps(t){return function(e){return En(xf($h(e).replace(Ve,"")),t,"")}}function vs(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ci(t.prototype),i=t.apply(n,e);return Cc(i)?i:n}}function gs(t,e,i){var o=vs(t);function s(){var a=arguments.length,l=n(a),u=a,c=Ws(s);while(u--)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:ci(l,c);if(a-=h.length,a<i)return Os(t,e,bs,s.placeholder,r,l,h,r,r,i-a);var f=this&&this!==an&&this instanceof s?o:t;return bn(f,this,l)}return s}function ms(t){return function(e,n,i){var o=ne(e);if(!cc(e)){var s=Ns(n,3);e=xh(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,i);return a>-1?o[s?e[a]:a]:r}}function ys(t){return zs((function(e){var n=e.length,i=n,o=ki.prototype.thru;t&&e.reverse();while(i--){var s=e[i];if("function"!=typeof s)throw new oe(l);if(o&&!a&&"wrapper"==Vs(s))var a=new ki([],!0)}i=a?i:n;while(++i<n){s=e[i];var u=Vs(s),c="wrapper"==u?Hs(s):r;a=c&&ca(c[0])&&c[1]==(T|w|S|k)&&!c[4].length&&1==c[9]?a[Vs(c[0])].apply(a,c[3]):1==s.length&&ca(s)?a[u]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&lc(i))return a.plant(i).value();var r=0,o=n?e[r].apply(this,t):i;while(++r<n)o=e[r].call(this,o);return o}}))}function bs(t,e,i,o,s,a,l,u,c,h){var f=e&T,d=e&y,p=e&b,v=e&(w|x),g=e&O,m=p?r:vs(t);function _(){var r=arguments.length,y=n(r),b=r;while(b--)y[b]=arguments[b];if(v)var w=Ws(_),x=ti(y,w);if(o&&(y=ns(y,o,s,v)),a&&(y=is(y,a,l,v)),r-=x,v&&r<h){var S=ci(y,w);return Os(t,e,bs,_.placeholder,i,y,S,u,c,h-r)}var C=d?i:this,T=p?C[t]:t;return r=y.length,u?y=xa(y,u):g&&r>1&&y.reverse(),f&&c<r&&(y.length=c),this&&this!==an&&this instanceof _&&(T=m||vs(T)),T.apply(C,y)}return _}function _s(t,e){return function(n,i){return Vr(n,t,e(i),{})}}function ws(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=Ro(n),i=Ro(i)):(n=jo(n),i=jo(i)),o=t(n,i)}return o}}function xs(t){return zs((function(e){return e=On(e,Gn(Ns())),wo((function(n){var i=this;return t(e,(function(t){return bn(t,i,n)}))}))}))}function Ss(t,e){e=e===r?" ":Ro(e);var n=e.length;if(n<2)return n?_o(e,t):e;var i=_o(e,je(t/vi(e)));return oi(e)?Yo(gi(i),0,t).join(""):i.slice(0,t)}function Cs(t,e,i,r){var o=e&y,s=vs(t);function a(){var e=-1,l=arguments.length,u=-1,c=r.length,h=n(c+l),f=this&&this!==an&&this instanceof a?s:t;while(++u<c)h[u]=r[u];while(l--)h[u++]=arguments[++e];return bn(f,o?i:this,h)}return a}function Ts(t){return function(e,n,i){return i&&"number"!=typeof i&&aa(e,n,i)&&(n=i=r),e=Xc(e),n===r?(n=e,e=0):n=Xc(n),i=i===r?e<n?1:-1:Xc(i),bo(e,n,i,t)}}function ks(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Zc(e),n=Zc(n)),t(e,n)}}function Os(t,e,n,i,o,s,a,l,u,c){var h=e&w,f=h?a:r,d=h?r:a,p=h?s:r,v=h?r:s;e|=h?S:C,e&=~(h?C:S),e&_||(e&=~(y|b));var g=[t,e,o,p,f,v,d,l,u,c],m=n.apply(r,g);return ca(t)&&Ca(m,g),m.placeholder=i,Oa(m,t,e)}function As(t){var e=ee[t];return function(t,n){if(t=Zc(t),n=null==n?0:He($c(n),292),n&&Ie(t)){var i=(Qc(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Qc(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}var Es=en&&1/hi(new en([,-0]))[1]==L?function(t){return new en(t)}:Bf;function Fs(t){return function(e){var n=Ks(e);return n==J?li(e):n==ot?fi(e):Xn(e,t(e))}}function Ms(t,e,n,i,o,s,a,u){var c=e&b;if(!c&&"function"!=typeof t)throw new oe(l);var h=i?i.length:0;if(h||(e&=~(S|C),i=o=r),a=a===r?a:qe($c(a),0),u=u===r?u:$c(u),h-=o?o.length:0,e&C){var f=i,d=o;i=o=r}var p=c?r:Hs(t),v=[t,e,n,i,o,f,d,s,a,u];if(p&&ma(v,p),t=v[0],e=v[1],n=v[2],i=v[3],o=v[4],u=v[9]=v[9]===r?c?0:t.length:qe(v[9]-h,0),!u&&e&(w|x)&&(e&=~(w|x)),e&&e!=y)g=e==w||e==x?gs(t,e,u):e!=S&&e!=(y|S)||o.length?bs.apply(r,v):Cs(t,e,n,i);else var g=fs(t,e,n);var m=p?To:Ca;return Oa(m(g,v),t,e)}function Ps(t,e,n,i){return t===r||rc(t,le[n])&&!he.call(i,n)?e:t}function js(t,e,n,i,o,s){return Cc(t)&&Cc(e)&&(s.set(e,t),lo(t,e,r,js,s),s["delete"](e)),t}function Rs(t){return Rc(t)?r:t}function Ls(t,e,n,i,o,s){var a=n&g,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,d=!0,p=n&m?new Gi:r;s.set(t,e),s.set(e,t);while(++f<l){var v=t[f],y=e[f];if(i)var b=a?i(y,v,f,e,t,s):i(v,y,f,t,e,s);if(b!==r){if(b)continue;d=!1;break}if(p){if(!Mn(e,(function(t,e){if(!Kn(p,e)&&(v===t||o(v,t,n,i,s)))return p.push(e)}))){d=!1;break}}else if(v!==y&&!o(v,y,n,i,s)){d=!1;break}}return s["delete"](t),s["delete"](e),d}function Ds(t,e,n,i,r,o,s){switch(n){case ft:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ht:return!(t.byteLength!=e.byteLength||!o(new _e(t),new _e(e)));case Y:case X:case Q:return rc(+t,+e);case G:return t.name==e.name&&t.message==e.message;case rt:case st:return t==e+"";case J:var a=li;case ot:var l=i&g;if(a||(a=hi),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=m,s.set(t,e);var c=Ls(a(t),a(e),i,r,o,s);return s["delete"](t),c;case at:if(bi)return bi.call(t)==bi.call(e)}return!1}function Is(t,e,n,i,o,s){var a=n&g,l=Bs(t),u=l.length,c=Bs(e),h=c.length;if(u!=h&&!a)return!1;var f=u;while(f--){var d=l[f];if(!(a?d in e:he.call(e,d)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var m=!0;s.set(t,e),s.set(e,t);var y=a;while(++f<u){d=l[f];var b=t[d],_=e[d];if(i)var w=a?i(_,b,d,e,t,s):i(b,_,d,t,e,s);if(!(w===r?b===_||o(b,_,n,i,s):w)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var x=t.constructor,S=e.constructor;x==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S||(m=!1)}return s["delete"](t),s["delete"](e),m}function zs(t){return ka(_a(t,r,$a),t+"")}function Bs(t){return Lr(t,xh,Gs)}function qs(t){return Lr(t,Sh,Zs)}var Hs=ln?function(t){return ln.get(t)}:Bf;function Vs(t){var e=t.name+"",n=un[e],i=he.call(un,e)?n.length:0;while(i--){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Ws(t){var e=he.call(xi,"placeholder")?xi:t;return e.placeholder}function Ns(){var t=xi.iteratee||Pf;return t=t===Pf?eo:t,arguments.length?t(arguments[0],arguments[1]):t}function Us(t,e){var n=t.__data__;return ua(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ys(t){var e=xh(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,pa(r)]}return e}function Xs(t,e){var n=ri(t,e);return Kr(n)?n:r}function $s(t){var e=he.call(t,Ae),n=t[Ae];try{t[Ae]=r;var i=!0}catch(s){}var o=pe.call(t);return i&&(e?t[Ae]=n:delete t[Ae]),o}var Gs=Le?function(t){return null==t?[]:(t=ne(t),Cn(Le(t),(function(e){return Ce.call(t,e)})))}:$f,Zs=Le?function(t){var e=[];while(t)An(e,Gs(t)),t=xe(t);return e}:$f,Ks=Dr;function Js(t,e,n){var i=-1,r=n.length;while(++i<r){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=He(e,t+s);break;case"takeRight":t=qe(t,e-s);break}}return{start:t,end:e}}function Qs(t){var e=t.match(qt);return e?e[1].split(Ht):[]}function ta(t,e,n){e=No(e,t);var i=-1,r=e.length,o=!1;while(++i<r){var s=Ma(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&Sc(r)&&sa(s,r)&&(lc(t)||ac(t)))}function ea(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&he.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function na(t){return"function"!=typeof t.constructor||da(t)?{}:Ci(xe(t))}function ia(t,e,n){var i=t.constructor;switch(e){case ht:return Go(t);case Y:case X:return new i(+t);case ft:return Zo(t,n);case dt:case pt:case vt:case gt:case mt:case yt:case bt:case _t:case wt:return Qo(t,n);case J:return new i;case Q:case st:return new i(t);case rt:return Ko(t);case ot:return new i;case at:return Jo(t)}}function ra(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Bt,"{\n/* [wrapped with "+e+"] */\n")}function oa(t){return lc(t)||ac(t)||!!(ke&&t&&t[ke])}function sa(t,e){var n=typeof t;return e=null==e?D:e,!!e&&("number"==n||"symbol"!=n&&Kt.test(t))&&t>-1&&t%1==0&&t<e}function aa(t,e,n){if(!Cc(n))return!1;var i=typeof e;return!!("number"==i?cc(n)&&sa(e,n.length):"string"==i&&e in n)&&rc(n[e],t)}function la(t,e){if(lc(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Bc(t))||(jt.test(t)||!Pt.test(t)||null!=e&&t in ne(e))}function ua(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ca(t){var e=Vs(t),n=xi[e];if("function"!=typeof n||!(e in Oi.prototype))return!1;if(t===n)return!0;var i=Hs(n);return!!i&&t===i[0]}function ha(t){return!!de&&de in t}(Je&&Ks(new Je(new ArrayBuffer(1)))!=ft||Qe&&Ks(new Qe)!=J||tn&&Ks(tn.resolve())!=nt||en&&Ks(new en)!=ot||on&&Ks(new on)!=ut)&&(Ks=function(t){var e=Dr(t),n=e==et?t.constructor:r,i=n?Pa(n):"";if(i)switch(i){case hn:return ft;case fn:return J;case Pn:return nt;case jn:return ot;case Vn:return ut}return e});var fa=ue?wc:Gf;function da(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||le;return t===n}function pa(t){return t===t&&!Cc(t)}function va(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in ne(n)))}}function ga(t){var e=qu(t,(function(t){return n.size===h&&n.clear(),t})),n=e.cache;return e}function ma(t,e){var n=t[1],i=e[1],r=n|i,o=r<(y|b|T),s=i==T&&n==w||i==T&&n==k&&t[7].length<=e[8]||i==(T|k)&&e[7].length<=e[8]&&n==w;if(!o&&!s)return t;i&y&&(t[2]=e[2],r|=n&y?0:_);var a=e[3];if(a){var l=t[3];t[3]=l?ns(l,a,e[4]):a,t[4]=l?ci(t[3],f):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?is(l,a,e[6]):a,t[6]=l?ci(t[5],f):e[6]),a=e[7],a&&(t[7]=a),i&T&&(t[8]=null==t[8]?e[8]:He(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function ya(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function ba(t){return pe.call(t)}function _a(t,e,i){return e=qe(e===r?t.length-1:e,0),function(){var r=arguments,o=-1,s=qe(r.length-e,0),a=n(s);while(++o<s)a[o]=r[e+o];o=-1;var l=n(e+1);while(++o<e)l[o]=r[o];return l[e]=i(a),bn(t,this,l)}}function wa(t,e){return e.length<2?t:Rr(t,Ao(e,0,-1))}function xa(t,e){var n=t.length,i=He(e.length,n),o=rs(t);while(i--){var s=e[i];t[i]=sa(s,n)?o[s]:r}return t}function Sa(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Ca=Aa(To),Ta=Pe||function(t,e){return an.setTimeout(t,e)},ka=Aa(ko);function Oa(t,e,n){var i=e+"";return ka(t,ra(i,ja(Qs(i),n)))}function Aa(t){var e=0,n=0;return function(){var i=Ne(),o=M-(i-n);if(n=i,o>0){if(++e>=F)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ea(t,e){var n=-1,i=t.length,o=i-1;e=e===r?i:e;while(++n<e){var s=yo(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Fa=ga((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Rt,(function(t,n,i,r){e.push(i?r.replace(Nt,"$1"):n||t)})),e}));function Ma(t){if("string"==typeof t||Bc(t))return t;var e=t+"";return"0"==e&&1/t==-L?"-0":e}function Pa(t){if(null!=t){try{return ce.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ja(t,e){return wn(V,(function(n){var i="_."+n[0];e&n[1]&&!Tn(t,i)&&t.push(i)})),t.sort()}function Ra(t){if(t instanceof Oi)return t.clone();var e=new ki(t.__wrapped__,t.__chain__);return e.__actions__=rs(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function La(t,e,i){e=(i?aa(t,e,i):e===r)?1:qe($c(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];var s=0,a=0,l=n(je(o/e));while(s<o)l[a++]=Ao(t,s,s+=e);return l}function Da(t){var e=-1,n=null==t?0:t.length,i=0,r=[];while(++e<n){var o=t[e];o&&(r[i++]=o)}return r}function Ia(){var t=arguments.length;if(!t)return[];var e=n(t-1),i=arguments[0],r=t;while(r--)e[r-1]=arguments[r];return An(lc(i)?rs(i):[i],Ar(e,1))}var za=wo((function(t,e){return hc(t)?wr(t,Ar(e,1,hc,!0)):[]})),Ba=wo((function(t,e){var n=ol(e);return hc(n)&&(n=r),hc(t)?wr(t,Ar(e,1,hc,!0),Ns(n,2)):[]})),qa=wo((function(t,e){var n=ol(e);return hc(n)&&(n=r),hc(t)?wr(t,Ar(e,1,hc,!0),r,n):[]}));function Ha(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===r?1:$c(e),Ao(t,e<0?0:e,i)):[]}function Va(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===r?1:$c(e),e=i-e,Ao(t,0,e<0?0:e)):[]}function Wa(t,e){return t&&t.length?zo(t,Ns(e,3),!0,!0):[]}function Na(t,e){return t&&t.length?zo(t,Ns(e,3),!0):[]}function Ua(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&aa(t,e,n)&&(n=0,i=r),kr(t,e,n,i)):[]}function Ya(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:$c(n);return r<0&&(r=qe(i+r,0)),Dn(t,Ns(e,3),r)}function Xa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=$c(n),o=n<0?qe(i+o,0):He(o,i-1)),Dn(t,Ns(e,3),o,!0)}function $a(t){var e=null==t?0:t.length;return e?Ar(t,1):[]}function Ga(t){var e=null==t?0:t.length;return e?Ar(t,L):[]}function Za(t,e){var n=null==t?0:t.length;return n?(e=e===r?1:$c(e),Ar(t,e)):[]}function Ka(t){var e=-1,n=null==t?0:t.length,i={};while(++e<n){var r=t[e];i[r[0]]=r[1]}return i}function Ja(t){return t&&t.length?t[0]:r}function Qa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:$c(n);return r<0&&(r=qe(i+r,0)),In(t,e,r)}function tl(t){var e=null==t?0:t.length;return e?Ao(t,0,-1):[]}var el=wo((function(t){var e=On(t,Vo);return e.length&&e[0]===t[0]?Hr(e):[]})),nl=wo((function(t){var e=ol(t),n=On(t,Vo);return e===ol(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Hr(n,Ns(e,2)):[]})),il=wo((function(t){var e=ol(t),n=On(t,Vo);return e="function"==typeof e?e:r,e&&n.pop(),n.length&&n[0]===t[0]?Hr(n,r,e):[]}));function rl(t,e){return null==t?"":ze.call(t,e)}function ol(t){var e=null==t?0:t.length;return e?t[e-1]:r}function sl(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=$c(n),o=o<0?qe(i+o,0):He(o,i-1)),e===e?pi(t,e,o):Dn(t,Bn,o,!0)}function al(t,e){return t&&t.length?co(t,$c(e)):r}var ll=wo(ul);function ul(t,e){return t&&t.length&&e&&e.length?go(t,e):t}function cl(t,e,n){return t&&t.length&&e&&e.length?go(t,e,Ns(n,2)):t}function hl(t,e,n){return t&&t.length&&e&&e.length?go(t,e,r,n):t}var fl=zs((function(t,e){var n=null==t?0:t.length,i=vr(t,e);return mo(t,On(e,(function(t){return sa(t,n)?+t:t})).sort(ts)),i}));function dl(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;e=Ns(e,3);while(++i<o){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return mo(t,r),n}function pl(t){return null==t?t:Xe.call(t)}function vl(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&aa(t,e,n)?(e=0,n=i):(e=null==e?0:$c(e),n=n===r?i:$c(n)),Ao(t,e,n)):[]}function gl(t,e){return Fo(t,e)}function ml(t,e,n){return Mo(t,e,Ns(n,2))}function yl(t,e){var n=null==t?0:t.length;if(n){var i=Fo(t,e);if(i<n&&rc(t[i],e))return i}return-1}function bl(t,e){return Fo(t,e,!0)}function _l(t,e,n){return Mo(t,e,Ns(n,2),!0)}function wl(t,e){var n=null==t?0:t.length;if(n){var i=Fo(t,e,!0)-1;if(rc(t[i],e))return i}return-1}function xl(t){return t&&t.length?Po(t):[]}function Sl(t,e){return t&&t.length?Po(t,Ns(e,2)):[]}function Cl(t){var e=null==t?0:t.length;return e?Ao(t,1,e):[]}function Tl(t,e,n){return t&&t.length?(e=n||e===r?1:$c(e),Ao(t,0,e<0?0:e)):[]}function kl(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===r?1:$c(e),e=i-e,Ao(t,e<0?0:e,i)):[]}function Ol(t,e){return t&&t.length?zo(t,Ns(e,3),!1,!0):[]}function Al(t,e){return t&&t.length?zo(t,Ns(e,3)):[]}var El=wo((function(t){return Lo(Ar(t,1,hc,!0))})),Fl=wo((function(t){var e=ol(t);return hc(e)&&(e=r),Lo(Ar(t,1,hc,!0),Ns(e,2))})),Ml=wo((function(t){var e=ol(t);return e="function"==typeof e?e:r,Lo(Ar(t,1,hc,!0),r,e)}));function Pl(t){return t&&t.length?Lo(t):[]}function jl(t,e){return t&&t.length?Lo(t,Ns(e,2)):[]}function Rl(t,e){return e="function"==typeof e?e:r,t&&t.length?Lo(t,r,e):[]}function Ll(t){if(!t||!t.length)return[];var e=0;return t=Cn(t,(function(t){if(hc(t))return e=qe(t.length,e),!0})),Yn(e,(function(e){return On(t,Hn(e))}))}function Dl(t,e){if(!t||!t.length)return[];var n=Ll(t);return null==e?n:On(n,(function(t){return bn(e,r,t)}))}var Il=wo((function(t,e){return hc(t)?wr(t,e):[]})),zl=wo((function(t){return qo(Cn(t,hc))})),Bl=wo((function(t){var e=ol(t);return hc(e)&&(e=r),qo(Cn(t,hc),Ns(e,2))})),ql=wo((function(t){var e=ol(t);return e="function"==typeof e?e:r,qo(Cn(t,hc),r,e)})),Hl=wo(Ll);function Vl(t,e){return Ho(t||[],e||[],ur)}function Wl(t,e){return Ho(t||[],e||[],Co)}var Nl=wo((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,Dl(t,n)}));function Ul(t){var e=xi(t);return e.__chain__=!0,e}function Yl(t,e){return e(t),t}function Xl(t,e){return e(t)}var $l=zs((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return vr(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Oi&&sa(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Xl,args:[o],thisArg:r}),new ki(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)}));function Gl(){return Ul(this)}function Zl(){return new ki(this.value(),this.__chain__)}function Kl(){this.__values__===r&&(this.__values__=Yc(this.value()));var t=this.__index__>=this.__values__.length,e=t?r:this.__values__[this.__index__++];return{done:t,value:e}}function Jl(){return this}function Ql(t){var e,n=this;while(n instanceof Ti){var i=Ra(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function tu(){var t=this.__wrapped__;if(t instanceof Oi){var e=t;return this.__actions__.length&&(e=new Oi(this)),e=e.reverse(),e.__actions__.push({func:Xl,args:[pl],thisArg:r}),new ki(e,this.__chain__)}return this.thru(pl)}function eu(){return Bo(this.__wrapped__,this.__actions__)}var nu=ls((function(t,e,n){he.call(t,n)?++t[n]:pr(t,n,1)}));function iu(t,e,n){var i=lc(t)?Sn:Cr;return n&&aa(t,e,n)&&(e=r),i(t,Ns(e,3))}function ru(t,e){var n=lc(t)?Cn:Or;return n(t,Ns(e,3))}var ou=ms(Ya),su=ms(Xa);function au(t,e){return Ar(gu(t,e),1)}function lu(t,e){return Ar(gu(t,e),L)}function uu(t,e,n){return n=n===r?1:$c(n),Ar(gu(t,e),n)}function cu(t,e){var n=lc(t)?wn:xr;return n(t,Ns(e,3))}function hu(t,e){var n=lc(t)?xn:Sr;return n(t,Ns(e,3))}var fu=ls((function(t,e,n){he.call(t,n)?t[n].push(e):pr(t,n,[e])}));function du(t,e,n,i){t=cc(t)?t:Hh(t),n=n&&!i?$c(n):0;var r=t.length;return n<0&&(n=qe(r+n,0)),zc(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&In(t,e,n)>-1}var pu=wo((function(t,e,i){var r=-1,o="function"==typeof e,s=cc(t)?n(t.length):[];return xr(t,(function(t){s[++r]=o?bn(e,t,i):Wr(t,e,i)})),s})),vu=ls((function(t,e,n){pr(t,n,e)}));function gu(t,e){var n=lc(t)?On:oo;return n(t,Ns(e,3))}function mu(t,e,n,i){return null==t?[]:(lc(e)||(e=null==e?[]:[e]),n=i?r:n,lc(n)||(n=null==n?[]:[n]),ho(t,e,n))}var yu=ls((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function bu(t,e,n){var i=lc(t)?En:Wn,r=arguments.length<3;return i(t,Ns(e,4),n,r,xr)}function _u(t,e,n){var i=lc(t)?Fn:Wn,r=arguments.length<3;return i(t,Ns(e,4),n,r,Sr)}function wu(t,e){var n=lc(t)?Cn:Or;return n(t,Hu(Ns(e,3)))}function xu(t){var e=lc(t)?or:xo;return e(t)}function Su(t,e,n){e=(n?aa(t,e,n):e===r)?1:$c(e);var i=lc(t)?sr:So;return i(t,e)}function Cu(t){var e=lc(t)?ar:Oo;return e(t)}function Tu(t){if(null==t)return 0;if(cc(t))return zc(t)?vi(t):t.length;var e=Ks(t);return e==J||e==ot?t.size:no(t).length}function ku(t,e,n){var i=lc(t)?Mn:Eo;return n&&aa(t,e,n)&&(e=r),i(t,Ns(e,3))}var Ou=wo((function(t,e){if(null==t)return[];var n=e.length;return n>1&&aa(t,e[0],e[1])?e=[]:n>2&&aa(e[0],e[1],e[2])&&(e=[e[0]]),ho(t,Ar(e,1),[])})),Au=Me||function(){return an.Date.now()};function Eu(t,e){if("function"!=typeof e)throw new oe(l);return t=$c(t),function(){if(--t<1)return e.apply(this,arguments)}}function Fu(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Ms(t,T,r,r,r,r,e)}function Mu(t,e){var n;if("function"!=typeof e)throw new oe(l);return t=$c(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Pu=wo((function(t,e,n){var i=y;if(n.length){var r=ci(n,Ws(Pu));i|=S}return Ms(t,i,e,n,r)})),ju=wo((function(t,e,n){var i=y|b;if(n.length){var r=ci(n,Ws(ju));i|=S}return Ms(e,i,t,n,r)}));function Ru(t,e,n){e=n?r:e;var i=Ms(t,w,r,r,r,r,r,e);return i.placeholder=Ru.placeholder,i}function Lu(t,e,n){e=n?r:e;var i=Ms(t,x,r,r,r,r,r,e);return i.placeholder=Lu.placeholder,i}function Du(t,e,n){var i,o,s,a,u,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new oe(l);function v(e){var n=i,s=o;return i=o=r,h=e,a=t.apply(s,n),a}function g(t){return h=t,u=Ta(b,e),f?v(t):a}function m(t){var n=t-c,i=t-h,r=e-n;return d?He(r,s-i):r}function y(t){var n=t-c,i=t-h;return c===r||n>=e||n<0||d&&i>=s}function b(){var t=Au();if(y(t))return _(t);u=Ta(b,m(t))}function _(t){return u=r,p&&i?v(t):(i=o=r,a)}function w(){u!==r&&Xo(u),h=0,i=c=o=u=r}function x(){return u===r?a:_(Au())}function S(){var t=Au(),n=y(t);if(i=arguments,o=this,c=t,n){if(u===r)return g(c);if(d)return Xo(u),u=Ta(b,e),v(c)}return u===r&&(u=Ta(b,e)),a}return e=Zc(e)||0,Cc(n)&&(f=!!n.leading,d="maxWait"in n,s=d?qe(Zc(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),S.cancel=w,S.flush=x,S}var Iu=wo((function(t,e){return _r(t,1,e)})),zu=wo((function(t,e,n){return _r(t,Zc(e)||0,n)}));function Bu(t){return Ms(t,O)}function qu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(l);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(qu.Cache||Wi),n}function Hu(t){if("function"!=typeof t)throw new oe(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Vu(t){return Mu(2,t)}qu.Cache=Wi;var Wu=Uo((function(t,e){e=1==e.length&&lc(e[0])?On(e[0],Gn(Ns())):On(Ar(e,1),Gn(Ns()));var n=e.length;return wo((function(i){var r=-1,o=He(i.length,n);while(++r<o)i[r]=e[r].call(this,i[r]);return bn(t,this,i)}))})),Nu=wo((function(t,e){var n=ci(e,Ws(Nu));return Ms(t,S,r,e,n)})),Uu=wo((function(t,e){var n=ci(e,Ws(Uu));return Ms(t,C,r,e,n)})),Yu=zs((function(t,e){return Ms(t,k,r,r,r,e)}));function Xu(t,e){if("function"!=typeof t)throw new oe(l);return e=e===r?e:$c(e),wo(t,e)}function $u(t,e){if("function"!=typeof t)throw new oe(l);return e=null==e?0:qe($c(e),0),wo((function(n){var i=n[e],r=Yo(n,0,e);return i&&An(r,i),bn(t,this,r)}))}function Gu(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new oe(l);return Cc(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Du(t,e,{leading:i,maxWait:e,trailing:r})}function Zu(t){return Fu(t,1)}function Ku(t,e){return Nu(Wo(e),t)}function Ju(){if(!arguments.length)return[];var t=arguments[0];return lc(t)?t:[t]}function Qu(t){return mr(t,v)}function tc(t,e){return e="function"==typeof e?e:r,mr(t,v,e)}function ec(t){return mr(t,d|v)}function nc(t,e){return e="function"==typeof e?e:r,mr(t,d|v,e)}function ic(t,e){return null==e||br(t,e,xh(e))}function rc(t,e){return t===e||t!==t&&e!==e}var oc=ks(Ir),sc=ks((function(t,e){return t>=e})),ac=Nr(function(){return arguments}())?Nr:function(t){return Tc(t)&&he.call(t,"callee")&&!Ce.call(t,"callee")},lc=n.isArray,uc=dn?Gn(dn):Ur;function cc(t){return null!=t&&Sc(t.length)&&!wc(t)}function hc(t){return Tc(t)&&cc(t)}function fc(t){return!0===t||!1===t||Tc(t)&&Dr(t)==Y}var dc=De||Gf,pc=pn?Gn(pn):Yr;function vc(t){return Tc(t)&&1===t.nodeType&&!Rc(t)}function gc(t){if(null==t)return!0;if(cc(t)&&(lc(t)||"string"==typeof t||"function"==typeof t.splice||dc(t)||qc(t)||ac(t)))return!t.length;var e=Ks(t);if(e==J||e==ot)return!t.size;if(da(t))return!no(t).length;for(var n in t)if(he.call(t,n))return!1;return!0}function mc(t,e){return Xr(t,e)}function yc(t,e,n){n="function"==typeof n?n:r;var i=n?n(t,e):r;return i===r?Xr(t,e,r,n):!!i}function bc(t){if(!Tc(t))return!1;var e=Dr(t);return e==G||e==$||"string"==typeof t.message&&"string"==typeof t.name&&!Rc(t)}function _c(t){return"number"==typeof t&&Ie(t)}function wc(t){if(!Cc(t))return!1;var e=Dr(t);return e==Z||e==K||e==U||e==it}function xc(t){return"number"==typeof t&&t==$c(t)}function Sc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=D}function Cc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Tc(t){return null!=t&&"object"==typeof t}var kc=vn?Gn(vn):Gr;function Oc(t,e){return t===e||Zr(t,e,Ys(e))}function Ac(t,e,n){return n="function"==typeof n?n:r,Zr(t,e,Ys(e),n)}function Ec(t){return jc(t)&&t!=+t}function Fc(t){if(fa(t))throw new zt(a);return Kr(t)}function Mc(t){return null===t}function Pc(t){return null==t}function jc(t){return"number"==typeof t||Tc(t)&&Dr(t)==Q}function Rc(t){if(!Tc(t)||Dr(t)!=et)return!1;var e=xe(t);if(null===e)return!0;var n=he.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==ve}var Lc=gn?Gn(gn):Jr;function Dc(t){return xc(t)&&t>=-D&&t<=D}var Ic=mn?Gn(mn):Qr;function zc(t){return"string"==typeof t||!lc(t)&&Tc(t)&&Dr(t)==st}function Bc(t){return"symbol"==typeof t||Tc(t)&&Dr(t)==at}var qc=yn?Gn(yn):to;function Hc(t){return t===r}function Vc(t){return Tc(t)&&Ks(t)==ut}function Wc(t){return Tc(t)&&Dr(t)==ct}var Nc=ks(ro),Uc=ks((function(t,e){return t<=e}));function Yc(t){if(!t)return[];if(cc(t))return zc(t)?gi(t):rs(t);if(Oe&&t[Oe])return ai(t[Oe]());var e=Ks(t),n=e==J?li:e==ot?hi:Hh;return n(t)}function Xc(t){if(!t)return 0===t?t:0;if(t=Zc(t),t===L||t===-L){var e=t<0?-1:1;return e*I}return t===t?t:0}function $c(t){var e=Xc(t),n=e%1;return e===e?n?e-n:e:0}function Gc(t){return t?gr($c(t),0,B):0}function Zc(t){if("number"==typeof t)return t;if(Bc(t))return z;if(Cc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Cc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$n(t);var n=$t.test(t);return n||Zt.test(t)?rn(t.slice(2),n?2:8):Xt.test(t)?z:+t}function Kc(t){return os(t,Sh(t))}function Jc(t){return t?gr($c(t),-D,D):0===t?t:0}function Qc(t){return null==t?"":Ro(t)}var th=us((function(t,e){if(da(e)||cc(e))os(e,xh(e),t);else for(var n in e)he.call(e,n)&&ur(t,n,e[n])})),eh=us((function(t,e){os(e,Sh(e),t)})),nh=us((function(t,e,n,i){os(e,Sh(e),t,i)})),ih=us((function(t,e,n,i){os(e,xh(e),t,i)})),rh=zs(vr);function oh(t,e){var n=Ci(t);return null==e?n:fr(n,e)}var sh=wo((function(t,e){t=ne(t);var n=-1,i=e.length,o=i>2?e[2]:r;o&&aa(e[0],e[1],o)&&(i=1);while(++n<i){var s=e[n],a=Sh(s),l=-1,u=a.length;while(++l<u){var c=a[l],h=t[c];(h===r||rc(h,le[c])&&!he.call(t,c))&&(t[c]=s[c])}}return t})),ah=wo((function(t){return t.push(r,js),bn(Oh,r,t)}));function lh(t,e){return Ln(t,Ns(e,3),Mr)}function uh(t,e){return Ln(t,Ns(e,3),Pr)}function ch(t,e){return null==t?t:Er(t,Ns(e,3),Sh)}function hh(t,e){return null==t?t:Fr(t,Ns(e,3),Sh)}function fh(t,e){return t&&Mr(t,Ns(e,3))}function dh(t,e){return t&&Pr(t,Ns(e,3))}function ph(t){return null==t?[]:jr(t,xh(t))}function vh(t){return null==t?[]:jr(t,Sh(t))}function gh(t,e,n){var i=null==t?r:Rr(t,e);return i===r?n:i}function mh(t,e){return null!=t&&ta(t,e,zr)}function yh(t,e){return null!=t&&ta(t,e,Br)}var bh=_s((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n}),Of(Mf)),_h=_s((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),he.call(t,e)?t[e].push(n):t[e]=[n]}),Ns),wh=wo(Wr);function xh(t){return cc(t)?rr(t):no(t)}function Sh(t){return cc(t)?rr(t,!0):io(t)}function Ch(t,e){var n={};return e=Ns(e,3),Mr(t,(function(t,i,r){pr(n,e(t,i,r),t)})),n}function Th(t,e){var n={};return e=Ns(e,3),Mr(t,(function(t,i,r){pr(n,i,e(t,i,r))})),n}var kh=us((function(t,e,n){lo(t,e,n)})),Oh=us((function(t,e,n,i){lo(t,e,n,i)})),Ah=zs((function(t,e){var n={};if(null==t)return n;var i=!1;e=On(e,(function(e){return e=No(e,t),i||(i=e.length>1),e})),os(t,qs(t),n),i&&(n=mr(n,d|p|v,Rs));var r=e.length;while(r--)Do(n,e[r]);return n}));function Eh(t,e){return Mh(t,Hu(Ns(e)))}var Fh=zs((function(t,e){return null==t?{}:fo(t,e)}));function Mh(t,e){if(null==t)return{};var n=On(qs(t),(function(t){return[t]}));return e=Ns(e),po(t,n,(function(t,n){return e(t,n[0])}))}function Ph(t,e,n){e=No(e,t);var i=-1,o=e.length;o||(o=1,t=r);while(++i<o){var s=null==t?r:t[Ma(e[i])];s===r&&(i=o,s=n),t=wc(s)?s.call(t):s}return t}function jh(t,e,n){return null==t?t:Co(t,e,n)}function Rh(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Co(t,e,n,i)}var Lh=Fs(xh),Dh=Fs(Sh);function Ih(t,e,n){var i=lc(t),r=i||dc(t)||qc(t);if(e=Ns(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Cc(t)&&wc(o)?Ci(xe(t)):{}}return(r?wn:Mr)(t,(function(t,i,r){return e(n,t,i,r)})),n}function zh(t,e){return null==t||Do(t,e)}function Bh(t,e,n){return null==t?t:Io(t,e,Wo(n))}function qh(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Io(t,e,Wo(n),i)}function Hh(t){return null==t?[]:Zn(t,xh(t))}function Vh(t){return null==t?[]:Zn(t,Sh(t))}function Wh(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=Zc(n),n=n===n?n:0),e!==r&&(e=Zc(e),e=e===e?e:0),gr(Zc(t),e,n)}function Nh(t,e,n){return e=Xc(e),n===r?(n=e,e=0):n=Xc(n),t=Zc(t),qr(t,e,n)}function Uh(t,e,n){if(n&&"boolean"!=typeof n&&aa(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Xc(t),e===r?(e=t,t=0):e=Xc(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=Ye();return He(t+o*(e-t+nn("1e-"+((o+"").length-1))),e)}return yo(t,e)}var Yh=ps((function(t,e,n){return e=e.toLowerCase(),t+(n?Xh(e):e)}));function Xh(t){return wf(Qc(t).toLowerCase())}function $h(t){return t=Qc(t),t&&t.replace(Jt,ei).replace(We,"")}function Gh(t,e,n){t=Qc(t),e=Ro(e);var i=t.length;n=n===r?i:gr($c(n),0,i);var o=n;return n-=e.length,n>=0&&t.slice(n,o)==e}function Zh(t){return t=Qc(t),t&&At.test(t)?t.replace(kt,ni):t}function Kh(t){return t=Qc(t),t&&Dt.test(t)?t.replace(Lt,"\\$&"):t}var Jh=ps((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Qh=ps((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),tf=ds("toLowerCase");function ef(t,e,n){t=Qc(t),e=$c(e);var i=e?vi(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Ss(Re(r),n)+t+Ss(je(r),n)}function nf(t,e,n){t=Qc(t),e=$c(e);var i=e?vi(t):0;return e&&i<e?t+Ss(e-i,n):t}function rf(t,e,n){t=Qc(t),e=$c(e);var i=e?vi(t):0;return e&&i<e?Ss(e-i,n)+t:t}function of(t,e,n){return n||null==e?e=0:e&&(e=+e),Ue(Qc(t).replace(It,""),e||0)}function sf(t,e,n){return e=(n?aa(t,e,n):e===r)?1:$c(e),_o(Qc(t),e)}function af(){var t=arguments,e=Qc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var lf=ps((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function uf(t,e,n){return n&&"number"!=typeof n&&aa(t,e,n)&&(e=n=r),n=n===r?B:n>>>0,n?(t=Qc(t),t&&("string"==typeof e||null!=e&&!Lc(e))&&(e=Ro(e),!e&&oi(t))?Yo(gi(t),0,n):t.split(e,n)):[]}var cf=ps((function(t,e,n){return t+(n?" ":"")+wf(e)}));function hf(t,e,n){return t=Qc(t),n=null==n?0:gr($c(n),0,t.length),e=Ro(e),t.slice(n,n+e.length)==e}function ff(t,e,n){var i=xi.templateSettings;n&&aa(t,e,n)&&(e=r),t=Qc(t),e=nh({},e,i,Ps);var o,s,a=nh({},e.imports,i.imports,Ps),l=xh(a),c=Zn(a,l),h=0,f=e.interpolate||Qt,d="__p += '",p=ie((e.escape||Qt).source+"|"+f.source+"|"+(f===Mt?Ut:Qt).source+"|"+(e.evaluate||Qt).source+"|$","g"),v="//# sourceURL="+(he.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ge+"]")+"\n";t.replace(p,(function(e,n,i,r,a,l){return i||(i=r),d+=t.slice(h,l).replace(te,ii),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),d+="';\n";var g=he.call(e,"variable")&&e.variable;if(g){if(Wt.test(g))throw new zt(u)}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(xt,""):d).replace(St,"$1").replace(Ct,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Sf((function(){return Vt(l,v+"return "+d).apply(r,c)}));if(m.source=d,bc(m))throw m;return m}function df(t){return Qc(t).toLowerCase()}function pf(t){return Qc(t).toUpperCase()}function vf(t,e,n){if(t=Qc(t),t&&(n||e===r))return $n(t);if(!t||!(e=Ro(e)))return t;var i=gi(t),o=gi(e),s=Jn(i,o),a=Qn(i,o)+1;return Yo(i,s,a).join("")}function gf(t,e,n){if(t=Qc(t),t&&(n||e===r))return t.slice(0,mi(t)+1);if(!t||!(e=Ro(e)))return t;var i=gi(t),o=Qn(i,gi(e))+1;return Yo(i,0,o).join("")}function mf(t,e,n){if(t=Qc(t),t&&(n||e===r))return t.replace(It,"");if(!t||!(e=Ro(e)))return t;var i=gi(t),o=Jn(i,gi(e));return Yo(i,o).join("")}function yf(t,e){var n=A,i=E;if(Cc(e)){var o="separator"in e?e.separator:o;n="length"in e?$c(e.length):n,i="omission"in e?Ro(e.omission):i}t=Qc(t);var s=t.length;if(oi(t)){var a=gi(t);s=a.length}if(n>=s)return t;var l=n-vi(i);if(l<1)return i;var u=a?Yo(a,0,l).join(""):t.slice(0,l);if(o===r)return u+i;if(a&&(l+=u.length-l),Lc(o)){if(t.slice(l).search(o)){var c,h=u;o.global||(o=ie(o.source,Qc(Yt.exec(o))+"g")),o.lastIndex=0;while(c=o.exec(h))var f=c.index;u=u.slice(0,f===r?l:f)}}else if(t.indexOf(Ro(o),l)!=l){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+i}function bf(t){return t=Qc(t),t&&Ot.test(t)?t.replace(Tt,yi):t}var _f=ps((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),wf=ds("toUpperCase");function xf(t,e,n){return t=Qc(t),e=n?r:e,e===r?si(t)?wi(t):Rn(t):t.match(e)||[]}var Sf=wo((function(t,e){try{return bn(t,r,e)}catch(n){return bc(n)?n:new zt(n)}})),Cf=zs((function(t,e){return wn(e,(function(e){e=Ma(e),pr(t,e,Pu(t[e],t))})),t}));function Tf(t){var e=null==t?0:t.length,n=Ns();return t=e?On(t,(function(t){if("function"!=typeof t[1])throw new oe(l);return[n(t[0]),t[1]]})):[],wo((function(n){var i=-1;while(++i<e){var r=t[i];if(bn(r[0],this,n))return bn(r[1],this,n)}}))}function kf(t){return yr(mr(t,d))}function Of(t){return function(){return t}}function Af(t,e){return null==t||t!==t?e:t}var Ef=ys(),Ff=ys(!0);function Mf(t){return t}function Pf(t){return eo("function"==typeof t?t:mr(t,d))}function jf(t){return so(mr(t,d))}function Rf(t,e){return ao(t,mr(e,d))}var Lf=wo((function(t,e){return function(n){return Wr(n,t,e)}})),Df=wo((function(t,e){return function(n){return Wr(t,n,e)}}));function If(t,e,n){var i=xh(e),r=jr(e,i);null!=n||Cc(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=jr(e,xh(e)));var o=!(Cc(n)&&"chain"in n)||!!n.chain,s=wc(t);return wn(r,(function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=rs(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,An([this.value()],arguments))})})),t}function zf(){return an._===this&&(an._=ge),this}function Bf(){}function qf(t){return t=$c(t),wo((function(e){return co(e,t)}))}var Hf=xs(On),Vf=xs(Sn),Wf=xs(Mn);function Nf(t){return la(t)?Hn(Ma(t)):vo(t)}function Uf(t){return function(e){return null==t?r:Rr(t,e)}}var Yf=Ts(),Xf=Ts(!0);function $f(){return[]}function Gf(){return!1}function Zf(){return{}}function Kf(){return""}function Jf(){return!0}function Qf(t,e){if(t=$c(t),t<1||t>D)return[];var n=B,i=He(t,B);e=Ns(e),t-=B;var r=Yn(i,e);while(++n<t)e(n);return r}function td(t){return lc(t)?On(t,Ma):Bc(t)?[t]:rs(Fa(Qc(t)))}function ed(t){var e=++fe;return Qc(t)+e}var nd=ws((function(t,e){return t+e}),0),id=As("ceil"),rd=ws((function(t,e){return t/e}),1),od=As("floor");function sd(t){return t&&t.length?Tr(t,Mf,Ir):r}function ad(t,e){return t&&t.length?Tr(t,Ns(e,2),Ir):r}function ld(t){return qn(t,Mf)}function ud(t,e){return qn(t,Ns(e,2))}function cd(t){return t&&t.length?Tr(t,Mf,ro):r}function hd(t,e){return t&&t.length?Tr(t,Ns(e,2),ro):r}var fd=ws((function(t,e){return t*e}),1),dd=As("round"),pd=ws((function(t,e){return t-e}),0);function vd(t){return t&&t.length?Un(t,Mf):0}function gd(t,e){return t&&t.length?Un(t,Ns(e,2)):0}return xi.after=Eu,xi.ary=Fu,xi.assign=th,xi.assignIn=eh,xi.assignInWith=nh,xi.assignWith=ih,xi.at=rh,xi.before=Mu,xi.bind=Pu,xi.bindAll=Cf,xi.bindKey=ju,xi.castArray=Ju,xi.chain=Ul,xi.chunk=La,xi.compact=Da,xi.concat=Ia,xi.cond=Tf,xi.conforms=kf,xi.constant=Of,xi.countBy=nu,xi.create=oh,xi.curry=Ru,xi.curryRight=Lu,xi.debounce=Du,xi.defaults=sh,xi.defaultsDeep=ah,xi.defer=Iu,xi.delay=zu,xi.difference=za,xi.differenceBy=Ba,xi.differenceWith=qa,xi.drop=Ha,xi.dropRight=Va,xi.dropRightWhile=Wa,xi.dropWhile=Na,xi.fill=Ua,xi.filter=ru,xi.flatMap=au,xi.flatMapDeep=lu,xi.flatMapDepth=uu,xi.flatten=$a,xi.flattenDeep=Ga,xi.flattenDepth=Za,xi.flip=Bu,xi.flow=Ef,xi.flowRight=Ff,xi.fromPairs=Ka,xi.functions=ph,xi.functionsIn=vh,xi.groupBy=fu,xi.initial=tl,xi.intersection=el,xi.intersectionBy=nl,xi.intersectionWith=il,xi.invert=bh,xi.invertBy=_h,xi.invokeMap=pu,xi.iteratee=Pf,xi.keyBy=vu,xi.keys=xh,xi.keysIn=Sh,xi.map=gu,xi.mapKeys=Ch,xi.mapValues=Th,xi.matches=jf,xi.matchesProperty=Rf,xi.memoize=qu,xi.merge=kh,xi.mergeWith=Oh,xi.method=Lf,xi.methodOf=Df,xi.mixin=If,xi.negate=Hu,xi.nthArg=qf,xi.omit=Ah,xi.omitBy=Eh,xi.once=Vu,xi.orderBy=mu,xi.over=Hf,xi.overArgs=Wu,xi.overEvery=Vf,xi.overSome=Wf,xi.partial=Nu,xi.partialRight=Uu,xi.partition=yu,xi.pick=Fh,xi.pickBy=Mh,xi.property=Nf,xi.propertyOf=Uf,xi.pull=ll,xi.pullAll=ul,xi.pullAllBy=cl,xi.pullAllWith=hl,xi.pullAt=fl,xi.range=Yf,xi.rangeRight=Xf,xi.rearg=Yu,xi.reject=wu,xi.remove=dl,xi.rest=Xu,xi.reverse=pl,xi.sampleSize=Su,xi.set=jh,xi.setWith=Rh,xi.shuffle=Cu,xi.slice=vl,xi.sortBy=Ou,xi.sortedUniq=xl,xi.sortedUniqBy=Sl,xi.split=uf,xi.spread=$u,xi.tail=Cl,xi.take=Tl,xi.takeRight=kl,xi.takeRightWhile=Ol,xi.takeWhile=Al,xi.tap=Yl,xi.throttle=Gu,xi.thru=Xl,xi.toArray=Yc,xi.toPairs=Lh,xi.toPairsIn=Dh,xi.toPath=td,xi.toPlainObject=Kc,xi.transform=Ih,xi.unary=Zu,xi.union=El,xi.unionBy=Fl,xi.unionWith=Ml,xi.uniq=Pl,xi.uniqBy=jl,xi.uniqWith=Rl,xi.unset=zh,xi.unzip=Ll,xi.unzipWith=Dl,xi.update=Bh,xi.updateWith=qh,xi.values=Hh,xi.valuesIn=Vh,xi.without=Il,xi.words=xf,xi.wrap=Ku,xi.xor=zl,xi.xorBy=Bl,xi.xorWith=ql,xi.zip=Hl,xi.zipObject=Vl,xi.zipObjectDeep=Wl,xi.zipWith=Nl,xi.entries=Lh,xi.entriesIn=Dh,xi.extend=eh,xi.extendWith=nh,If(xi,xi),xi.add=nd,xi.attempt=Sf,xi.camelCase=Yh,xi.capitalize=Xh,xi.ceil=id,xi.clamp=Wh,xi.clone=Qu,xi.cloneDeep=ec,xi.cloneDeepWith=nc,xi.cloneWith=tc,xi.conformsTo=ic,xi.deburr=$h,xi.defaultTo=Af,xi.divide=rd,xi.endsWith=Gh,xi.eq=rc,xi.escape=Zh,xi.escapeRegExp=Kh,xi.every=iu,xi.find=ou,xi.findIndex=Ya,xi.findKey=lh,xi.findLast=su,xi.findLastIndex=Xa,xi.findLastKey=uh,xi.floor=od,xi.forEach=cu,xi.forEachRight=hu,xi.forIn=ch,xi.forInRight=hh,xi.forOwn=fh,xi.forOwnRight=dh,xi.get=gh,xi.gt=oc,xi.gte=sc,xi.has=mh,xi.hasIn=yh,xi.head=Ja,xi.identity=Mf,xi.includes=du,xi.indexOf=Qa,xi.inRange=Nh,xi.invoke=wh,xi.isArguments=ac,xi.isArray=lc,xi.isArrayBuffer=uc,xi.isArrayLike=cc,xi.isArrayLikeObject=hc,xi.isBoolean=fc,xi.isBuffer=dc,xi.isDate=pc,xi.isElement=vc,xi.isEmpty=gc,xi.isEqual=mc,xi.isEqualWith=yc,xi.isError=bc,xi.isFinite=_c,xi.isFunction=wc,xi.isInteger=xc,xi.isLength=Sc,xi.isMap=kc,xi.isMatch=Oc,xi.isMatchWith=Ac,xi.isNaN=Ec,xi.isNative=Fc,xi.isNil=Pc,xi.isNull=Mc,xi.isNumber=jc,xi.isObject=Cc,xi.isObjectLike=Tc,xi.isPlainObject=Rc,xi.isRegExp=Lc,xi.isSafeInteger=Dc,xi.isSet=Ic,xi.isString=zc,xi.isSymbol=Bc,xi.isTypedArray=qc,xi.isUndefined=Hc,xi.isWeakMap=Vc,xi.isWeakSet=Wc,xi.join=rl,xi.kebabCase=Jh,xi.last=ol,xi.lastIndexOf=sl,xi.lowerCase=Qh,xi.lowerFirst=tf,xi.lt=Nc,xi.lte=Uc,xi.max=sd,xi.maxBy=ad,xi.mean=ld,xi.meanBy=ud,xi.min=cd,xi.minBy=hd,xi.stubArray=$f,xi.stubFalse=Gf,xi.stubObject=Zf,xi.stubString=Kf,xi.stubTrue=Jf,xi.multiply=fd,xi.nth=al,xi.noConflict=zf,xi.noop=Bf,xi.now=Au,xi.pad=ef,xi.padEnd=nf,xi.padStart=rf,xi.parseInt=of,xi.random=Uh,xi.reduce=bu,xi.reduceRight=_u,xi.repeat=sf,xi.replace=af,xi.result=Ph,xi.round=dd,xi.runInContext=t,xi.sample=xu,xi.size=Tu,xi.snakeCase=lf,xi.some=ku,xi.sortedIndex=gl,xi.sortedIndexBy=ml,xi.sortedIndexOf=yl,xi.sortedLastIndex=bl,xi.sortedLastIndexBy=_l,xi.sortedLastIndexOf=wl,xi.startCase=cf,xi.startsWith=hf,xi.subtract=pd,xi.sum=vd,xi.sumBy=gd,xi.template=ff,xi.times=Qf,xi.toFinite=Xc,xi.toInteger=$c,xi.toLength=Gc,xi.toLower=df,xi.toNumber=Zc,xi.toSafeInteger=Jc,xi.toString=Qc,xi.toUpper=pf,xi.trim=vf,xi.trimEnd=gf,xi.trimStart=mf,xi.truncate=yf,xi.unescape=bf,xi.uniqueId=ed,xi.upperCase=_f,xi.upperFirst=wf,xi.each=cu,xi.eachRight=hu,xi.first=Ja,If(xi,function(){var t={};return Mr(xi,(function(e,n){he.call(xi.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),xi.VERSION=o,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){xi[t].placeholder=xi})),wn(["drop","take"],(function(t,e){Oi.prototype[t]=function(n){n=n===r?1:qe($c(n),0);var i=this.__filtered__&&!e?new Oi(this):this.clone();return i.__filtered__?i.__takeCount__=He(n,i.__takeCount__):i.__views__.push({size:He(n,B),type:t+(i.__dir__<0?"Right":"")}),i},Oi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),wn(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=n==P||n==R;Oi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ns(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),wn(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Oi.prototype[t]=function(){return this[n](1).value()[0]}})),wn(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Oi.prototype[t]=function(){return this.__filtered__?new Oi(this):this[n](1)}})),Oi.prototype.compact=function(){return this.filter(Mf)},Oi.prototype.find=function(t){return this.filter(t).head()},Oi.prototype.findLast=function(t){return this.reverse().find(t)},Oi.prototype.invokeMap=wo((function(t,e){return"function"==typeof t?new Oi(this):this.map((function(n){return Wr(n,t,e)}))})),Oi.prototype.reject=function(t){return this.filter(Hu(Ns(t)))},Oi.prototype.slice=function(t,e){t=$c(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Oi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(e=$c(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Oi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Oi.prototype.toArray=function(){return this.take(B)},Mr(Oi.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=xi[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(xi.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,l=e instanceof Oi,u=a[0],c=l||lc(e),h=function(t){var e=o.apply(xi,An([t],a));return i&&f?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,v=l&&!d;if(!s&&c){e=v?e:new Oi(this);var g=t.apply(e,a);return g.__actions__.push({func:Xl,args:[h],thisArg:r}),new ki(g,f)}return p&&v?t.apply(this,a):(g=this.thru(h),p?i?g.value()[0]:g.value():g)})})),wn(["pop","push","shift","sort","splice","unshift"],(function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);xi.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(lc(r)?r:[],t)}return this[n]((function(n){return e.apply(lc(n)?n:[],t)}))}})),Mr(Oi.prototype,(function(t,e){var n=xi[e];if(n){var i=n.name+"";he.call(un,i)||(un[i]=[]),un[i].push({name:e,func:n})}})),un[bs(r,b).name]=[{name:"wrapper",func:r}],Oi.prototype.clone=Ai,Oi.prototype.reverse=Ei,Oi.prototype.value=Fi,xi.prototype.at=$l,xi.prototype.chain=Gl,xi.prototype.commit=Zl,xi.prototype.next=Kl,xi.prototype.plant=Ql,xi.prototype.reverse=tu,xi.prototype.toJSON=xi.prototype.valueOf=xi.prototype.value=eu,xi.prototype.first=xi.prototype.head,Oe&&(xi.prototype[Oe]=Jl),xi},Si=xi();an._=Si,i=function(){return Si}.call(e,n,e,t),i===r||(t.exports=i)}.call(this)},3957:function(t,e){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),"function"!=typeof Array.from&&(Array.from=function(t){return[].slice.call(t)});var n=function(t){var e=document.implementation.createHTMLDocument("");return e.body.innerHTML=t,Array.from(e.body.children)[0]},i=function(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!1),t.dispatchEvent(n)},r=function(){var t=function(t,e){this.el=t,this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.initialOffset={x:0,y:0},this.options=Object.assign({},this.defaults,e),this.setupMarkup(),this.bindEvents(),this.update(),this.isImageLoaded(this.el)&&(this.updateAspectRatio(),this.setupOffsets()),this.enable()},e=function(t,e){return t+e},r=function(t,e){return t>e-.01&&t<e+.01};t.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,maxZoom:4,minZoom:.5,draggableUnzoomed:!0,lockDragAxis:!1,setOffsetsOnce:!1,use2d:!0,zoomStartEventName:"pz_zoomstart",zoomUpdateEventName:"pz_zoomupdate",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragUpdateEventName:"pz_dragupdate",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap",verticalPadding:0,horizontalPadding:0,onZoomStart:null,onZoomEnd:null,onZoomUpdate:null,onDragStart:null,onDragEnd:null,onDragUpdate:null,onDoubleTap:null},handleDragStart:function(t){i(this.el,this.options.dragStartEventName),"function"==typeof this.options.onDragStart&&this.options.onDragStart(this,t),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(t)},handleDrag:function(t){var e=this.getTouches(t)[0];this.drag(e,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=e},handleDragEnd:function(){i(this.el,this.options.dragEndEventName),"function"==typeof this.options.onDragEnd&&this.options.onDragEnd(this,event),this.end()},handleZoomStart:function(t){i(this.el,this.options.zoomStartEventName),"function"==typeof this.options.onZoomStart&&this.options.onZoomStart(this,t),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(t,e){var n=this.getTouchCenter(this.getTouches(t)),i=e/this.lastScale;this.lastScale=e,this.nthZoom+=1,this.nthZoom>3&&(this.scale(i,n),this.drag(n,this.lastZoomCenter)),this.lastZoomCenter=n},handleZoomEnd:function(){i(this.el,this.options.zoomEndEventName),"function"==typeof this.options.onZoomEnd&&this.options.onZoomEnd(this,event),this.end()},handleDoubleTap:function(t){var e=this.getTouches(t)[0],n=this.zoomFactor>1?1:this.options.tapZoomFactor,r=this.zoomFactor,o=function(t){this.scaleTo(r+t*(n-r),e)}.bind(this);this.hasInteraction||(this.isDoubleTap=!0,r>n&&(e=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,o,this.swing),i(this.el,this.options.doubleTapEventName),"function"==typeof this.options.onDoubleTap&&this.options.onDoubleTap(this,t))},computeInitialOffset:function(){this.initialOffset={x:-Math.abs(this.el.offsetWidth*this.getInitialZoomFactor()-this.container.offsetWidth)/2,y:-Math.abs(this.el.offsetHeight*this.getInitialZoomFactor()-this.container.offsetHeight)/2}},resetOffset:function(){this.offset.x=this.initialOffset.x,this.offset.y=this.initialOffset.y},isImageLoaded:function(t){return"IMG"===t.nodeName?t.complete&&0!==t.naturalHeight:Array.from(t.querySelectorAll("img")).every(this.isImageLoaded)},setupOffsets:function(){this.options.setOffsetsOnce&&this._isOffsetsSet||(this._isOffsetsSet=!0,this.computeInitialOffset(),this.resetOffset())},sanitizeOffset:function(t){var e=this.el.offsetWidth*this.getInitialZoomFactor()*this.zoomFactor,n=this.el.offsetHeight*this.getInitialZoomFactor()*this.zoomFactor,i=e-this.getContainerX()+this.options.horizontalPadding,r=n-this.getContainerY()+this.options.verticalPadding,o=Math.max(i,0),s=Math.max(r,0),a=Math.min(i,0)-this.options.horizontalPadding,l=Math.min(r,0)-this.options.verticalPadding;return{x:Math.min(Math.max(t.x,a),o),y:Math.min(Math.max(t.y,l),s)}},scaleTo:function(t,e){this.scale(t/this.zoomFactor,e)},scale:function(t,e){t=this.scaleZoomFactor(t),this.addOffset({x:(t-1)*(e.x+this.offset.x),y:(t-1)*(e.y+this.offset.y)}),i(this.el,this.options.zoomUpdateEventName),"function"==typeof this.options.onZoomUpdate&&this.options.onZoomUpdate(this,event)},scaleZoomFactor:function(t){var e=this.zoomFactor;return this.zoomFactor*=t,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/e},canDrag:function(){return this.options.draggableUnzoomed||!r(this.zoomFactor,1)},drag:function(t,e){e&&(this.options.lockDragAxis?Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?this.addOffset({x:-(t.x-e.x),y:0}):this.addOffset({y:-(t.y-e.y),x:0}):this.addOffset({y:-(t.y-e.y),x:-(t.x-e.x)}),i(this.el,this.options.dragUpdateEventName),"function"==typeof this.options.onDragUpdate&&this.options.onDragUpdate(this,event))},getTouchCenter:function(t){return this.getVectorAvg(t)},getVectorAvg:function(t){return{x:t.map((function(t){return t.x})).reduce(e)/t.length,y:t.map((function(t){return t.y})).reduce(e)/t.length}},addOffset:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(t){var e=this.sanitizeOffset(t);return e.x!==t.x||e.y!==t.y},sanitizeOffsetAnimation:function(){var t=this.sanitizeOffset(this.offset),e={x:this.offset.x,y:this.offset.y},n=function(n){this.offset.x=e.x+n*(t.x-e.x),this.offset.y=e.y+n*(t.y-e.y),this.update()}.bind(this);this.animate(this.options.animationDuration,n,this.swing)},zoomOutAnimation:function(){if(1!==this.zoomFactor){var t=this.zoomFactor,e=1,n=this.getCurrentZoomCenter(),i=function(i){this.scaleTo(t+i*(e-t),n)}.bind(this);this.animate(this.options.animationDuration,i,this.swing)}},updateAspectRatio:function(){this.unsetContainerY(),this.setContainerY(this.container.parentElement.offsetHeight)},getInitialZoomFactor:function(){var t=this.container.offsetWidth/this.el.offsetWidth,e=this.container.offsetHeight/this.el.offsetHeight;return Math.min(t,e)},getAspectRatio:function(){return this.el.offsetWidth/this.el.offsetHeight},getCurrentZoomCenter:function(){var t=this.offset.x-this.initialOffset.x,e=-1*this.offset.x-t/(1/this.zoomFactor-1),n=this.offset.y-this.initialOffset.y,i=-1*this.offset.y-n/(1/this.zoomFactor-1);return{x:e,y:i}},getTouches:function(t){var e=this.container.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop,i=document.documentElement.scrollLeft||document.body.scrollLeft,r=e.top+n,o=e.left+i;return Array.prototype.slice.call(t.touches).map((function(t){return{x:t.pageX-o,y:t.pageY-r}}))},animate:function(t,e,n,i){var r=(new Date).getTime(),o=function(){if(this.inAnimation){var s=(new Date).getTime()-r,a=s/t;s>=t?(e(1),i&&i(),this.update(),this.stopAnimation(),this.update()):(n&&(a=n(a)),e(a),this.update(),requestAnimationFrame(o))}}.bind(this);this.inAnimation=!0,requestAnimationFrame(o)},stopAnimation:function(){this.inAnimation=!1},swing:function(t){return-Math.cos(t*Math.PI)/2+.5},getContainerX:function(){return this.container.offsetWidth},getContainerY:function(){return this.container.offsetHeight},setContainerY:function(t){return this.container.style.height=t+"px"},unsetContainerY:function(){this.container.style.height=null},setupMarkup:function(){this.container=n('<div class="pinch-zoom-container"></div>'),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el),this.container.style.overflow="hidden",this.container.style.position="relative",this.el.style.webkitTransformOrigin="0% 0%",this.el.style.mozTransformOrigin="0% 0%",this.el.style.msTransformOrigin="0% 0%",this.el.style.oTransformOrigin="0% 0%",this.el.style.transformOrigin="0% 0%",this.el.style.position="absolute"},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){var t=this;o(this.container,this),this.resizeHandler=this.update.bind(this),window.addEventListener("resize",this.resizeHandler),Array.from(this.el.querySelectorAll("img")).forEach((function(e){e.addEventListener("load",t.update.bind(t))})),"IMG"===this.el.nodeName&&this.el.addEventListener("load",this.update.bind(this))},update:function(t){t&&"resize"===t.type&&(this.updateAspectRatio(),this.setupOffsets()),t&&"load"===t.type&&(this.updateAspectRatio(),this.setupOffsets()),this.updatePlanned||(this.updatePlanned=!0,window.setTimeout(function(){this.updatePlanned=!1;var t=this.getInitialZoomFactor()*this.zoomFactor,e=-this.offset.x/t,n=-this.offset.y/t,i="scale3d("+t+", "+t+",1) translate3d("+e+"px,"+n+"px,0px)",r="scale("+t+", "+t+") translate("+e+"px,"+n+"px)",o=function(){this.clone&&(this.clone.parentNode.removeChild(this.clone),delete this.clone)}.bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,o(),this.el.style.webkitTransform=i,this.el.style.mozTransform=r,this.el.style.msTransform=r,this.el.style.oTransform=r,this.el.style.transform=i):(this.is3d&&(this.clone=this.el.cloneNode(!0),this.clone.style.pointerEvents="none",this.container.appendChild(this.clone),window.setTimeout(o,200)),this.el.style.webkitTransform=r,this.el.style.mozTransform=r,this.el.style.msTransform=r,this.el.style.oTransform=r,this.el.style.transform=r,this.is3d=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){window.removeEventListener("resize",this.resizeHandler),this.container&&(this.container.remove(),this.container=null)}};var o=function(t,e){var n=null,i=0,r=null,o=null,s=function(t,i){if(n!==t){if(n&&!t)switch(n){case"zoom":e.handleZoomEnd(i);break;case"drag":e.handleDragEnd(i);break}switch(t){case"zoom":e.handleZoomStart(i);break;case"drag":e.handleDragStart(i);break}}n=t},a=function(t){2===i?s("zoom"):1===i&&e.canDrag()?s("drag",t):s(null,t)},l=function(t){return Array.from(t).map((function(t){return{x:t.pageX,y:t.pageY}}))},u=function(t,e){var n,i;return n=t.x-e.x,i=t.y-e.y,Math.sqrt(n*n+i*i)},c=function(t,e){var n=u(t[0],t[1]),i=u(e[0],e[1]);return i/n},h=function(t){t.stopPropagation(),t.preventDefault()},f=function(t){var o=(new Date).getTime();if(i>1&&(r=null),o-r<300)switch(h(t),e.handleDoubleTap(t),n){case"zoom":e.handleZoomEnd(t);break;case"drag":e.handleDragEnd(t);break}else e.isDoubleTap=!1;1===i&&(r=o)},d=!0;t.addEventListener("touchstart",(function(t){e.enabled&&(d=!0,i=t.touches.length,f(t))}),{passive:!1}),t.addEventListener("touchmove",(function(t){if(e.enabled&&!e.isDoubleTap){if(d)a(t),n&&h(t),o=l(t.touches);else{switch(n){case"zoom":2==o.length&&2==t.touches.length&&e.handleZoom(t,c(o,l(t.touches)));break;case"drag":e.handleDrag(t);break}n&&(h(t),e.update())}d=!1}}),{passive:!1}),t.addEventListener("touchend",(function(t){e.enabled&&(i=t.touches.length,a(t))}))};return t},o=r();e["Z"]=o},4457:function(t,e,n){"use strict";n.d(e,{fl:function(){return se}});var i=n(9269),r=n(5102);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var h,f,d,p=(h=function(t){
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var e={}.hasOwnProperty;function n(){for(var t=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)){if(r.length){var s=n.apply(null,r);s&&t.push(s)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var a in r)e.call(r,a)&&r[a]&&t.push(a);else t.push(r.toString())}}return t.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n}()},h(d={path:f,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&d.path)}},d.exports),d.exports),v=function(t){return function(e,n){if(!e)return t;var i;"string"==typeof e?i=e:n=e;var r=t;return i&&(r+="__"+i),r+(n?Object.keys(n).reduce((function(t,e){var i=n[e];return i&&(t+=" "+("boolean"==typeof i?r+"--"+e:r+"--"+e+"_"+i)),t}),""):"")}};function g(t,e,n){var i,r,o,s,a;function l(){var u=Date.now()-s;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(o,r),o=r=null))}null==e&&(e=100);var u=function(){o=this,r=arguments,s=Date.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(o,r),o=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=t.apply(o,r),o=r=null,clearTimeout(i),i=null)},u}g.debounce=g;var m=g,y=function(){return y=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},y.apply(this,arguments)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */};function b(t,e){var n,i;return t&&e?(n=""+t+e[0].toUpperCase()+e.slice(1),i=t+"-"+e):(n=t||e,i=t||e),{name:n,classname:i}}function _(t){return/^blob:/.test(t)}function w(t){return _(t)||function(t){return/^data:/.test(t)}(t)}function x(t){return!!(t&&t.constructor&&t.call&&t.apply)}function S(t){return void 0===t}function C(t){return"object"==typeof t&&null!==t}function T(t,e,n){var i={};return C(t)?(Object.keys(e).forEach((function(r){S(t[r])?i[r]=e[r]:C(e[r])?C(t[r])?i[r]=T(t[r],e[r],n[r]):i[r]=t[r]?e[r]:n[r]:!0===e[r]||!1===e[r]?i[r]=Boolean(t[r]):i[r]=t[r]})),i):t?e:n}function k(t){var e=Number(t);return Number.isNaN(e)?t:e}function O(t){return typeof("number"==t||function(t){return"object"==typeof t&&null!==t}(t)&&"[object Number]"==toString.call(t))&&!A(t)}function A(t){return t!=t}function E(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var F=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.type="manipulateImage",this.move=t,this.scale=e},M=function(t,e){void 0===e&&(e={}),this.type="resize",this.directions=t,this.params=e},P=function(t){this.type="move",this.directions=t},j=function(){function t(t,e,n,i,r){this.type="drag",this.nativeEvent=t,this.position=n,this.previousPosition=i,this.element=e,this.anchor=r}return t.prototype.shift=function(){var t=this,e=t.element,n=t.anchor,i=t.position;if(e){var r=e.getBoundingClientRect(),o=r.left,s=r.top;return{left:i.left-o-n.left,top:i.top-s-n.top}}return{left:0,top:0}},t}(),R={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(t){t.cancelable&&!this.disabled&&1===t.touches.length&&(this.touches=u(t.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),t.touches.length&&this.initAnchor(this.touches.reduce((function(e,n){return{clientX:e.clientX+n.clientX/t.touches.length,clientY:e.clientY+n.clientY/t.touches.length}}),{clientX:0,clientY:0})),t.preventDefault&&t.preventDefault(),t.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(t){this.touches.length&&(this.processMove(t,t.touches),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())},onMouseDown:function(t){if(!this.disabled){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.draggable.getBoundingClientRect(),n=e.left,i=e.right,r=e.bottom,o=e.top;this.anchor={left:t.clientX-n,top:t.clientY-o,bottom:r-t.clientY,right:i-t.clientX}},processMove:function(t,e){var n=u(e);if(this.touches.length){if(1===this.touches.length&&1===n.length){var i=this.$refs.draggable;this.$emit("drag",new j(t,i,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"],render:function(t,e,n,r,o,s){return(0,i.wg)(),(0,i.j4)("div",{ref:"draggable",class:n.classname,onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onMouseover:e[3]||(e[3]=function(){return s.onMouseOver&&s.onMouseOver.apply(s,arguments)}),onMouseleave:e[4]||(e[4]=function(){return s.onMouseLeave&&s.onMouseLeave.apply(s,arguments)})},[(0,i.WI)(t.$slots,"default")],34)}},L=v("vue-handler-wrapper"),D={name:"HandlerWrapper",components:{DraggableElement:R},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var t;if(this.horizontalPosition||this.verticalPosition){var e,n=b(this.horizontalPosition,this.verticalPosition);t=L((a(e={},n.classname,!0),a(e,"disabled",this.disabled),e))}else t=L({disabled:this.disabled});return{root:t,draggable:L("draggable")}}},emits:["leave","enter","drag","drag-end"],render:function(t,e,n,r,o,s){var a=(0,i.up)("DraggableElement");return(0,i.wg)(),(0,i.j4)("div",{class:s.classes.root},[(0,i.Wm)(a,{class:s.classes.draggable,onDrag:e[1]||(e[1]=function(e){return t.$emit("drag",e)}),onDragEnd:e[2]||(e[2]=function(e){return t.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(e){return t.$emit("leave")}),onEnter:e[4]||(e[4]=function(e){return t.$emit("enter")})},{default:(0,i.w5)((function(){return[(0,i.WI)(t.$slots,"default")]})),_:3},8,["class"])],2)}},I=v("vue-line-wrapper"),z={name:"LineWrapper",components:{DraggableElement:R},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var t;return I((a(t={},this.position,!0),a(t,"disabled",this.disabled),t))}},emits:["leave","enter","drag","drag-end"],render:function(t,e,n,r,o,s){var a=(0,i.up)("DraggableElement");return(0,i.wg)(),(0,i.j4)(a,{class:s.classname,onDrag:e[1]||(e[1]=function(e){return t.$emit("drag",e)}),onDragEnd:e[2]||(e[2]=function(e){return t.$emit("drag-end")}),onLeave:e[3]||(e[3]=function(e){return t.$emit("leave")}),onEnter:e[4]||(e[4]=function(e){return t.$emit("enter")})},{default:(0,i.w5)((function(){return[(0,i.WI)(t.$slots,"default")]})),_:3},8,["class"])}},B=["left","right","top","bottom"],q=["left","right"],H=["top","bottom"],V=["left","top"],W=["fill-area","fit-area","stencil","none"],N={left:0,top:0,width:0,height:0};function U(t,e,n){return!(n=n||["width","height","left","top"]).some((function(n){return t[n]!==e[n]}))}function Y(t){return{left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height}}function X(t,e){return{left:t.left-e.left,top:t.top-e.top}}function $(t){return{left:t.left+t.width/2,top:t.top+t.height/2}}function G(t,e){var n={left:0,top:0,right:0,bottom:0};return B.forEach((function(i){var r=e[i],o=Y(t)[i];n[i]=void 0!==r&&void 0!==o?"left"===i||"top"===i?Math.max(0,r-o):Math.max(0,o-r):0})),n}function Z(t,e){return{left:t.left-e.left,top:t.top-e.top,width:t.width+e.left+e.right,height:t.height+e.top+e.bottom}}function K(t){return{left:-t.left,top:-t.top}}function J(t,e){return y(y({},t),{left:t.left+e.left,top:t.top+e.top})}function Q(t,e,n,i){if(1!==e){if(n){var r=$(t);return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2+(n.left-r.left)*(i||1-e),top:t.top+t.height*(1-e)/2+(n.top-r.top)*(i||1-e)}}return{width:t.width*e,height:t.height*e,left:t.left+t.width*(1-e)/2,top:t.top+t.height*(1-e)/2}}return t}function tt(t){return t.width/t.height}function et(t,e){return Math.min(void 0!==e.right&&void 0!==e.left?(e.right-e.left)/t.width:1/0,void 0!==e.bottom&&void 0!==e.top?(e.bottom-e.top)/t.height:1/0)}function nt(t,e){var n={left:0,top:0},i=G(t,e);return i.left&&i.left>0?n.left=i.left:i.right&&i.right>0&&(n.left=-i.right),i.top&&i.top>0?n.top=i.top:i.bottom&&i.bottom>0&&(n.top=-i.bottom),n}function it(t,e){var n;return e.minimum&&t<e.minimum?n=e.minimum:e.maximum&&t>e.maximum&&(n=e.maximum),n}function rt(t,e){var n=tt(t),i=tt(e);return e.width<1/0&&e.height<1/0?n>i?{width:e.width,height:e.width/n}:{width:e.height*n,height:e.height}:e.width<1/0?{width:e.width,height:e.width/n}:e.height<1/0?{width:e.height*n,height:e.height}:t}function ot(t,e){var n=e*Math.PI/180;return{width:Math.abs(t.width*Math.cos(n))+Math.abs(t.height*Math.sin(n)),height:Math.abs(t.width*Math.sin(n))+Math.abs(t.height*Math.cos(n))}}function st(t,e){var n=e*Math.PI/180;return{left:t.left*Math.cos(n)-t.top*Math.sin(n),top:t.left*Math.sin(n)+t.top*Math.cos(n)}}function at(t,e){var n=G(lt(t,e),e);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((t.width+n.left+n.right)/t.width,et(t,e)):Math.min((t.height+n.top+n.bottom)/t.height,et(t,e)):1}function lt(t,e,n){void 0===n&&(n=!1);var i=nt(t,e);return J(t,n?K(i):i)}function ut(t){return{width:void 0!==t.right&&void 0!==t.left?t.right-t.left:1/0,height:void 0!==t.bottom&&void 0!==t.top?t.bottom-t.top:1/0}}function ct(t,e){return y(y({},t),{minWidth:Math.min(e.width,t.minWidth),minHeight:Math.min(e.height,t.minHeight),maxWidth:Math.min(e.width,t.maxWidth),maxHeight:Math.min(e.height,t.maxHeight)})}function ht(t,e,n){void 0===n&&(n=!0);var i={};return B.forEach((function(r){var o=t[r],s=e[r];void 0!==o&&void 0!==s?i[r]="left"===r||"top"===r?n?Math.max(o,s):Math.min(o,s):n?Math.min(o,s):Math.max(o,s):void 0!==s?i[r]=s:void 0!==o&&(i[r]=o)})),i}function ft(t,e){return ht(t,e,!0)}function dt(t){var e=t.size,n=t.aspectRatio,i=t.ignoreMinimum,r=t.sizeRestrictions;return Boolean((e.correctRatio||tt(e)>=n.minimum&&tt(e)<=n.maximum)&&e.height<=r.maxHeight&&e.width<=r.maxWidth&&e.width&&e.height&&(i||e.height>=r.minHeight&&e.width>=r.minWidth))}function pt(t,e){return Math.pow(t.width-e.width,2)+Math.pow(t.height-e.height,2)}function vt(t){var e=t.width,n=t.height,i=t.sizeRestrictions,r={minimum:t.aspectRatio&&t.aspectRatio.minimum||0,maximum:t.aspectRatio&&t.aspectRatio.maximum||1/0},o={width:Math.max(i.minWidth,Math.min(i.maxWidth,e)),height:Math.max(i.minHeight,Math.min(i.maxHeight,n))};function s(t,o){return void 0===o&&(o=!1),t.reduce((function(t,s){return dt({size:s,aspectRatio:r,sizeRestrictions:i,ignoreMinimum:o})&&(!t||pt(s,{width:e,height:n})<pt(t,{width:e,height:n}))?s:t}),null)}var a=[];r&&[r.minimum,r.maximum].forEach((function(t){t&&a.push({width:o.width,height:o.width/t,correctRatio:!0},{width:o.height*t,height:o.height,correctRatio:!0})})),dt({size:o,aspectRatio:r,sizeRestrictions:i})&&a.push(o);var l=s(a)||s(a,!0);return l&&{width:l.width,height:l.height}}function gt(t){var e=t.event,n=t.coordinates,i=t.positionRestrictions,r=void 0===i?{}:i,o=J(n,e.directions);return J(o,nt(o,r))}function mt(t){var e=t.coordinates,n=t.transform,i=t.imageSize,r=t.sizeRestrictions,o=t.positionRestrictions,s=t.aspectRatio,a=t.visibleArea,l=function(t,e){return gt({coordinates:t,positionRestrictions:o,event:new P({left:e.left-t.left,top:e.top-t.top})})},u=y({},e);return(Array.isArray(n)?n:[n]).forEach((function(t){var e={};S((e="function"==typeof t?t({coordinates:u,imageSize:i,visibleArea:a}):t).width)&&S(e.height)||(u=function(t,e){var n=y(y(y({},t),vt({width:e.width,height:e.height,sizeRestrictions:r,aspectRatio:s})),{left:0,top:0});return l(n,{left:t.left,top:t.top})}(u,y(y({},u),e))),S(e.left)&&S(e.top)||(u=l(u,y(y({},u),e)))})),u}function yt(t){t.event;var e=t.getAreaRestrictions,n=t.boundaries,i=t.coordinates,r=t.visibleArea;t.aspectRatio;var o=t.stencilSize,s=t.sizeRestrictions,a=t.positionRestrictions;t.stencilReference;var l,u,c,h=y({},i),f=y({},r),d=y({},o);l=tt(d),u=tt(h),void 0===c&&(c=.001),(0===l||0===u?Math.abs(u-l)<c:Math.abs(u/l)<1+c&&Math.abs(u/l)>1-c)||(h=y(y({},h),vt({sizeRestrictions:s,width:h.width,height:h.height,aspectRatio:{minimum:tt(d),maximum:tt(d)}})));var p=at(f=Q(f,h.width*n.width/(f.width*d.width)),e({visibleArea:f,type:"resize"}));return 1!==p&&(f=Q(f,p),h=Q(h,p)),f=lt(f=J(f,X($(h),$(f))),e({visibleArea:f,type:"move"})),{coordinates:h=lt(h,ft(Y(f),a)),visibleArea:f}}function bt(t){var e=t.event,n=t.getAreaRestrictions,i=t.boundaries,r=t.coordinates,o=t.visibleArea;t.aspectRatio,t.stencilSize,t.sizeRestrictions;var s=t.positionRestrictions;t.stencilReference;var a=y({},r),l=y({},o);if(r&&o&&"manipulateImage"!==e.type){var u={width:0,height:0};l.width,i.width,tt(i)>tt(a)?(u.height=.8*i.height,u.width=u.height*tt(a)):(u.width=.8*i.width,u.height=u.width*tt(a));var c=at(l=Q(l,a.width*i.width/(l.width*u.width)),n({visibleArea:l,type:"resize"}));l=Q(l,c),1!==c&&(u.height/=c,u.width/=c),l=lt(l=J(l,X($(a),$(l))),n({visibleArea:l,type:"move"})),a=lt(a,ft(Y(l),s))}return{coordinates:a,visibleArea:l}}function _t(t){var e=t.event,n=t.coordinates,i=t.visibleArea,r=t.getAreaRestrictions,o=y({},i),s=y({},n);if("setCoordinates"===e.type){var a=Math.max(0,s.width-o.width),l=Math.max(0,s.height-o.height);a>l?o=Q(o,Math.min(s.width/o.width,et(o,r({visibleArea:o,type:"resize"})))):l>a&&(o=Q(o,Math.min(s.height/o.height,et(o,r({visibleArea:o,type:"resize"}))))),o=lt(o=J(o,K(nt(s,Y(o)))),r({visibleArea:o,type:"move"}))}return{visibleArea:o,coordinates:s}}function wt(t){var e=t.imageSize,n=t.visibleArea,i=t.coordinates,r=n||e;return{left:(n?n.left:0)+r.width/2-i.width/2,top:(n?n.top:0)+r.height/2-i.height/2}}function xt(t){var e=t.imageSize,n=t.visibleArea,i=t.aspectRatio,r=t.sizeRestrictions,o=n||e,s=Math.min(i.maximum||1/0,Math.max(i.minimum||0,tt(o))),a=o.width<o.height?{width:.8*o.width,height:.8*o.width/s}:{height:.8*o.height,width:.8*o.height*s};return vt(y(y({},a),{aspectRatio:i,sizeRestrictions:r}))}function St(t){var e,n,i=t.imageSize,r=t.visibleArea,o=t.boundaries,s=t.aspectRatio,a=t.sizeRestrictions,l=t.stencilSize,u=r||i;return tt(u)>tt(o)?n=(e=l.height*u.height/o.height)*tt(l):e=(n=l.width*u.width/o.width)/tt(l),vt({width:n,height:e,aspectRatio:s,sizeRestrictions:a})}function Ct(t){var e=t.getAreaRestrictions,n=t.coordinates,i=t.imageSize,r=tt(t.boundaries);if(n){var o={height:Math.max(n.height,i.height),width:Math.max(n.width,i.width)},s=rt({width:tt(o)>r?o.width:o.height*r,height:tt(o)>r?o.width/r:o.height},ut(e())),a={left:n.left+n.width/2-s.width/2,top:n.top+n.height/2-s.height/2,width:s.width,height:s.height},l=G(n,Y(y({left:0,top:0},i))),u={};return!l.left&&!l.right&&a.width<=i.width&&(u.left=0,u.right=i.width),!l.top&&!l.bottom&&a.height<=i.height&&(u.top=0,u.bottom=i.height),lt(a,u)}var c=tt(i);return s={height:c>r?i.height:i.width/r,width:c>r?i.height*r:i.width},{left:i.width/2-s.width/2,top:i.height/2-s.height/2,width:s.width,height:s.height}}function Tt(t,e){return ht(t,Y(e))}function kt(t){var e=t.event,n=t.coordinates,i=t.visibleArea,r=t.sizeRestrictions,o=t.getAreaRestrictions,s=t.positionRestrictions,a=t.adjustStencil,l=e.scale,u=e.move,c=y({},i),h=y({},n),f=1,d=1,p=l.factor&&Math.abs(l.factor-1)>.001;c=J(c,{left:u.left||0,top:u.top||0});var v={stencil:{minimum:Math.max(r.minWidth?r.minWidth/h.width:0,r.minHeight?r.minHeight/h.height:0),maximum:Math.min(r.maxWidth?r.maxWidth/h.width:1/0,r.maxHeight?r.maxHeight/h.height:1/0,et(h,s))},area:{maximum:et(c,o({visibleArea:c,type:"resize"}))}};l.factor&&p&&(l.factor<1?(d=Math.max(l.factor,v.stencil.minimum))>1&&(d=1):l.factor>1&&(d=Math.min(l.factor,Math.min(v.area.maximum,v.stencil.maximum)))<1&&(d=1)),d&&(c=Q(c,d,l.center));var g=n.left-i.left,m=i.width+i.left-(n.width+n.left),b=n.top-i.top,_=i.height+i.top-(n.height+n.top);return c=lt(c=J(c,nt(c,{left:void 0!==s.left?s.left-g*d:void 0,top:void 0!==s.top?s.top-b*d:void 0,bottom:void 0!==s.bottom?s.bottom+_*d:void 0,right:void 0!==s.right?s.right+m*d:void 0})),o({visibleArea:c,type:"move"})),h.width=h.width*d,h.height=h.height*d,h.left=c.left+g*d,h.top=c.top+b*d,h=lt(h,ft(Y(c),s)),l.factor&&p&&a&&(l.factor>1?f=Math.min(v.area.maximum,l.factor)/d:l.factor<1&&(f=Math.max(h.height/c.height,h.width/c.width,l.factor/d)),1!==f&&(c=J(c=lt(c=Q(c,f,l.factor>1?l.center:$(h)),o({visibleArea:c,type:"move"})),K(nt(h,Y(c)))))),{coordinates:h,visibleArea:c}}function Ot(t){var e=t.aspectRatio,n=t.getAreaRestrictions,i=t.coordinates,r=t.visibleArea,o=t.sizeRestrictions,s=t.positionRestrictions,a=t.imageSize,l=t.previousImageSize,u=t.angle,c=y({},i),h=y({},r),f=st($(y({left:0,top:0},l)),u);return(c=y(y({},vt({sizeRestrictions:o,aspectRatio:e,width:c.width,height:c.height})),st($(c),u))).left-=f.left-a.width/2+c.width/2,c.top-=f.top-a.height/2+c.height/2,h=Q(h,at(h,n({visibleArea:h,type:"resize"}))),{coordinates:c=lt(c,s),visibleArea:h=lt(h=J(h,X($(c),$(i))),n({visibleArea:h,type:"move"}))}}function At(t){var e=t.flip,n=t.previousFlip,i=t.rotate;t.aspectRatio;var r=t.getAreaRestrictions,o=t.coordinates,s=t.visibleArea,a=t.imageSize,l=y({},o),u=y({},s),c=n.horizontal!==e.horizontal,h=n.vertical!==e.vertical;if(c||h){var f=st({left:a.width/2,top:a.height/2},-i),d=st($(l),-i),p=st({left:c?f.left-(d.left-f.left):d.left,top:h?f.top-(d.top-f.top):d.top},i);l=J(l,X(p,$(l))),d=st($(u),-i),u=lt(u=J(u,X(p=st({left:c?f.left-(d.left-f.left):d.left,top:h?f.top-(d.top-f.top):d.top},i),$(u))),r({visibleArea:u,type:"move"}))}return{coordinates:l,visibleArea:u}}function Et(t){var e=t.directions,n=t.coordinates,i=t.positionRestrictions,r=void 0===i?{}:i,o=t.sizeRestrictions,s=t.preserveRatio,a=t.compensate,l=y({},e),u=Z(n,l).width,c=Z(n,l).height;u<0&&(l.left<0&&l.right<0?(l.left=-(n.width-o.minWidth)/(l.left/l.right),l.right=-(n.width-o.minWidth)/(l.right/l.left)):l.left<0?l.left=-(n.width-o.minWidth):l.right<0&&(l.right=-(n.width-o.minWidth))),c<0&&(l.top<0&&l.bottom<0?(l.top=-(n.height-o.minHeight)/(l.top/l.bottom),l.bottom=-(n.height-o.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(n.height-o.minHeight):l.bottom<0&&(l.bottom=-(n.height-o.minHeight)));var h=G(Z(n,l),r);a&&(h.left&&h.left>0&&0===h.right?(l.right+=h.left,l.left-=h.left):h.right&&h.right>0&&0===h.left&&(l.left+=h.right,l.right-=h.right),h.top&&h.top>0&&0===h.bottom?(l.bottom+=h.top,l.top-=h.top):h.bottom&&h.bottom>0&&0===h.top&&(l.top+=h.bottom,l.bottom-=h.bottom),h=G(Z(n,l),r));var f={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(B.forEach((function(t){var e=h[t];e&&l[t]&&(f[t]=Math.max(0,1-e/l[t]))})),s){var d=Math.min.apply(null,B.map((function(t){return f[t]})));d!==1/0&&B.forEach((function(t){l[t]*=d}))}else B.forEach((function(t){f[t]!==1/0&&(l[t]*=f[t])}));if(u=Z(n,l).width,c=Z(n,l).height,l.right+l.left&&(u>o.maxWidth?f.width=(o.maxWidth-n.width)/(l.right+l.left):u<o.minWidth&&(f.width=(o.minWidth-n.width)/(l.right+l.left))),l.bottom+l.top&&(c>o.maxHeight?f.height=(o.maxHeight-n.height)/(l.bottom+l.top):c<o.minHeight&&(f.height=(o.minHeight-n.height)/(l.bottom+l.top))),s){var p=Math.min(f.width,f.height);p!==1/0&&B.forEach((function(t){l[t]*=p}))}else f.width!==1/0&&q.forEach((function(t){l[t]*=f.width})),f.height!==1/0&&H.forEach((function(t){l[t]*=f.height}));return l}function Ft(t,e,n){return 0==e&&0==n?t/2:0==e?0:0==n?t:t*Math.abs(e/(e+n))}var Mt=v("vue-simple-handler"),Pt=v("vue-simple-handler-wrapper"),jt={name:"SimpleHandler",components:{HandlerWrapper:D},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var t,e=(a(t={},this.horizontalPosition,Boolean(this.horizontalPosition)),a(t,this.verticalPosition,Boolean(this.verticalPosition)),a(t,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),Boolean(this.verticalPosition&&this.horizontalPosition)),a(t,"hover",this.hover),t);return{default:p(Mt(e),this.defaultClass,this.hover&&this.hoverClass),wrapper:p(Pt(e),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"],render:function(t,e,n,r,o,s){var a=(0,i.up)("HandlerWrapper");return(0,i.wg)(),(0,i.j4)(a,{class:s.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:(0,i.w5)((function(){return[(0,i.Wm)("div",{class:s.classes.default},null,2)]})),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])}},Rt=v("vue-simple-line"),Lt=v("vue-simple-line-wrapper"),Dt={name:"SimpleLine",components:{LineWrapper:z},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:p(Rt(a({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:p(Lt(a({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(t){this.$emit("drag",t)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"],render:function(t,e,n,r,o,s){var a=(0,i.up)("LineWrapper");return(0,i.wg)(),(0,i.j4)(a,{class:s.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:(0,i.w5)((function(){return[(0,i.Wm)("div",{class:s.classes.root},null,2)]})),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])}},It=v("vue-bounding-box"),zt=["east","west",null],Bt=["south","north",null],qt={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return jt}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return Dt}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var t=[];return zt.forEach((function(e){Bt.forEach((function(n){if(e!==n){var i=b(e,n),r=i.name,o=i.classname;t.push({name:r,classname:o,verticalDirection:n,horizontalDirection:e})}}))})),{points:t}},computed:{style:function(){var t={};return this.width&&this.height&&(t.width="".concat(this.width,"px"),t.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),t},classes:function(){var t=this.handlersClasses,e=this.handlersWrappersClasses,n=this.linesClasses,i=this.linesWrappersClasses;return{root:It(),handlers:t,handlersWrappers:e,lines:n,linesWrappers:i}},lineNodes:function(){var t=this,e=[];return this.points.forEach((function(n){n.horizontalDirection&&n.verticalDirection||!t.lines[n.name]||e.push({name:n.name,component:t.linesComponent,class:p(t.classes.lines.default,t.classes.lines[n.name],!t.resizable&&t.classes.lines.disabled),wrapperClass:p(t.classes.linesWrappers.default,t.classes.linesWrappers[n.name],!t.resizable&&t.classes.linesWrappers.disabled),hoverClass:t.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!t.resizable})})),e},handlerNodes:function(){var t=this,e=[],n=this.width,i=this.height;return this.points.forEach((function(r){if(t.handlers[r.name]){var o={name:r.name,component:t.handlersComponent,class:p(t.classes.handlers.default,t.classes.handlers[r.name]),wrapperClass:p(t.classes.handlersWrappers.default,t.classes.handlersWrappers[r.name]),hoverClass:t.classes.handlers.hover,verticalDirection:r.verticalDirection,horizontalDirection:r.horizontalDirection,disabled:!t.resizable};if(n&&i){var s=r.horizontalDirection,l=r.verticalDirection,u="east"===s?n:"west"===s?0:n/2,c="south"===l?i:"north"===l?0:i/2;o.wrapperClass=It("handler"),o.wrapperStyle={transform:"translate(".concat(u,"px, ").concat(c,"px)")},t.transitions&&t.transitions.enabled&&(o.wrapperStyle.transition="".concat(t.transitions.time,"ms ").concat(t.transitions.timingFunction))}else o.wrapperClass=It("handler",a({},r.classname,!0));e.push(o)}})),e}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(t,e,n){var i,r=t.shift(),o=r.left,s=r.top,a={left:0,right:0,top:0,bottom:0};"west"===e?a.left-=o:"east"===e&&(a.right+=o),"north"===n?a.top-=s:"south"===n&&(a.bottom+=s),!n&&e?i="width":n&&!e&&(i="height"),this.resizable&&this.$emit("resize",new M(a,{allowedDirections:{left:"west"===e||!e,right:"east"===e||!e,bottom:"south"===n||!n,top:"north"===n||!n},preserveAspectRatio:t.nativeEvent&&t.nativeEvent.shiftKey,respectDirection:i}))}},emits:["resize","resize-end"],render:function(t,e,n,r,o,s){return(0,i.wg)(),(0,i.j4)("div",{ref:"box",class:s.classes.root,style:s.style},[(0,i.WI)(t.$slots,"default"),(0,i.Wm)("div",null,[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(s.lineNodes,(function(t){return(0,i.wg)(),(0,i.j4)((0,i.LL)(t.component),{key:t.name,"default-class":t.class,"hover-class":t.hoverClass,"wrapper-class":t.wrapperClass,position:t.name,disabled:t.disabled,onDrag:function(e){return s.onHandlerDrag(e,t.horizontalDirection,t.verticalDirection)},onDragEnd:e[1]||(e[1]=function(t){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])})),128))]),((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(s.handlerNodes,(function(t){return(0,i.wg)(),(0,i.j4)("div",{key:t.name,style:t.wrapperStyle,class:t.wrapperClass},[((0,i.wg)(),(0,i.j4)((0,i.LL)(t.component),{"default-class":t.class,"hover-class":t.hoverClass,"wrapper-class":t.wrapperClass,"horizontal-position":t.horizontalDirection,"vertical-position":t.verticalDirection,disabled:t.disabled,onDrag:function(e){return s.onHandlerDrag(e,t.horizontalDirection,t.verticalDirection)},onDragEnd:e[2]||(e[2]=function(t){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)})),128))],6)}},Ht=v("vue-draggable-area"),Vt={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:Ht()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(t){if(t.cancelable){var e=this.movable&&1===t.touches.length;e&&(this.touches=u(t.touches)),(this.touchStarted||e)&&(t.preventDefault(),t.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(t){this.touches.length>=1&&(this.touchStarted?(this.processMove(t,t.touches),t.preventDefault(),t.stopPropagation()):E({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:t.touches[0].clientX,y:t.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(t){if(this.movable&&0===t.button){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.initAnchor(e),t.stopPropagation()}},onMouseMove:function(t){this.touches.length&&(this.processMove(t,[{fake:!0,clientX:t.clientX,clientY:t.clientY}]),t.preventDefault&&t.cancelable&&t.preventDefault(),t.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(t){var e=this.$refs.container.getBoundingClientRect(),n=e.left,i=e.top;this.anchor={x:t.clientX-n,y:t.clientY-i}},processMove:function(t,e){var n=u(e);if(this.touches.length){var i=this.$refs.container.getBoundingClientRect(),r=i.left,o=i.top;1===this.touches.length&&1===n.length&&this.$emit("move",new P({left:n[0].clientX-(r+this.anchor.x),top:n[0].clientY-(o+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};function Wt(t){var e,n;return{rotate:t.rotate||0,flip:{horizontal:(null===(e=null==t?void 0:t.flip)||void 0===e?void 0:e.horizontal)||!1,vertical:(null===(n=null==t?void 0:t.flip)||void 0===n?void 0:n.vertical)||!1}}}function Nt(t){return new Promise((function(e,n){try{if(t)if(/^data:/i.test(t))e(function(t){t=t.replace(/^data:([^;]+);base64,/gim,"");for(var e=atob(t),n=e.length,i=new ArrayBuffer(n),r=new Uint8Array(i),o=0;o<n;o++)r[o]=e.charCodeAt(o);return i}(t));else if(/^blob:/i.test(t)){var i=new FileReader;i.onload=function(t){e(t.target.result)},o=t,s=function(t){i.readAsArrayBuffer(t)},(a=new XMLHttpRequest).open("GET",o,!0),a.responseType="blob",a.onload=function(){200!=this.status&&0!==this.status||s(this.response)},a.send()}else{var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status||0===r.status?e(r.response):n("Warning: could not load an image to parse its orientation"),r=null)},r.onprogress=function(){"image/jpeg"!==r.getResponseHeader("content-type")&&r.abort()},r.withCredentials=!1,r.open("GET",t,!0),r.responseType="arraybuffer",r.send(null)}else n("Error: the image is empty")}catch(t){n(t)}var o,s,a}))}function Ut(t){var e=t.rotate,n=t.flip,i=t.scaleX,r=t.scaleY,o="";return o+=" rotate("+e+"deg) ",o+=" scaleX("+i*(n.horizontal?-1:1)+") ",o+" scaleY("+r*(n.vertical?-1:1)+") "}function Yt(t){try{var e,n=new DataView(t),i=void 0,r=void 0,o=void 0,s=void 0;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,l=2;l+1<a;){if(255===n.getUint8(l)&&225===n.getUint8(l+1)){o=l;break}l++}if(o&&(i=o+10,"Exif"===function(t,e,n){var i,r="";for(i=e,n+=e;i<n;i++)r+=String.fromCharCode(t.getUint8(i));return r}(n,o+4,4))){var u=n.getUint16(i);if(((r=18761===u)||19789===u)&&42===n.getUint16(i+2,r)){var c=n.getUint32(i+4,r);c>=8&&(s=i+c)}}if(s)for(var h=n.getUint16(s,r),f=0;f<h;f++)if(l=s+12*f+2,274===n.getUint16(l,r)){l+=8,e=n.getUint16(l,r),n.setUint16(l,1,r);break}return e}catch(t){return null}}Vt.render=function(t,e,n,r,o,s){return(0,i.wg)(),(0,i.j4)("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)})},[(0,i.WI)(t.$slots,"default")],544)};var Xt=v("vue-preview-result"),$t={name:"PreviewResult",props:{image:{type:Object},transitions:{type:Object},stencilCoordinates:{type:Object,default:function(){return{width:0,height:0,left:0,top:0}}},imageClass:{type:String}},computed:{classes:function(){return{root:Xt(),wrapper:Xt("wrapper"),imageWrapper:Xt("image-wrapper"),image:p(Xt("image"),this.imageClass)}},wrapperStyle:function(){var t={width:"".concat(this.stencilCoordinates.width,"px"),height:"".concat(this.stencilCoordinates.height,"px"),left:"calc(50% - ".concat(this.stencilCoordinates.width/2,"px)"),top:"calc(50% - ".concat(this.stencilCoordinates.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){var t=this.image.transforms,e=ot({width:this.image.width,height:this.image.height},t.rotate),n={width:"".concat(this.image.width,"px"),height:"".concat(this.image.height,"px"),left:"0px",top:"0px"},i={left:(this.image.width-e.width)*t.scaleX/2,top:(this.image.height-e.height)*t.scaleY/2},r={left:(1-t.scaleX)*this.image.width/2,top:(1-t.scaleY)*this.image.height/2};return n.transform="translate(\n\t\t\t\t".concat(-this.stencilCoordinates.left-t.translateX-i.left-r.left,"px,").concat(-this.stencilCoordinates.top-t.translateY-i.top-r.top,"px) ")+Ut(t),this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),n}}};function Gt(t,e){var n=e.getBoundingClientRect(),i=n.left,r=n.top,o={left:0,top:0},s=0;return t.forEach((function(e){o.left+=(e.clientX-i)/t.length,o.top+=(e.clientY-r)/t.length})),t.forEach((function(t){s+=E({x:o.left,y:o.top},{x:t.clientX-i,y:t.clientY-r})})),{centerMass:o,spread:s,count:t.length}}$t.render=function(t,e,n,r,o,s){return(0,i.wg)(),(0,i.j4)("div",{class:s.classes.root},[(0,i.Wm)("div",{ref:"wrapper",class:s.classes.wrapper,style:s.wrapperStyle},[(0,i.Wm)("img",{ref:"image",src:n.image.src,class:s.classes.image,style:s.imageStyle},null,14,["src"])],6)],2)};var Zt={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=m(this.processEnd),this.touches=[]},methods:{processMove:function(t,e){if(this.touches.length){if(1===this.touches.length&&1===e.length)this.$emit("move",new F({left:this.touches[0].clientX-e[0].clientX,top:this.touches[0].clientY-e[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=Gt(e,this.$refs.container),i=this.oldGeometricProperties;i.count===n.count&&i.count>1&&this.$emit("resize",new F({left:i.centerMass.left-n.centerMass.left,top:i.centerMass.top-n.centerMass.top},{factor:i.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=e}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(t){return this.eventsFilter?!1!==this.eventsFilter(t,this.transforming):(t.preventDefault(),t.stopPropagation(),!0)},onTouchStart:function(t){if(t.cancelable&&(this.touchMove||this.touchResize&&t.touches.length>1)&&this.processEvent(t)){var e=this.$refs.container,n=e.getBoundingClientRect(),i=n.left,r=n.top,o=n.bottom,s=n.right;this.touches=u(t.touches).filter((function(t){return t.clientX>i&&t.clientX<s&&t.clientY>r&&t.clientY<o})),this.oldGeometricProperties=Gt(this.touches,e)}},onTouchEnd:function(t){0===t.touches.length&&(this.touches=[],this.processEnd())},onTouchMove:function(t){var e=this;if(this.touches.length){var n=u(t.touches).filter((function(t){return!t.identifier||e.touches.find((function(e){return e.identifier===t.identifier}))}));this.processEvent(t)&&(this.processMove(t,n),this.processStart())}},onMouseDown:function(t){if(this.mouseMove&&"buttons"in t&&1===t.buttons&&this.processEvent(t)){var e={fake:!0,clientX:t.clientX,clientY:t.clientY};this.touches=[e],this.processStart()}},onMouseMove:function(t){this.touches.length&&this.processEvent(t)&&this.processMove(t,[{clientX:t.clientX,clientY:t.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(t){if(this.wheelResize&&this.processEvent(t)){var e=this.$refs.container.getBoundingClientRect(),n=e.left,i=e.top,r=1+this.wheelResize.ratio*(s=t.deltaY||t.detail||t.wheelDelta,0===(a=+s)||A(a)?a:a>0?1:-1),o={left:t.clientX-n,top:t.clientY-i};this.$emit("resize",new F({},{factor:r,center:o})),this.touches.length||this.debouncedProcessEnd()}var s,a}},emits:["resize","move","transform-end"],render:function(t,e,n,r,o,s){return(0,i.wg)(),(0,i.j4)("div",{ref:"container",onTouchstart:e[1]||(e[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:e[2]||(e[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onWheel:e[3]||(e[3]=function(){return s.onWheel&&s.onWheel.apply(s,arguments)})},[(0,i.WI)(t.$slots,"default")],544)}},Kt={components:{TransformableImage:Zt},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"],render:function(t,e,n,r,o,s){var a=(0,i.up)("transformable-image");return(0,i.wg)(),(0,i.j4)(a,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:e[1]||(e[1]=function(e){return t.$emit("move",e)}),onResize:e[2]||(e[2]=function(e){return t.$emit("resize",e)})},{default:(0,i.w5)((function(){return[(0,i.WI)(t.$slots,"default")]})),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])}},Jt=v("vue-preview"),Qt={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Jt({fill:this.fill}),wrapper:Jt("wrapper"),imageWrapper:Jt("image-wrapper"),image:p(Jt("image"),this.imageClass)}},style:function(){if(this.fill)return{};var t={};return this.width&&(t.width="".concat(this.size.width,"px")),this.height&&(t.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},wrapperStyle:function(){var t={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(t.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),t},imageStyle:function(){if(this.coordinates&&this.image){var t=this.coordinates.width/this.size.width,e=s(s({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/t,scaleY:1/t}),n=this.imageSize.width,i=this.imageSize.height,r=ot({width:n,height:i},e.rotate),o={width:"".concat(n,"px"),height:"".concat(i,"px"),left:"0px",top:"0px"},a={rotate:{left:(n-r.width)*e.scaleX/2,top:(i-r.height)*e.scaleY/2},scale:{left:(1-e.scaleX)*n/2,top:(1-e.scaleY)*i/2}};return o.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/t-a.rotate.left-a.scale.left,"px,").concat(-this.coordinates.top/t-a.rotate.top-a.scale.top,"px) ")+Ut(e),this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(t){(t.width||t.height)&&this.onChangeImage()}},mounted:function(){var t=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){t.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var t=this.$refs.image;this.calculatedImageSize.height=t.naturalHeight,this.calculatedImageSize.width=t.naturalWidth},refresh:function(){var t=this.$refs.root;this.width||(this.calculatedSize.width=t.clientWidth),this.height||(this.calculatedSize.height=t.clientHeight)},onChangeImage:function(){var t=this.$refs.image;t&&t.complete&&this.refreshImage(),this.refresh()}},render:function(t,e,n,o,s,a){return(0,i.wg)(),(0,i.j4)("div",{ref:"root",class:a.classes.root,style:a.style},[(0,i.Wm)("div",{ref:"wrapper",class:a.classes.wrapper,style:a.wrapperStyle},[(0,i.wy)((0,i.Wm)("img",{ref:"image",src:n.image&&n.image.src,class:a.classes.image,style:a.imageStyle},null,14,["src"]),[[r.F8,n.image&&n.image.src]])],6)],6)}},te={components:{Preview:Qt},inheritAttrs:!1,render:function(t,e,n,r,o,s){var a=(0,i.up)("preview");return(0,i.wg)(),(0,i.j4)(a,(0,i.dG)(t.$attrs,{fill:!0}),null,16)}},ee=v("vue-rectangle-stencil"),ne={name:"RectangleStencil",components:{StencilPreview:te,BoundingBox:qt,DraggableArea:Vt},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return jt}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Dt}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:p(ee({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:p(ee("preview"),this.previewClass),boundingBox:p(ee("bounding-box"),this.boundingBoxClass)}},style:function(){var t=this.stencilCoordinates,e=t.height,n=t.width,i=t.left,r=t.top,o={width:"".concat(n,"px"),height:"".concat(e,"px"),transform:"translate(".concat(i,"px, ").concat(r,"px)")};return this.transitions&&this.transitions.enabled&&(o.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),o}},methods:{onMove:function(t){this.$emit("move",t),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(t){this.$emit("resize",t),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"],render:function(t,e,n,r,o,s){var a=(0,i.up)("stencil-preview"),l=(0,i.up)("draggable-area"),u=(0,i.up)("bounding-box");return(0,i.wg)(),(0,i.j4)("div",{class:s.classes.stencil,style:s.style},[(0,i.Wm)(u,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:s.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{movable:n.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:s.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]})),_:1},8,["movable","onMove","onMoveEnd"])]})),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)}},ie=v("vue-circle-stencil"),re=(Boolean,Boolean,["transitions"]),oe=v("vue-advanced-cropper"),se={name:"Cropper",components:{BackgroundWrapper:Kt},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return ne}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Kt}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(t){return-1!==W.indexOf(t)}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(t){return!("string"==typeof t&&"fill"!==t&&"fit"!==t)}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(t){var e=t.event,n=t.coordinates,i=t.aspectRatio,r=t.positionRestrictions,o=t.sizeRestrictions,s=y(y({},n),{right:n.left+n.width,bottom:n.top+n.height}),a=e.params||{},l=y({},e.directions),u=a.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};o.widthFrozen&&(l.left=0,l.right=0),o.heightFrozen&&(l.top=0,l.bottom=0),B.forEach((function(t){u[t]||(l[t]=0)}));var c=Z(s,l=Et({coordinates:s,directions:l,sizeRestrictions:o,positionRestrictions:r})).width,h=Z(s,l).height,f=a.preserveRatio?tt(s):it(c/h,i);if(f){var d=a.respectDirection;if(d||(d=s.width>=s.height||1===f?"width":"height"),"width"===d){var p=c/f-s.height;if(u.top&&u.bottom){var v=l.top,g=l.bottom;l.bottom=Ft(p,g,v),l.top=Ft(p,v,g)}else u.bottom?l.bottom=p:u.top?l.top=p:u.right?l.right=0:u.left&&(l.left=0)}else if("height"===d){var m=s.width-h*f;if(u.left&&u.right){var b=l.left,_=l.right;l.left=-Ft(m,b,_),l.right=-Ft(m,_,b)}else u.left?l.left=-m:u.right?l.right=-m:u.top?l.top=0:u.bottom&&(l.bottom=0)}l=Et({directions:l,coordinates:s,sizeRestrictions:o,positionRestrictions:r,preserveRatio:!0,compensate:a.compensate})}return c=Z(s,l).width,h=Z(s,l).height,(f=a.preserveRatio?tt(s):it(c/h,i))&&Math.abs(f-c/h)>.001&&B.forEach((function(t){u[t]||(l[t]=0)})),gt({event:new P({left:-l.left,top:-l.top}),coordinates:{width:n.width+l.right+l.left,height:n.height+l.top+l.bottom,left:n.left,top:n.top},positionRestrictions:r})}},moveAlgorithm:{type:Function,default:gt},initStretcher:{type:Function,default:function(t){var e=t.stretcher,n=t.imageSize,i=tt(n);e.style.width=n.width+"px",e.style.height=e.clientWidth/i+"px",e.style.width=e.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(t){var e=t.visibleArea,n=t.coordinates,i=t.aspectRatio,r=t.sizeRestrictions,o=t.positionRestrictions,s=y(y({},n),vt({width:n.width,height:n.height,aspectRatio:i,sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minHeight:Math.min(e.height,r.minHeight),minWidth:Math.min(e.width,r.minWidth)}}));return lt(s=J(s,X($(n),$(s))),ft(Y(e),o))}},fitVisibleArea:{type:Function,default:function(t){var e=t.visibleArea,n=t.boundaries,i=t.getAreaRestrictions,r=t.coordinates,o=y({},e);o.height=o.width/tt(n),o.top+=(e.height-o.height)/2,(r.height-o.height>0||r.width-o.width>0)&&(o=Q(o,Math.max(r.height/o.height,r.width/o.width)));var s=K(nt(r,Y(o=Q(o,at(o,i({visibleArea:o,type:"resize"}))))));return o.width<r.width&&(s.left=0),o.height<r.height&&(s.top=0),lt(o=J(o,s),i({visibleArea:o,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.visibleArea,n=t.boundaries,i=t.imageSize,r=t.imageRestriction,o=t.type,s={};return"fill-area"===r?s={left:0,top:0,right:i.width,bottom:i.height}:"fit-area"===r&&(tt(n)>tt(i)?(s={top:0,bottom:i.height},e&&"move"===o&&(e.width>i.width?(s.left=-(e.width-i.width)/2,s.right=i.width-s.left):(s.left=0,s.right=i.width))):(s={left:0,right:i.width},e&&"move"===o&&(e.height>i.height?(s.top=-(e.height-i.height)/2,s.bottom=i.height-s.top):(s.top=0,s.bottom=i.height)))),s}},sizeRestrictionsAlgorithm:{type:Function,default:function(t){return{minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(t){var e=t.imageSize,n={};return"none"!==t.imageRestriction&&(n={left:0,top:0,right:e.width,bottom:e.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:s({},N)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var t=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(t))+Math.abs(this.imageAttributes.height*Math.sin(t)),height:Math.abs(this.imageAttributes.width*Math.sin(t))+Math.abs(this.imageAttributes.height*Math.cos(t))}},initialized:function(){return Boolean(this.visibleArea&&this.imageLoaded)},settings:function(){var t=T(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:T(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:t}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var t=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:S(this.minWidth)?0:k(this.minWidth),minHeight:S(this.minHeight)?0:k(this.minHeight),maxWidth:S(this.maxWidth)?1/0:k(this.maxWidth),maxHeight:S(this.maxHeight)?1/0:k(this.maxHeight)});if(t=function(t){var e=t.areaRestrictions,n=t.sizeRestrictions;t.imageSize;var i=t.boundaries,r=t.positionRestrictions;t.imageRestriction;var o=y(y({},n),{minWidth:void 0!==n.minWidth?n.minWidth:0,minHeight:void 0!==n.minHeight?n.minHeight:0,maxWidth:void 0!==n.maxWidth?n.maxWidth:1/0,maxHeight:void 0!==n.maxHeight?n.maxHeight:1/0});void 0!==r.left&&void 0!==r.right&&(o.maxWidth=Math.min(o.maxWidth,r.right-r.left)),void 0!==r.bottom&&void 0!==r.top&&(o.maxHeight=Math.min(o.maxHeight,r.bottom-r.top));var s=ut(e),a=rt(i,s);return s.width<1/0&&(!o.maxWidth||o.maxWidth>a.width)&&(o.maxWidth=Math.min(o.maxWidth,a.width)),s.height<1/0&&(!o.maxHeight||o.maxHeight>a.height)&&(o.maxHeight=Math.min(o.maxHeight,a.height)),o.minWidth>o.maxWidth&&(o.minWidth=o.maxWidth,o.widthFrozen=!0),o.minHeight>o.maxHeight&&(o.minHeight=o.maxHeight,o.heightFrozen=!0),o}({sizeRestrictions:t,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var e=this.getStencilSize(),n=ut(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));t.maxWidth=Math.min(t.maxWidth,n.width*e.width/this.boundaries.width),t.maxHeight=Math.min(t.maxHeight,n.height*e.height/this.boundaries.height),t.maxWidth<t.minWidth&&(t.minWidth=t.maxWidth),t.maxHeight<t.minHeight&&(t.minHeight=t.maxHeight)}return t}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:oe(),image:p(oe("image"),this.imageClass),stencil:oe("stencil"),boundaries:p(oe("boundaries"),this.boundariesClass),stretcher:p(oe("stretcher")),background:p(oe("background"),this.backgroundClass),foreground:p(oe("foreground"),this.foregroundClass),imageWrapper:p(oe("image-wrapper")),cropperWrapper:p(oe("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var t=this.coordinates,e=t.width,n=t.height,i=t.left,r=t.top;return{width:e/this.coefficient,height:n/this.coefficient,left:(i-this.visibleArea.left)/this.coefficient,top:(r-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var t={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(t.opacity="0"),t},imageStyle:function(){var t=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},e={left:(t.width-this.imageSize.width)/(2*this.coefficient),top:(t.height-this.imageSize.height)/(2*this.coefficient)},n={left:(1-1/this.coefficient)*t.width/2,top:(1-1/this.coefficient)*t.height/2},i=s(s({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/t.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/t.height)}),r={width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-e.left-n.left-this.imageTransforms.translateX,"px, ").concat(-e.top-n.top-this.imageTransforms.translateY,"px)")+Ut(i)};return this.transitionsOptions.enabled&&(r.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),r}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var t=this;this.$nextTick((function(){t.resetCoordinates(),t.runAutoZoom("setCoordinates"),t.onChange()}))},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(t,e){["aspectRatio","minAspectRatio","maxAspectRatio"].find((function(n){return t[n]!==e[n]}))&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=m(this.update,this.debounce),this.debouncedDisableTransitions=m(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var t=this.initialized?this.prepareResult(s({},this.coordinates)):this.defaultCoordinates(),e={rotate:this.imageTransforms.rotate%360,flip:s({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:t,visibleArea:this.visibleArea?s({},this.visibleArea):null,imageTransforms:e,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:t,visibleArea:this.visibleArea?s({},this.visibleArea):null,canvas:void 0,imageTransforms:e}},zoom:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.transitions,r=void 0===i||i;this.onManipulateImage(new F({},{factor:1/t,center:e}),{normalize:!1,transitions:r})},move:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.transitions,r=void 0===i||i;this.onManipulateImage(new F({left:t||0,top:e||0}),{normalize:!1,transitions:r})},setCoordinates:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.autoZoom,r=void 0===i||i,o=n.transitions,s=void 0===o||o;this.$nextTick((function(){e.imageLoaded?(e.transitionsActive||(s&&e.enableTransitions(),e.coordinates=e.applyTransform(t),r&&e.runAutoZoom("setCoordinates"),s&&e.debouncedDisableTransitions()),e.onChange()):e.delayedTransforms=t}))},refresh:function(){var t=this,e=this.$refs.image;if(this.src&&e)return this.initialized?this.updateVisibleArea().then((function(){t.onChange()})):this.resetVisibleArea().then((function(){t.onChange()}))},reset:function(){var t=this;return this.resetVisibleArea().then((function(){t.onChange(!1)}))},awaitRender:function(t){var e=this;this.awaiting||(this.awaiting=!0,this.$nextTick((function(){t(),e.awaiting=!1})))},prepareResult:function(t){return this.roundResult?function(t){var e=t.coordinates,n=t.sizeRestrictions,i=t.positionRestrictions,r={width:Math.round(e.width),height:Math.round(e.height),left:Math.round(e.left),top:Math.round(e.top)};return r.width>n.maxWidth?r.width=Math.floor(e.width):r.width<n.minWidth&&(r.width=Math.ceil(e.width)),r.height>n.maxHeight?r.height=Math.floor(e.height):r.height<n.minHeight&&(r.height=Math.ceil(e.height)),lt(r,i)}(s(s({},this.getPublicProperties()),{},{positionRestrictions:Tt(this.positionRestrictions,this.visibleArea),coordinates:t})):t},processAutoZoom:function(t,e,n,i){var r=this.autoZoomAlgorithm;r||(r=this.stencilSize?yt:this.autoZoom?bt:_t);var o=r({event:{type:t,params:i},visibleArea:e,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return s(s({},o),{},{changed:!U(o.visibleArea,e)||!U(o.coordinates,n)})},runAutoZoom:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transitions,i=void 0!==n&&n,r=l(e,re),o=this.processAutoZoom(t,this.visibleArea,this.coordinates,r),s=o.visibleArea,a=o.coordinates,u=o.changed;i&&u&&this.enableTransitions(),this.visibleArea=s,this.coordinates=a,i&&u&&this.debouncedDisableTransitions()},normalizeEvent:function(t){return function(t){var e=t.event,n=t.visibleArea,i=t.coefficient;if("manipulateImage"===e.type)return y(y({},e),{move:{left:e.move&&e.move.left?i*e.move.left:0,top:e.move&&e.move.top?i*e.move.top:0},scale:{factor:e.scale&&e.scale.factor?e.scale.factor:1,center:e.scale&&e.scale.center?{left:e.scale.center.left*i+n.left,top:e.scale.center.top*i+n.top}:null}});if("resize"===e.type){var r=y(y({},e),{directions:y({},e.directions)});return B.forEach((function(t){r.directions[t]*=i})),r}if("move"===e.type){var o=y(y({},e),{directions:y({},e.directions)});return V.forEach((function(t){o.directions[t]*=i})),o}return e}(s(s({},this.getPublicProperties()),{},{event:t}))},getCanvas:function(){if(this.$refs.canvas){var t=this.$refs.canvas,e=this.$refs.image,n=0!==this.imageTransforms.rotate||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(t,e,n){var i=n.rotate,r=n.flip,o={width:e.naturalWidth,height:e.naturalHeight},s=ot(o,i),a=t.getContext("2d");t.height=s.height,t.width=s.width,a.save();var l=st($(y({left:0,top:0},o)),i);return a.translate(-(l.left-s.width/2),-(l.top-s.height/2)),a.rotate(i*Math.PI/180),a.translate(r.horizontal?o.width:0,r.vertical?o.height:0),a.scale(r.horizontal?-1:1,r.vertical?-1:1),a.drawImage(e,0,0,o.width,o.height),a.restore(),t}(this.$refs.sourceCanvas,e,this.imageTransforms):e,i=s({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),r=function(t){return t.find((function(t){return e=t,!Number.isNaN(parseFloat(e))&&isFinite(e);var e}))},o=vt({sizeRestrictions:{minWidth:r([i.width,i.minWidth])||0,minHeight:r([i.height,i.minHeight])||0,maxWidth:r([i.width,i.maxWidth])||1/0,maxHeight:r([i.height,i.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(i.maxArea&&o.width*o.height>i.maxArea){var a=Math.sqrt(i.maxArea/(o.width*o.height));o={width:Math.round(a*o.width),height:Math.round(a*o.height)}}return function(t,e,n,i,r){t.width=i?i.width:n.width,t.height=i?i.height:n.height;var o=t.getContext("2d");o.clearRect(0,0,t.width,t.height),r&&(r.imageSmoothingEnabled&&(o.imageSmoothingEnabled=r.imageSmoothingEnabled),r.imageSmoothingQuality&&(o.imageSmoothingQuality=r.imageSmoothingQuality),r.fillColor&&(o.fillStyle=r.fillColor,o.fillRect(0,0,t.width,t.height),o.save()));var s=n.left<0?-n.left:0,a=n.top<0?-n.top:0;o.drawImage(e,n.left+s,n.top+a,n.width,n.height,s,a,t.width,t.height)}(t,n,this.coordinates,o,i),t}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.visibleArea&&e?ct(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,i=this.visibleArea&&e?Tt(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return mt({transform:t,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:i,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var t=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var e=this.defaultSize;e||(e=this.stencilSize?St:xt);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var i=x(e)?e({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):e,r=this.defaultPosition||wt,o=[i,function(e){var n=e.coordinates;return s({},x(r)?r({coordinates:n,imageSize:t.imageSize,visibleArea:t.visibleArea}):t.defaultPosition)}];this.delayedTransforms&&o.push.apply(o,u(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(o,!0),this.delayedTransforms=null}},clearImage:function(){var t=this;this.imageLoaded=!1,setTimeout((function(){var e=t.$refs.stretcher;e&&(e.style.height="auto",e.style.width="auto"),t.coordinates=t.defaultCoordinates(),t.boundaries={width:0,height:0}}),this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var t=this,e=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:e,imageSize:this.imageSize}),this.$nextTick().then((function(){var e={cropper:n,imageSize:t.imageSize};if(x(t.defaultBoundaries)?t.boundaries=t.defaultBoundaries(e):"fit"===t.defaultBoundaries?t.boundaries=function(t){var e=t.cropper,n=t.imageSize,i=e.clientHeight,r=e.clientWidth,o=i,s=n.width*i/n.height;return s>r&&(s=r,o=n.height*r/n.width),{width:s,height:o}}(e):t.boundaries=function(t){var e=t.cropper;return{width:e.clientWidth,height:e.clientHeight}}(e),!t.boundaries.width||!t.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")}))},resetVisibleArea:function(){var t=this;return this.appliedImageTransforms=s(s({},this.defaultImageTransforms),{},{flip:s({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then((function(){"visible-area"!==t.priority&&(t.visibleArea=null,t.resetCoordinates());var e,n,i,r,o,s,a=t.defaultVisibleArea||Ct;t.visibleArea=x(a)?a({imageSize:t.imageSize,boundaries:t.boundaries,coordinates:"visible-area"!==t.priority?t.coordinates:null,getAreaRestrictions:t.getAreaRestrictions,stencilSize:t.getStencilSize()}):t.defaultVisibleArea,t.visibleArea=(e={visibleArea:t.visibleArea,boundaries:t.boundaries,getAreaRestrictions:t.getAreaRestrictions},n=e.visibleArea,i=e.boundaries,r=e.getAreaRestrictions,o=y({},n),s=tt(i),o.width/o.height!==s&&(o.height=o.width/s),lt(o,r({visibleArea:o,type:"move"}))),"visible-area"===t.priority?t.resetCoordinates():t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("resetVisibleArea")})).catch((function(){t.visibleArea=null}))},updateVisibleArea:function(){var t=this;return this.updateBoundaries().then((function(){t.visibleArea=t.fitVisibleArea({imageSize:t.imageSize,boundaries:t.boundaries,visibleArea:t.visibleArea,coordinates:t.coordinates,getAreaRestrictions:t.getAreaRestrictions}),t.coordinates=t.fitCoordinates({visibleArea:t.visibleArea,coordinates:t.coordinates,aspectRatio:t.getAspectRatio(),positionRestrictions:t.positionRestrictions,sizeRestrictions:t.sizeRestrictions}),t.runAutoZoom("updateVisibleArea")})).catch((function(){t.visibleArea=null}))},onChange:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var t,e=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(t){if(w(t))return!1;var e=window.location,n=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(t)||[],i={protocol:n[1]||"",host:n[2]||"",port:n[3]||""},r=function(t){return t.port||("http"===(t.protocol||e.protocol)?80:433)};return!(!i.protocol&&!i.host&&!i.port||Boolean(i.protocol&&i.protocol==e.protocol&&i.host&&i.host==e.host&&i.host&&r(i)==r(e)))}(this.src)){var n=S(this.crossOrigin)?this.canvas:this.crossOrigin;!0===n&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var i=(t=this.src,new Promise((function(e){Nt(t).then((function(n){var i=Yt(n);e(n?{source:t,arrayBuffer:n,orientation:i}:{source:t,arrayBuffer:null,orientation:null})})).catch((function(n){console.warn(n),e({source:t,arrayBuffer:null,orientation:null})}))})));setTimeout((function(){i.then(e.onParseImage)}),this.transitionTime)}else setTimeout((function(){e.onParseImage({source:e.src})}),this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var t=this,e=this.$refs.image;e&&!this.imageLoaded&&(this.imageAttributes.height=e.naturalHeight,this.imageAttributes.width=e.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then((function(){t.$emit("ready"),t.onChange(!1)})))},onParseImage:function(t){var e=this,n=t.source,i=t.arrayBuffer,r=t.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,i&&r&&r>1?_(n)||!w(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([i])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(t){for(var e=[],n=new Uint8Array(t);n.length>0;){var i=n.subarray(0,8192);e.push(String.fromCharCode.apply(null,Array.from?Array.from(i):i.slice())),n=n.subarray(8192)}return"data:image/jpeg;base64,"+btoa(e.join(""))}(i):this.imageAttributes.src=n,x(this.defaultTransforms)?this.appliedImageTransforms=Wt(this.defaultTransforms()):C(this.defaultTransforms)?this.appliedImageTransforms=Wt(this.defaultTransforms):this.appliedImageTransforms=function(t){var e=Wt({});if(t)switch(t){case 2:e.flip.horizontal=!0;break;case 3:e.rotate=-180;break;case 4:e.flip.vertical=!0;break;case 5:e.rotate=90,e.flip.vertical=!0;break;case 6:e.rotate=90;break;case 7:e.rotate=90,e.flip.horizontal=!0;break;case 8:e.rotate=-90}return e}(r),this.defaultImageTransforms=s(s({},this.appliedImageTransforms),{},{flip:s({},this.appliedImageTransforms.flip)}),this.$nextTick((function(){var t=e.$refs.image;t&&t.complete&&(function(t){return Boolean(t.naturalWidth)}(t)?e.onSuccessLoadImage():e.onFailLoadImage())}))},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(t){var e=this;this.transitionsOptions.enabled||this.awaitRender((function(){e.coordinates=e.moveAlgorithm(s(s({},e.getPublicProperties()),{},{positionRestrictions:Tt(e.positionRestrictions,e.visibleArea),coordinates:e.coordinates,event:e.normalizeEvent(t)})),e.onChange()}))},onResize:function(t){var e=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender((function(){var n=e.sizeRestrictions,i=Math.min(e.coordinates.width,e.coordinates.height,20*e.coefficient);e.coordinates=e.resizeAlgorithm(s(s({},e.getPublicProperties()),{},{positionRestrictions:Tt(e.positionRestrictions,e.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,e.visibleArea.width),maxHeight:Math.min(n.maxHeight,e.visibleArea.height),minWidth:Math.max(n.minWidth,i),minHeight:Math.max(n.minHeight,i)},event:e.normalizeEvent(t)})),e.onChange(),e.ticking=!1}))},onManipulateImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=e.transitions,i=void 0!==n&&n,r=e.normalize,o=void 0===r||r;i&&this.enableTransitions();var a=kt(s(s({},this.getPublicProperties()),{},{event:o?this.normalizeEvent(t):t,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),l=a.visibleArea,u=a.coordinates;this.visibleArea=l,this.coordinates=u,this.runAutoZoom("manipulateImage"),this.onChange(),i&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.visibleArea,n=t.type,i=void 0===n?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:e,type:i})},getAspectRatio:function(t){var e,n,i=this.stencilProps,r=i.aspectRatio,o=i.minAspectRatio,s=i.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var a=this.$refs.stencil.aspectRatios();e=a.minimum,n=a.maximum}if(S(e)&&(e=S(r)?o:r),S(n)&&(n=S(r)?s:r),!t&&(S(e)||S(n))){var l=this.getStencilSize(),u=l?tt(l):null;S(e)&&(e=O(u)?u:void 0),S(n)&&(n=O(u)?u:void 0)}return{minimum:e,maximum:n}},getStencilSize:function(){if(this.stencilSize)return t={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},e=t.boundaries,n=t.stencilSize,i=t.aspectRatio,it(tt(r=x(n)?n({boundaries:e,aspectRatio:i}):n),i)&&(r=vt({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:i.minimum,maximum:i.maximum}})),(r.width>e.width||r.height>e.height)&&(r=vt({sizeRestrictions:{maxWidth:e.width,maxHeight:e.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:tt(r),maximum:tt(r)}})),r;var t,e,n,i,r},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return s({},N)},flip:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.transitions,r=void 0===i||i;if(!this.transitionsActive){r&&this.enableTransitions();var o=s({},this.imageTransforms.flip),a=At({flip:{horizontal:t?!o.horizontal:o.horizontal,vertical:e?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),l=a.visibleArea,u=a.coordinates;t&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),e&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=l,this.coordinates=u,this.onChange(),r&&this.debouncedDisableTransitions()}},rotate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transitions,i=void 0===n||n;if(!this.transitionsActive){i&&this.enableTransitions();var r=s({},this.imageSize);this.appliedImageTransforms.rotate+=t;var o=Ot({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:r,imageSize:this.imageSize,angle:t,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=o.visibleArea,l=o.coordinates,u=this.processAutoZoom("rotateImage",a,l);a=u.visibleArea,l=u.coordinates,this.visibleArea=a,this.coordinates=l,this.onChange(),i&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},ae={key:0,ref:"canvas",style:{display:"none"}},le={key:1,ref:"sourceCanvas",style:{display:"none"}};se.render=function(t,e,n,o,s,a){return(0,i.wg)(),(0,i.j4)("div",{ref:"cropper",class:a.classes.cropper},[(0,i.Wm)("div",{ref:"stretcher",class:a.classes.stretcher},null,2),(0,i.Wm)("div",{class:a.classes.boundaries,style:a.boundariesStyle},[((0,i.wg)(),(0,i.j4)((0,i.LL)(n.backgroundWrapperComponent),{class:a.classes.cropperWrapper,"wheel-resize":a.settings.resizeImage.wheel,"touch-resize":a.settings.resizeImage.touch,"touch-move":a.settings.moveImage.touch,"mouse-move":a.settings.moveImage.mouse,onMove:a.onManipulateImage,onResize:a.onManipulateImage},{default:(0,i.w5)((function(){return[(0,i.Wm)("div",{class:a.classes.background,style:a.boundariesStyle},null,6),(0,i.Wm)("div",{class:a.classes.imageWrapper},[(0,i.Wm)("img",{ref:"image",crossorigin:s.imageAttributes.crossOrigin,src:s.imageAttributes.src,class:a.classes.image,style:a.imageStyle,onMousedown:e[1]||(e[1]=(0,r.iM)((function(){}),["prevent"]))},null,46,["crossorigin","src"])],2),(0,i.Wm)("div",{class:a.classes.foreground,style:a.boundariesStyle},null,6),(0,i.wy)(((0,i.wg)(),(0,i.j4)((0,i.LL)(n.stencilComponent),(0,i.dG)({ref:"stencil",image:a.image,coordinates:s.coordinates,"stencil-coordinates":a.stencilCoordinates,transitions:a.transitionsOptions},n.stencilProps,{onResize:a.onResize,onResizeEnd:a.onResizeEnd,onMove:a.onMove,onMoveEnd:a.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[r.F8,s.imageLoaded]]),n.canvas?((0,i.wg)(),(0,i.j4)("canvas",ae,null,512)):(0,i.kq)("",!0),n.canvas?((0,i.wg)(),(0,i.j4)("canvas",le,null,512)):(0,i.kq)("",!0)]})),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)}},1410:function(t){t.exports=function(t,e,n){const i=void 0!==t.__vccOpts?t.__vccOpts:t,r=i[e];if(void 0===r)i[e]=n;else for(var o in n)void 0===r[o]&&(r[o]=n[o])}},7617:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n}}}]);
//# sourceMappingURL=chunk-vendors.a332cf7f.js.map